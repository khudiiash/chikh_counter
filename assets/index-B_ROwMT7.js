(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Gd(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ne={},so=[],as=()=>{},pA=()=>!1,Xu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Xd=e=>e.startsWith("onUpdate:"),Re=Object.assign,Qd=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},gA=Object.prototype.hasOwnProperty,Xt=(e,t)=>gA.call(e,t),Tt=Array.isArray,io=e=>Qu(e)==="[object Map]",F0=e=>Qu(e)==="[object Set]",Dt=e=>typeof e=="function",fe=e=>typeof e=="string",Xs=e=>typeof e=="symbol",ae=e=>e!==null&&typeof e=="object",B0=e=>(ae(e)||Dt(e))&&Dt(e.then)&&Dt(e.catch),U0=Object.prototype.toString,Qu=e=>U0.call(e),mA=e=>Qu(e).slice(8,-1),H0=e=>Qu(e)==="[object Object]",Jd=e=>fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ka=Gd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ju=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},vA=/-(\w)/g,On=Ju(e=>e.replace(vA,(t,n)=>n?n.toUpperCase():"")),_A=/\B([A-Z])/g,Fi=Ju(e=>e.replace(_A,"-$1").toLowerCase()),Zu=Ju(e=>e.charAt(0).toUpperCase()+e.slice(1)),Nc=Ju(e=>e?`on${Zu(e)}`:""),Ti=(e,t)=>!Object.is(e,t),Lc=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},jf=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},zf=e=>{const t=parseFloat(e);return isNaN(t)?e:t},yA=e=>{const t=fe(e)?Number(e):NaN;return isNaN(t)?e:t};let Mm;const th=()=>Mm||(Mm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qe(e){if(Tt(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=fe(s)?EA(s):Qe(s);if(i)for(const r in i)t[r]=i[r]}return t}else if(fe(e)||ae(e))return e}const bA=/;(?![^(]*\))/g,wA=/:([^]+)/,TA=/\/\*[^]*?\*\//g;function EA(e){const t={};return e.replace(TA,"").split(bA).forEach(n=>{if(n){const s=n.split(wA);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function se(e){let t="";if(fe(e))t=e;else if(Tt(e))for(let n=0;n<e.length;n++){const s=se(e[n]);s&&(t+=s+" ")}else if(ae(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function IA(e){if(!e)return null;let{class:t,style:n}=e;return t&&!fe(t)&&(e.class=se(t)),n&&(e.style=Qe(n)),e}const SA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",AA=Gd(SA);function j0(e){return!!e||e===""}const z0=e=>!!(e&&e.__v_isRef===!0),Je=e=>fe(e)?e:e==null?"":Tt(e)||ae(e)&&(e.toString===U0||!Dt(e.toString))?z0(e)?Je(e.value):JSON.stringify(e,W0,2):String(e),W0=(e,t)=>z0(t)?W0(e,t.value):io(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],r)=>(n[Zh(s,r)+" =>"]=i,n),{})}:F0(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Zh(n))}:Xs(t)?Zh(t):ae(t)&&!Tt(t)&&!H0(t)?String(t):t,Zh=(e,t="")=>{var n;return Xs(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hn;class CA{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=hn,!t&&hn&&(this.index=(hn.scopes||(hn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=hn;try{return hn=this,t()}finally{hn=n}}}on(){++this._on===1&&(this.prevScope=hn,hn=this)}off(){this._on>0&&--this._on===0&&(hn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function xA(){return hn}let re;const tf=new WeakSet;class Y0{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,hn&&hn.active&&hn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,tf.has(this)&&(tf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||K0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Om(this),G0(this);const t=re,n=Yn;re=this,Yn=!0;try{return this.fn()}finally{X0(this),re=t,Yn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ep(t);this.deps=this.depsTail=void 0,Om(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?tf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wf(this)&&this.run()}get dirty(){return Wf(this)}}let q0=0,Da,Ra;function K0(e,t=!1){if(e.flags|=8,t){e.next=Ra,Ra=e;return}e.next=Da,Da=e}function Zd(){q0++}function tp(){if(--q0>0)return;if(Ra){let t=Ra;for(Ra=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Da;){let t=Da;for(Da=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function G0(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function X0(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),ep(s),PA(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function Wf(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Q0(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Q0(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Qa)||(e.globalVersion=Qa,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Wf(e))))return;e.flags|=2;const t=e.dep,n=re,s=Yn;re=e,Yn=!0;try{G0(e);const i=e.fn(e._value);(t.version===0||Ti(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{re=n,Yn=s,X0(e),e.flags&=-3}}function ep(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)ep(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function PA(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Yn=!0;const J0=[];function Hs(){J0.push(Yn),Yn=!1}function js(){const e=J0.pop();Yn=e===void 0?!0:e}function Om(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=re;re=void 0;try{t()}finally{re=n}}}let Qa=0;class kA{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class np{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!re||!Yn||re===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==re)n=this.activeLink=new kA(re,this),re.deps?(n.prevDep=re.depsTail,re.depsTail.nextDep=n,re.depsTail=n):re.deps=re.depsTail=n,Z0(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=re.depsTail,n.nextDep=void 0,re.depsTail.nextDep=n,re.depsTail=n,re.deps===n&&(re.deps=s)}return n}trigger(t){this.version++,Qa++,this.notify(t)}notify(t){Zd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{tp()}}}function Z0(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Z0(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const eu=new WeakMap,dr=Symbol(""),Yf=Symbol(""),Ja=Symbol("");function qe(e,t,n){if(Yn&&re){let s=eu.get(e);s||eu.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new np),i.map=s,i.key=n),i.track()}}function Ns(e,t,n,s,i,r){const o=eu.get(e);if(!o){Qa++;return}const a=l=>{l&&l.trigger()};if(Zd(),t==="clear")o.forEach(a);else{const l=Tt(e),c=l&&Jd(n);if(l&&n==="length"){const u=Number(s);o.forEach((f,d)=>{(d==="length"||d===Ja||!Xs(d)&&d>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Ja)),t){case"add":l?c&&a(o.get("length")):(a(o.get(dr)),io(e)&&a(o.get(Yf)));break;case"delete":l||(a(o.get(dr)),io(e)&&a(o.get(Yf)));break;case"set":io(e)&&a(o.get(dr));break}}tp()}function DA(e,t){const n=eu.get(e);return n&&n.get(t)}function zr(e){const t=Ht(e);return t===e?t:(qe(t,"iterate",Ja),Dn(e)?t:t.map(Le))}function eh(e){return qe(e=Ht(e),"iterate",Ja),e}const RA={__proto__:null,[Symbol.iterator](){return ef(this,Symbol.iterator,Le)},concat(...e){return zr(this).concat(...e.map(t=>Tt(t)?zr(t):t))},entries(){return ef(this,"entries",e=>(e[1]=Le(e[1]),e))},every(e,t){return As(this,"every",e,t,void 0,arguments)},filter(e,t){return As(this,"filter",e,t,n=>n.map(Le),arguments)},find(e,t){return As(this,"find",e,t,Le,arguments)},findIndex(e,t){return As(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return As(this,"findLast",e,t,Le,arguments)},findLastIndex(e,t){return As(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return As(this,"forEach",e,t,void 0,arguments)},includes(...e){return nf(this,"includes",e)},indexOf(...e){return nf(this,"indexOf",e)},join(e){return zr(this).join(e)},lastIndexOf(...e){return nf(this,"lastIndexOf",e)},map(e,t){return As(this,"map",e,t,void 0,arguments)},pop(){return ca(this,"pop")},push(...e){return ca(this,"push",e)},reduce(e,...t){return Nm(this,"reduce",e,t)},reduceRight(e,...t){return Nm(this,"reduceRight",e,t)},shift(){return ca(this,"shift")},some(e,t){return As(this,"some",e,t,void 0,arguments)},splice(...e){return ca(this,"splice",e)},toReversed(){return zr(this).toReversed()},toSorted(e){return zr(this).toSorted(e)},toSpliced(...e){return zr(this).toSpliced(...e)},unshift(...e){return ca(this,"unshift",e)},values(){return ef(this,"values",Le)}};function ef(e,t,n){const s=eh(e),i=s[t]();return s!==e&&!Dn(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const MA=Array.prototype;function As(e,t,n,s,i,r){const o=eh(e),a=o!==e&&!Dn(e),l=o[t];if(l!==MA[t]){const f=l.apply(e,r);return a?Le(f):f}let c=n;o!==e&&(a?c=function(f,d){return n.call(this,Le(f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const u=l.call(o,c,s);return a&&i?i(u):u}function Nm(e,t,n,s){const i=eh(e);let r=n;return i!==e&&(Dn(e)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,e)}):r=function(o,a,l){return n.call(this,o,Le(a),l,e)}),i[t](r,...s)}function nf(e,t,n){const s=Ht(e);qe(s,"iterate",Ja);const i=s[t](...n);return(i===-1||i===!1)&&xl(n[0])?(n[0]=Ht(n[0]),s[t](...n)):i}function ca(e,t,n=[]){Hs(),Zd();const s=Ht(e)[t].apply(e,n);return tp(),js(),s}const OA=Gd("__proto__,__v_isRef,__isVue"),tw=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Xs));function NA(e){Xs(e)||(e=String(e));const t=Ht(this);return qe(t,"has",e),t.hasOwnProperty(e)}class ew{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?WA:rw:r?iw:sw).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=Tt(t);if(!i){let l;if(o&&(l=RA[n]))return l;if(n==="hasOwnProperty")return NA}const a=Reflect.get(t,n,ke(t)?t:s);return(Xs(n)?tw.has(n):OA(n))||(i||qe(t,"get",n),r)?a:ke(a)?o&&Jd(n)?a:a.value:ae(a)?i?aw(a):Lo(a):a}}class nw extends ew{constructor(t=!1){super(!1,t)}set(t,n,s,i){let r=t[n];if(!this._isShallow){const l=ki(r);if(!Dn(s)&&!ki(s)&&(r=Ht(r),s=Ht(s)),!Tt(t)&&ke(r)&&!ke(s))return l?!1:(r.value=s,!0)}const o=Tt(t)&&Jd(n)?Number(n)<t.length:Xt(t,n),a=Reflect.set(t,n,s,ke(t)?t:i);return t===Ht(i)&&(o?Ti(s,r)&&Ns(t,"set",n,s):Ns(t,"add",n,s)),a}deleteProperty(t,n){const s=Xt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&Ns(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!Xs(n)||!tw.has(n))&&qe(t,"has",n),s}ownKeys(t){return qe(t,"iterate",Tt(t)?"length":dr),Reflect.ownKeys(t)}}class LA extends ew{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const VA=new nw,$A=new LA,FA=new nw(!0);const qf=e=>e,ac=e=>Reflect.getPrototypeOf(e);function BA(e,t,n){return function(...s){const i=this.__v_raw,r=Ht(i),o=io(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...s),u=n?qf:t?nu:Le;return!t&&qe(r,"iterate",l?Yf:dr),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function lc(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function UA(e,t){const n={get(i){const r=this.__v_raw,o=Ht(r),a=Ht(i);e||(Ti(i,a)&&qe(o,"get",i),qe(o,"get",a));const{has:l}=ac(o),c=t?qf:e?nu:Le;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!e&&qe(Ht(i),"iterate",dr),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=Ht(r),a=Ht(i);return e||(Ti(i,a)&&qe(o,"has",i),qe(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=Ht(a),c=t?qf:e?nu:Le;return!e&&qe(l,"iterate",dr),a.forEach((u,f)=>i.call(r,c(u),c(f),o))}};return Re(n,e?{add:lc("add"),set:lc("set"),delete:lc("delete"),clear:lc("clear")}:{add(i){!t&&!Dn(i)&&!ki(i)&&(i=Ht(i));const r=Ht(this);return ac(r).has.call(r,i)||(r.add(i),Ns(r,"add",i,i)),this},set(i,r){!t&&!Dn(r)&&!ki(r)&&(r=Ht(r));const o=Ht(this),{has:a,get:l}=ac(o);let c=a.call(o,i);c||(i=Ht(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Ti(r,u)&&Ns(o,"set",i,r):Ns(o,"add",i,r),this},delete(i){const r=Ht(this),{has:o,get:a}=ac(r);let l=o.call(r,i);l||(i=Ht(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Ns(r,"delete",i,void 0),c},clear(){const i=Ht(this),r=i.size!==0,o=i.clear();return r&&Ns(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=BA(i,e,t)}),n}function sp(e,t){const n=UA(e,t);return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(Xt(n,i)&&i in s?n:s,i,r)}const HA={get:sp(!1,!1)},jA={get:sp(!1,!0)},zA={get:sp(!0,!1)};const sw=new WeakMap,iw=new WeakMap,rw=new WeakMap,WA=new WeakMap;function YA(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qA(e){return e.__v_skip||!Object.isExtensible(e)?0:YA(mA(e))}function Lo(e){return ki(e)?e:ip(e,!1,VA,HA,sw)}function ow(e){return ip(e,!1,FA,jA,iw)}function aw(e){return ip(e,!0,$A,zA,rw)}function ip(e,t,n,s,i){if(!ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=qA(e);if(r===0)return e;const o=i.get(e);if(o)return o;const a=new Proxy(e,r===2?s:n);return i.set(e,a),a}function ro(e){return ki(e)?ro(e.__v_raw):!!(e&&e.__v_isReactive)}function ki(e){return!!(e&&e.__v_isReadonly)}function Dn(e){return!!(e&&e.__v_isShallow)}function xl(e){return e?!!e.__v_raw:!1}function Ht(e){const t=e&&e.__v_raw;return t?Ht(t):e}function KA(e){return!Xt(e,"__v_skip")&&Object.isExtensible(e)&&jf(e,"__v_skip",!0),e}const Le=e=>ae(e)?Lo(e):e,nu=e=>ae(e)?aw(e):e;function ke(e){return e?e.__v_isRef===!0:!1}function Vt(e){return lw(e,!1)}function rp(e){return lw(e,!0)}function lw(e,t){return ke(e)?e:new GA(e,t)}class GA{constructor(t,n){this.dep=new np,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ht(t),this._value=n?t:Le(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Dn(t)||ki(t);t=s?t:Ht(t),Ti(t,n)&&(this._rawValue=t,this._value=s?t:Le(t),this.dep.trigger())}}function ft(e){return ke(e)?e.value:e}const XA={get:(e,t,n)=>t==="__v_raw"?e:ft(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return ke(i)&&!ke(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function cw(e){return ro(e)?e:new Proxy(e,XA)}function QA(e){const t=Tt(e)?new Array(e.length):{};for(const n in e)t[n]=uw(e,n);return t}class JA{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return DA(Ht(this._object),this._key)}}class ZA{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function tC(e,t,n){return ke(e)?e:Dt(e)?new ZA(e):ae(e)&&arguments.length>1?uw(e,t,n):Vt(e)}function uw(e,t,n){const s=e[t];return ke(s)?s:new JA(e,t,n)}class eC{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new np(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&re!==this)return K0(this,!0),!0}get value(){const t=this.dep.track();return Q0(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function nC(e,t,n=!1){let s,i;return Dt(e)?s=e:(s=e.get,i=e.set),new eC(s,i,n)}const cc={},su=new WeakMap;let nr;function sC(e,t=!1,n=nr){if(n){let s=su.get(n);s||su.set(n,s=[]),s.push(e)}}function iC(e,t,n=ne){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=k=>i?k:Dn(k)||i===!1||i===0?Ls(k,1):Ls(k);let u,f,d,p,m=!1,_=!1;if(ke(e)?(f=()=>e.value,m=Dn(e)):ro(e)?(f=()=>c(e),m=!0):Tt(e)?(_=!0,m=e.some(k=>ro(k)||Dn(k)),f=()=>e.map(k=>{if(ke(k))return k.value;if(ro(k))return c(k);if(Dt(k))return l?l(k,2):k()})):Dt(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){Hs();try{d()}finally{js()}}const k=nr;nr=u;try{return l?l(e,3,[p]):e(p)}finally{nr=k}}:f=as,t&&i){const k=f,O=i===!0?1/0:i;f=()=>Ls(k(),O)}const y=xA(),T=()=>{u.stop(),y&&y.active&&Qd(y.effects,u)};if(r&&t){const k=t;t=(...O)=>{k(...O),T()}}let R=_?new Array(e.length).fill(cc):cc;const D=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(t){const O=u.run();if(i||m||(_?O.some((L,E)=>Ti(L,R[E])):Ti(O,R))){d&&d();const L=nr;nr=u;try{const E=[O,R===cc?void 0:_&&R[0]===cc?[]:R,p];R=O,l?l(t,3,E):t(...E)}finally{nr=L}}}else u.run()};return a&&a(D),u=new Y0(f),u.scheduler=o?()=>o(D,!1):D,p=k=>sC(k,!1,u),d=u.onStop=()=>{const k=su.get(u);if(k){if(l)l(k,4);else for(const O of k)O();su.delete(u)}},t?s?D(!0):R=u.run():o?o(D.bind(null,!0),!0):u.run(),T.pause=u.pause.bind(u),T.resume=u.resume.bind(u),T.stop=T,T}function Ls(e,t=1/0,n){if(t<=0||!ae(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ke(e))Ls(e.value,t,n);else if(Tt(e))for(let s=0;s<e.length;s++)Ls(e[s],t,n);else if(F0(e)||io(e))e.forEach(s=>{Ls(s,t,n)});else if(H0(e)){for(const s in e)Ls(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Ls(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pl(e,t,n,s){try{return s?e(...s):e()}catch(i){nh(i,t,n)}}function qn(e,t,n,s){if(Dt(e)){const i=Pl(e,t,n,s);return i&&B0(i)&&i.catch(r=>{nh(r,t,n)}),i}if(Tt(e)){const i=[];for(let r=0;r<e.length;r++)i.push(qn(e[r],t,n,s));return i}}function nh(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ne;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(r){Hs(),Pl(r,null,10,[e,l,c]),js();return}}rC(e,n,i,s,o)}function rC(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const rn=[];let es=-1;const oo=[];let ui=null,qr=0;const hw=Promise.resolve();let iu=null;function mo(e){const t=iu||hw;return e?t.then(this?e.bind(this):e):t}function oC(e){let t=es+1,n=rn.length;for(;t<n;){const s=t+n>>>1,i=rn[s],r=Za(i);r<e||r===e&&i.flags&2?t=s+1:n=s}return t}function op(e){if(!(e.flags&1)){const t=Za(e),n=rn[rn.length-1];!n||!(e.flags&2)&&t>=Za(n)?rn.push(e):rn.splice(oC(t),0,e),e.flags|=1,fw()}}function fw(){iu||(iu=hw.then(pw))}function aC(e){Tt(e)?oo.push(...e):ui&&e.id===-1?ui.splice(qr+1,0,e):e.flags&1||(oo.push(e),e.flags|=1),fw()}function Lm(e,t,n=es+1){for(;n<rn.length;n++){const s=rn[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;rn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function dw(e){if(oo.length){const t=[...new Set(oo)].sort((n,s)=>Za(n)-Za(s));if(oo.length=0,ui){ui.push(...t);return}for(ui=t,qr=0;qr<ui.length;qr++){const n=ui[qr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ui=null,qr=0}}const Za=e=>e.id==null?e.flags&2?-1:1/0:e.id;function pw(e){try{for(es=0;es<rn.length;es++){const t=rn[es];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Pl(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;es<rn.length;es++){const t=rn[es];t&&(t.flags&=-2)}es=-1,rn.length=0,dw(),iu=null,(rn.length||oo.length)&&pw()}}let Pe=null,gw=null;function ru(e){const t=Pe;return Pe=e,gw=e&&e.type.__scopeId||null,t}function me(e,t=Pe,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&qm(-1);const r=ru(t);let o;try{o=e(...i)}finally{ru(r),s._d&&qm(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ou(e,t){if(Pe===null)return e;const n=ch(Pe),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,l=ne]=t[i];r&&(Dt(r)&&(r={mounted:r,updated:r}),r.deep&&Ls(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Gi(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Hs(),qn(l,n,8,[e.el,a,e,t]),js())}}const lC=Symbol("_vte"),mw=e=>e.__isTeleport,hi=Symbol("_leaveCb"),uc=Symbol("_enterCb");function cC(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ys(()=>{e.isMounted=!0}),Iw(()=>{e.isUnmounting=!0}),e}const Sn=[Function,Array],vw={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Sn,onEnter:Sn,onAfterEnter:Sn,onEnterCancelled:Sn,onBeforeLeave:Sn,onLeave:Sn,onAfterLeave:Sn,onLeaveCancelled:Sn,onBeforeAppear:Sn,onAppear:Sn,onAfterAppear:Sn,onAppearCancelled:Sn},_w=e=>{const t=e.subTree;return t.component?_w(t.component):t},uC={name:"BaseTransition",props:vw,setup(e,{slots:t}){const n=qw(),s=cC();return()=>{const i=t.default&&ww(t.default(),!0);if(!i||!i.length)return;const r=yw(i),o=Ht(e),{mode:a}=o;if(s.isLeaving)return sf(r);const l=Vm(r);if(!l)return sf(r);let c=Kf(l,o,s,n,f=>c=f);l.type!==Ge&&tl(l,c);let u=n.subTree&&Vm(n.subTree);if(u&&u.type!==Ge&&!ar(l,u)&&_w(n).type!==Ge){let f=Kf(u,o,s,n);if(tl(u,f),a==="out-in"&&l.type!==Ge)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},sf(r);a==="in-out"&&l.type!==Ge?f.delayLeave=(d,p,m)=>{const _=bw(s,u);_[String(u.key)]=u,d[hi]=()=>{p(),d[hi]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function yw(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Ge){t=n;break}}return t}const hC=uC;function bw(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Kf(e,t,n,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:m,onLeaveCancelled:_,onBeforeAppear:y,onAppear:T,onAfterAppear:R,onAppearCancelled:D}=t,k=String(e.key),O=bw(n,e),L=(w,A)=>{w&&qn(w,s,9,A)},E=(w,A)=>{const x=A[1];L(w,A),Tt(w)?w.every(C=>C.length<=1)&&x():w.length<=1&&x()},b={mode:o,persisted:a,beforeEnter(w){let A=l;if(!n.isMounted)if(r)A=y||l;else return;w[hi]&&w[hi](!0);const x=O[k];x&&ar(e,x)&&x.el[hi]&&x.el[hi](),L(A,[w])},enter(w){let A=c,x=u,C=f;if(!n.isMounted)if(r)A=T||c,x=R||u,C=D||f;else return;let S=!1;const dt=w[uc]=Q=>{S||(S=!0,Q?L(C,[w]):L(x,[w]),b.delayedLeave&&b.delayedLeave(),w[uc]=void 0)};A?E(A,[w,dt]):dt()},leave(w,A){const x=String(e.key);if(w[uc]&&w[uc](!0),n.isUnmounting)return A();L(d,[w]);let C=!1;const S=w[hi]=dt=>{C||(C=!0,A(),dt?L(_,[w]):L(m,[w]),w[hi]=void 0,O[x]===e&&delete O[x])};O[x]=e,p?E(p,[w,S]):S()},clone(w){const A=Kf(w,t,n,s,i);return i&&i(A),A}};return b}function sf(e){if(sh(e))return e=Di(e),e.children=null,e}function Vm(e){if(!sh(e))return mw(e.type)&&e.children?yw(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Dt(n.default))return n.default()}}function tl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,tl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ww(e,t=!1,n){let s=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===te?(o.patchFlag&128&&i++,s=s.concat(ww(o.children,t,a))):(t||o.type!==Ge)&&s.push(a!=null?Di(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function tn(e,t){return Dt(e)?Re({name:e.name},t,{setup:e}):e}function Tw(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ma(e,t,n,s,i=!1){if(Tt(e)){e.forEach((m,_)=>Ma(m,t&&(Tt(t)?t[_]:t),n,s,i));return}if(ao(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ma(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?ch(s.component):s.el,o=i?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ne?a.refs={}:a.refs,f=a.setupState,d=Ht(f),p=f===ne?()=>!1:m=>Xt(d,m);if(c!=null&&c!==l&&(fe(c)?(u[c]=null,p(c)&&(f[c]=null)):ke(c)&&(c.value=null)),Dt(l))Pl(l,a,12,[o,u]);else{const m=fe(l),_=ke(l);if(m||_){const y=()=>{if(e.f){const T=m?p(l)?f[l]:u[l]:l.value;i?Tt(T)&&Qd(T,r):Tt(T)?T.includes(r)||T.push(r):m?(u[l]=[r],p(l)&&(f[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else m?(u[l]=o,p(l)&&(f[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};o?(y.id=-1,bn(y,n)):y()}}}th().requestIdleCallback;th().cancelIdleCallback;const ao=e=>!!e.type.__asyncLoader,sh=e=>e.type.__isKeepAlive;function fC(e,t){Ew(e,"a",t)}function dC(e,t){Ew(e,"da",t)}function Ew(e,t,n=Ve){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ih(t,s,n),n){let i=n.parent;for(;i&&i.parent;)sh(i.parent.vnode)&&pC(s,t,n,i),i=i.parent}}function pC(e,t,n,s){const i=ih(t,e,s,!0);Vo(()=>{Qd(s[t],i)},n)}function ih(e,t,n=Ve,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{Hs();const a=Dl(n),l=qn(t,n,e,o);return a(),js(),l});return s?i.unshift(r):i.push(r),r}}const Qs=e=>(t,n=Ve)=>{(!sl||e==="sp")&&ih(e,(...s)=>t(...s),n)},gC=Qs("bm"),ys=Qs("m"),mC=Qs("bu"),vC=Qs("u"),Iw=Qs("bum"),Vo=Qs("um"),_C=Qs("sp"),yC=Qs("rtg"),bC=Qs("rtc");function wC(e,t=Ve){ih("ec",e,t)}const ap="components",TC="directives";function Ms(e,t){return lp(ap,e,!0,t)||e}const Sw=Symbol.for("v-ndc");function Aw(e){return fe(e)?lp(ap,e,!1)||e:e||Sw}function EC(e){return lp(TC,e)}function lp(e,t,n=!0,s=!1){const i=Pe||Ve;if(i){const r=i.type;if(e===ap){const a=cx(r,!1);if(a&&(a===t||a===On(t)||a===Zu(On(t))))return r}const o=$m(i[e]||r[e],t)||$m(i.appContext[e],t);return!o&&s?r:o}}function $m(e,t){return e&&(e[t]||e[On(t)]||e[Zu(On(t))])}function pn(e,t,n,s){let i;const r=n,o=Tt(e);if(o||fe(e)){const a=o&&ro(e);let l=!1,c=!1;a&&(l=!Dn(e),c=ki(e),e=eh(e)),i=new Array(e.length);for(let u=0,f=e.length;u<f;u++)i[u]=t(l?c?nu(Le(e[u])):Le(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,r)}else if(ae(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,r));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,r)}}else i=[];return i}function rh(e,t,n={},s,i){if(Pe.ce||Pe.parent&&ao(Pe.parent)&&Pe.parent.ce)return lt(),Nn(te,null,[xt("slot",n,s&&s())],64);let r=e[t];r&&r._c&&(r._d=!1),lt();const o=r&&Cw(r(n)),a=n.key||o&&o.key,l=Nn(te,{key:(a&&!Xs(a)?a:`_${t}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Cw(e){return e.some(t=>nl(t)?!(t.type===Ge||t.type===te&&!Cw(t.children)):!0)?e:null}function IC(e,t){const n={};for(const s in e)n[/[A-Z]/.test(s)?`on:${s}`:Nc(s)]=e[s];return n}const Gf=e=>e?Kw(e)?ch(e):Gf(e.parent):null,Oa=Re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Gf(e.parent),$root:e=>Gf(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Pw(e),$forceUpdate:e=>e.f||(e.f=()=>{op(e.update)}),$nextTick:e=>e.n||(e.n=mo.bind(e.proxy)),$watch:e=>WC.bind(e)}),rf=(e,t)=>e!==ne&&!e.__isScriptSetup&&Xt(e,t),SC={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(rf(s,t))return o[t]=1,s[t];if(i!==ne&&Xt(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&Xt(c,t))return o[t]=3,r[t];if(n!==ne&&Xt(n,t))return o[t]=4,n[t];Xf&&(o[t]=0)}}const u=Oa[t];let f,d;if(u)return t==="$attrs"&&qe(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==ne&&Xt(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Xt(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return rf(i,t)?(i[t]=n,!0):s!==ne&&Xt(s,t)?(s[t]=n,!0):Xt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||e!==ne&&Xt(e,o)||rf(t,o)||(a=r[0])&&Xt(a,o)||Xt(s,o)||Xt(Oa,o)||Xt(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Xt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Fm(e){return Tt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Xf=!0;function AC(e){const t=Pw(e),n=e.proxy,s=e.ctx;Xf=!1,t.beforeCreate&&Bm(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:p,updated:m,activated:_,deactivated:y,beforeDestroy:T,beforeUnmount:R,destroyed:D,unmounted:k,render:O,renderTracked:L,renderTriggered:E,errorCaptured:b,serverPrefetch:w,expose:A,inheritAttrs:x,components:C,directives:S,filters:dt}=t;if(c&&CC(c,s,null),o)for(const ot in o){const mt=o[ot];Dt(mt)&&(s[ot]=mt.bind(n))}if(i){const ot=i.call(n,n);ae(ot)&&(e.data=Lo(ot))}if(Xf=!0,r)for(const ot in r){const mt=r[ot],Nt=Dt(mt)?mt.bind(n,n):Dt(mt.get)?mt.get.bind(n,n):as,z=!Dt(mt)&&Dt(mt.set)?mt.set.bind(n):as,At=G({get:Nt,set:z});Object.defineProperty(s,ot,{enumerable:!0,configurable:!0,get:()=>At.value,set:et=>At.value=et})}if(a)for(const ot in a)xw(a[ot],s,n,ot);if(l){const ot=Dt(l)?l.call(n):l;Reflect.ownKeys(ot).forEach(mt=>{Ei(mt,ot[mt])})}u&&Bm(u,e,"c");function at(ot,mt){Tt(mt)?mt.forEach(Nt=>ot(Nt.bind(n))):mt&&ot(mt.bind(n))}if(at(gC,f),at(ys,d),at(mC,p),at(vC,m),at(fC,_),at(dC,y),at(wC,b),at(bC,L),at(yC,E),at(Iw,R),at(Vo,k),at(_C,w),Tt(A))if(A.length){const ot=e.exposed||(e.exposed={});A.forEach(mt=>{Object.defineProperty(ot,mt,{get:()=>n[mt],set:Nt=>n[mt]=Nt})})}else e.exposed||(e.exposed={});O&&e.render===as&&(e.render=O),x!=null&&(e.inheritAttrs=x),C&&(e.components=C),S&&(e.directives=S),w&&Tw(e)}function CC(e,t,n=as){Tt(e)&&(e=Qf(e));for(const s in e){const i=e[s];let r;ae(i)?"default"in i?r=gn(i.from||s,i.default,!0):r=gn(i.from||s):r=gn(i),ke(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function Bm(e,t,n){qn(Tt(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function xw(e,t,n,s){let i=s.includes(".")?Hw(n,s):()=>n[s];if(fe(e)){const r=t[e];Dt(r)&&an(i,r)}else if(Dt(e))an(i,e.bind(n));else if(ae(e))if(Tt(e))e.forEach(r=>xw(r,t,n,s));else{const r=Dt(e.handler)?e.handler.bind(n):t[e.handler];Dt(r)&&an(i,r,e)}}function Pw(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!n&&!s?l=t:(l={},i.length&&i.forEach(c=>au(l,c,o,!0)),au(l,t,o)),ae(t)&&r.set(t,l),l}function au(e,t,n,s=!1){const{mixins:i,extends:r}=t;r&&au(e,r,n,!0),i&&i.forEach(o=>au(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=xC[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const xC={data:Um,props:Hm,emits:Hm,methods:ba,computed:ba,beforeCreate:sn,created:sn,beforeMount:sn,mounted:sn,beforeUpdate:sn,updated:sn,beforeDestroy:sn,beforeUnmount:sn,destroyed:sn,unmounted:sn,activated:sn,deactivated:sn,errorCaptured:sn,serverPrefetch:sn,components:ba,directives:ba,watch:kC,provide:Um,inject:PC};function Um(e,t){return t?e?function(){return Re(Dt(e)?e.call(this,this):e,Dt(t)?t.call(this,this):t)}:t:e}function PC(e,t){return ba(Qf(e),Qf(t))}function Qf(e){if(Tt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function sn(e,t){return e?[...new Set([].concat(e,t))]:t}function ba(e,t){return e?Re(Object.create(null),e,t):t}function Hm(e,t){return e?Tt(e)&&Tt(t)?[...new Set([...e,...t])]:Re(Object.create(null),Fm(e),Fm(t??{})):t}function kC(e,t){if(!e)return t;if(!t)return e;const n=Re(Object.create(null),e);for(const s in t)n[s]=sn(e[s],t[s]);return n}function kw(){return{app:null,config:{isNativeTag:pA,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let DC=0;function RC(e,t){return function(s,i=null){Dt(s)||(s=Re({},s)),i!=null&&!ae(i)&&(i=null);const r=kw(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:DC++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Xw,get config(){return r.config},set config(u){},use(u,...f){return o.has(u)||(u&&Dt(u.install)?(o.add(u),u.install(c,...f)):Dt(u)&&(o.add(u),u(c,...f))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,f){return f?(r.components[u]=f,c):r.components[u]},directive(u,f){return f?(r.directives[u]=f,c):r.directives[u]},mount(u,f,d){if(!l){const p=c._ceVNode||xt(s,i);return p.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),e(p,u,d),l=!0,c._container=u,u.__vue_app__=c,ch(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(qn(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return r.provides[u]=f,c},runWithContext(u){const f=lo;lo=c;try{return u()}finally{lo=f}}};return c}}let lo=null;function Ei(e,t){if(Ve){let n=Ve.provides;const s=Ve.parent&&Ve.parent.provides;s===n&&(n=Ve.provides=Object.create(s)),n[e]=t}}function gn(e,t,n=!1){const s=Ve||Pe;if(s||lo){let i=lo?lo._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Dt(t)?t.call(s&&s.proxy):t}}const Dw={},Rw=()=>Object.create(Dw),Mw=e=>Object.getPrototypeOf(e)===Dw;function MC(e,t,n,s=!1){const i={},r=Rw();e.propsDefaults=Object.create(null),Ow(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=s?i:ow(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function OC(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=Ht(i),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(oh(e.emitsOptions,d))continue;const p=t[d];if(l)if(Xt(r,d))p!==r[d]&&(r[d]=p,c=!0);else{const m=On(d);i[m]=Jf(l,a,m,p,e,!1)}else p!==r[d]&&(r[d]=p,c=!0)}}}else{Ow(e,t,i,r)&&(c=!0);let u;for(const f in a)(!t||!Xt(t,f)&&((u=Fi(f))===f||!Xt(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=Jf(l,a,f,void 0,e,!0)):delete i[f]);if(r!==a)for(const f in r)(!t||!Xt(t,f))&&(delete r[f],c=!0)}c&&Ns(e.attrs,"set","")}function Ow(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(ka(l))continue;const c=t[l];let u;i&&Xt(i,u=On(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:oh(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=Ht(n),c=a||ne;for(let u=0;u<r.length;u++){const f=r[u];n[f]=Jf(i,l,f,c[f],e,!Xt(c,f))}}return o}function Jf(e,t,n,s,i,r){const o=e[n];if(o!=null){const a=Xt(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Dt(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=Dl(i);s=c[n]=l.call(null,t),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Fi(n))&&(s=!0))}return s}const NC=new WeakMap;function Nw(e,t,n=!1){const s=n?NC:t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!Dt(e)){const u=f=>{l=!0;const[d,p]=Nw(f,t,!0);Re(o,d),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return ae(e)&&s.set(e,so),so;if(Tt(r))for(let u=0;u<r.length;u++){const f=On(r[u]);jm(f)&&(o[f]=ne)}else if(r)for(const u in r){const f=On(u);if(jm(f)){const d=r[u],p=o[f]=Tt(d)||Dt(d)?{type:d}:Re({},d),m=p.type;let _=!1,y=!0;if(Tt(m))for(let T=0;T<m.length;++T){const R=m[T],D=Dt(R)&&R.name;if(D==="Boolean"){_=!0;break}else D==="String"&&(y=!1)}else _=Dt(m)&&m.name==="Boolean";p[0]=_,p[1]=y,(_||Xt(p,"default"))&&a.push(f)}}const c=[o,a];return ae(e)&&s.set(e,c),c}function jm(e){return e[0]!=="$"&&!ka(e)}const cp=e=>e[0]==="_"||e==="$stable",up=e=>Tt(e)?e.map(is):[is(e)],LC=(e,t,n)=>{if(t._n)return t;const s=me((...i)=>up(t(...i)),n);return s._c=!1,s},Lw=(e,t,n)=>{const s=e._ctx;for(const i in e){if(cp(i))continue;const r=e[i];if(Dt(r))t[i]=LC(i,r,s);else if(r!=null){const o=up(r);t[i]=()=>o}}},Vw=(e,t)=>{const n=up(t);e.slots.default=()=>n},$w=(e,t,n)=>{for(const s in t)(n||!cp(s))&&(e[s]=t[s])},VC=(e,t,n)=>{const s=e.slots=Rw();if(e.vnode.shapeFlag&32){const i=t.__;i&&jf(s,"__",i,!0);const r=t._;r?($w(s,t,n),n&&jf(s,"_",r,!0)):Lw(t,s)}else t&&Vw(e,t)},$C=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=ne;if(s.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:$w(i,t,n):(r=!t.$stable,Lw(t,i)),o=t}else t&&(Vw(e,t),o={default:1});if(r)for(const a in i)!cp(a)&&o[a]==null&&delete i[a]},bn=JC;function FC(e){return BC(e)}function BC(e,t){const n=th();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:p=as,insertStaticContent:m}=e,_=(P,M,N,B=null,H=null,U=null,it=void 0,J=null,K=!!M.dynamicChildren)=>{if(P===M)return;P&&!ar(P,M)&&(B=F(P),et(P,H,U,!0),P=null),M.patchFlag===-2&&(K=!1,M.dynamicChildren=null);const{type:W,ref:pt,shapeFlag:nt}=M;switch(W){case ah:y(P,M,N,B);break;case Ge:T(P,M,N,B);break;case af:P==null&&R(M,N,B,it);break;case te:C(P,M,N,B,H,U,it,J,K);break;default:nt&1?O(P,M,N,B,H,U,it,J,K):nt&6?S(P,M,N,B,H,U,it,J,K):(nt&64||nt&128)&&W.process(P,M,N,B,H,U,it,J,K,ct)}pt!=null&&H?Ma(pt,P&&P.ref,U,M||P,!M):pt==null&&P&&P.ref!=null&&Ma(P.ref,null,U,P,!0)},y=(P,M,N,B)=>{if(P==null)s(M.el=a(M.children),N,B);else{const H=M.el=P.el;M.children!==P.children&&c(H,M.children)}},T=(P,M,N,B)=>{P==null?s(M.el=l(M.children||""),N,B):M.el=P.el},R=(P,M,N,B)=>{[P.el,P.anchor]=m(P.children,M,N,B,P.el,P.anchor)},D=({el:P,anchor:M},N,B)=>{let H;for(;P&&P!==M;)H=d(P),s(P,N,B),P=H;s(M,N,B)},k=({el:P,anchor:M})=>{let N;for(;P&&P!==M;)N=d(P),i(P),P=N;i(M)},O=(P,M,N,B,H,U,it,J,K)=>{M.type==="svg"?it="svg":M.type==="math"&&(it="mathml"),P==null?L(M,N,B,H,U,it,J,K):w(P,M,H,U,it,J,K)},L=(P,M,N,B,H,U,it,J)=>{let K,W;const{props:pt,shapeFlag:nt,transition:ht,dirs:yt}=P;if(K=P.el=o(P.type,U,pt&&pt.is,pt),nt&8?u(K,P.children):nt&16&&b(P.children,K,null,B,H,of(P,U),it,J),yt&&Gi(P,null,B,"created"),E(K,P,P.scopeId,it,B),pt){for(const It in pt)It!=="value"&&!ka(It)&&r(K,It,null,pt[It],U,B);"value"in pt&&r(K,"value",null,pt.value,U),(W=pt.onVnodeBeforeMount)&&Jn(W,B,P)}yt&&Gi(P,null,B,"beforeMount");const vt=UC(H,ht);vt&&ht.beforeEnter(K),s(K,M,N),((W=pt&&pt.onVnodeMounted)||vt||yt)&&bn(()=>{W&&Jn(W,B,P),vt&&ht.enter(K),yt&&Gi(P,null,B,"mounted")},H)},E=(P,M,N,B,H)=>{if(N&&p(P,N),B)for(let U=0;U<B.length;U++)p(P,B[U]);if(H){let U=H.subTree;if(M===U||zw(U.type)&&(U.ssContent===M||U.ssFallback===M)){const it=H.vnode;E(P,it,it.scopeId,it.slotScopeIds,H.parent)}}},b=(P,M,N,B,H,U,it,J,K=0)=>{for(let W=K;W<P.length;W++){const pt=P[W]=J?fi(P[W]):is(P[W]);_(null,pt,M,N,B,H,U,it,J)}},w=(P,M,N,B,H,U,it)=>{const J=M.el=P.el;let{patchFlag:K,dynamicChildren:W,dirs:pt}=M;K|=P.patchFlag&16;const nt=P.props||ne,ht=M.props||ne;let yt;if(N&&Xi(N,!1),(yt=ht.onVnodeBeforeUpdate)&&Jn(yt,N,M,P),pt&&Gi(M,P,N,"beforeUpdate"),N&&Xi(N,!0),(nt.innerHTML&&ht.innerHTML==null||nt.textContent&&ht.textContent==null)&&u(J,""),W?A(P.dynamicChildren,W,J,N,B,of(M,H),U):it||mt(P,M,J,null,N,B,of(M,H),U,!1),K>0){if(K&16)x(J,nt,ht,N,H);else if(K&2&&nt.class!==ht.class&&r(J,"class",null,ht.class,H),K&4&&r(J,"style",nt.style,ht.style,H),K&8){const vt=M.dynamicProps;for(let It=0;It<vt.length;It++){const Lt=vt[It],be=nt[Lt],we=ht[Lt];(we!==be||Lt==="value")&&r(J,Lt,be,we,H,N)}}K&1&&P.children!==M.children&&u(J,M.children)}else!it&&W==null&&x(J,nt,ht,N,H);((yt=ht.onVnodeUpdated)||pt)&&bn(()=>{yt&&Jn(yt,N,M,P),pt&&Gi(M,P,N,"updated")},B)},A=(P,M,N,B,H,U,it)=>{for(let J=0;J<M.length;J++){const K=P[J],W=M[J],pt=K.el&&(K.type===te||!ar(K,W)||K.shapeFlag&198)?f(K.el):N;_(K,W,pt,null,B,H,U,it,!0)}},x=(P,M,N,B,H)=>{if(M!==N){if(M!==ne)for(const U in M)!ka(U)&&!(U in N)&&r(P,U,M[U],null,H,B);for(const U in N){if(ka(U))continue;const it=N[U],J=M[U];it!==J&&U!=="value"&&r(P,U,J,it,H,B)}"value"in N&&r(P,"value",M.value,N.value,H)}},C=(P,M,N,B,H,U,it,J,K)=>{const W=M.el=P?P.el:a(""),pt=M.anchor=P?P.anchor:a("");let{patchFlag:nt,dynamicChildren:ht,slotScopeIds:yt}=M;yt&&(J=J?J.concat(yt):yt),P==null?(s(W,N,B),s(pt,N,B),b(M.children||[],N,pt,H,U,it,J,K)):nt>0&&nt&64&&ht&&P.dynamicChildren?(A(P.dynamicChildren,ht,N,H,U,it,J),(M.key!=null||H&&M===H.subTree)&&Fw(P,M,!0)):mt(P,M,N,pt,H,U,it,J,K)},S=(P,M,N,B,H,U,it,J,K)=>{M.slotScopeIds=J,P==null?M.shapeFlag&512?H.ctx.activate(M,N,B,it,K):dt(M,N,B,H,U,it,K):Q(P,M,K)},dt=(P,M,N,B,H,U,it)=>{const J=P.component=ix(P,B,H);if(sh(P)&&(J.ctx.renderer=ct),rx(J,!1,it),J.asyncDep){if(H&&H.registerDep(J,at,it),!P.el){const K=J.subTree=xt(Ge);T(null,K,M,N)}}else at(J,P,M,N,H,U,it)},Q=(P,M,N)=>{const B=M.component=P.component;if(XC(P,M,N))if(B.asyncDep&&!B.asyncResolved){ot(B,M,N);return}else B.next=M,B.update();else M.el=P.el,B.vnode=M},at=(P,M,N,B,H,U,it)=>{const J=()=>{if(P.isMounted){let{next:nt,bu:ht,u:yt,parent:vt,vnode:It}=P;{const Ae=Bw(P);if(Ae){nt&&(nt.el=It.el,ot(P,nt,it)),Ae.asyncDep.then(()=>{P.isUnmounted||J()});return}}let Lt=nt,be;Xi(P,!1),nt?(nt.el=It.el,ot(P,nt,it)):nt=It,ht&&Lc(ht),(be=nt.props&&nt.props.onVnodeBeforeUpdate)&&Jn(be,vt,nt,It),Xi(P,!0);const we=Wm(P),cn=P.subTree;P.subTree=we,_(cn,we,f(cn.el),F(cn),P,H,U),nt.el=we.el,Lt===null&&QC(P,we.el),yt&&bn(yt,H),(be=nt.props&&nt.props.onVnodeUpdated)&&bn(()=>Jn(be,vt,nt,It),H)}else{let nt;const{el:ht,props:yt}=M,{bm:vt,m:It,parent:Lt,root:be,type:we}=P,cn=ao(M);Xi(P,!1),vt&&Lc(vt),!cn&&(nt=yt&&yt.onVnodeBeforeMount)&&Jn(nt,Lt,M),Xi(P,!0);{be.ce&&be.ce._def.shadowRoot!==!1&&be.ce._injectChildStyle(we);const Ae=P.subTree=Wm(P);_(null,Ae,N,B,P,H,U),M.el=Ae.el}if(It&&bn(It,H),!cn&&(nt=yt&&yt.onVnodeMounted)){const Ae=M;bn(()=>Jn(nt,Lt,Ae),H)}(M.shapeFlag&256||Lt&&ao(Lt.vnode)&&Lt.vnode.shapeFlag&256)&&P.a&&bn(P.a,H),P.isMounted=!0,M=N=B=null}};P.scope.on();const K=P.effect=new Y0(J);P.scope.off();const W=P.update=K.run.bind(K),pt=P.job=K.runIfDirty.bind(K);pt.i=P,pt.id=P.uid,K.scheduler=()=>op(pt),Xi(P,!0),W()},ot=(P,M,N)=>{M.component=P;const B=P.vnode.props;P.vnode=M,P.next=null,OC(P,M.props,B,N),$C(P,M.children,N),Hs(),Lm(P),js()},mt=(P,M,N,B,H,U,it,J,K=!1)=>{const W=P&&P.children,pt=P?P.shapeFlag:0,nt=M.children,{patchFlag:ht,shapeFlag:yt}=M;if(ht>0){if(ht&128){z(W,nt,N,B,H,U,it,J,K);return}else if(ht&256){Nt(W,nt,N,B,H,U,it,J,K);return}}yt&8?(pt&16&&Ut(W,H,U),nt!==W&&u(N,nt)):pt&16?yt&16?z(W,nt,N,B,H,U,it,J,K):Ut(W,H,U,!0):(pt&8&&u(N,""),yt&16&&b(nt,N,B,H,U,it,J,K))},Nt=(P,M,N,B,H,U,it,J,K)=>{P=P||so,M=M||so;const W=P.length,pt=M.length,nt=Math.min(W,pt);let ht;for(ht=0;ht<nt;ht++){const yt=M[ht]=K?fi(M[ht]):is(M[ht]);_(P[ht],yt,N,null,H,U,it,J,K)}W>pt?Ut(P,H,U,!0,!1,nt):b(M,N,B,H,U,it,J,K,nt)},z=(P,M,N,B,H,U,it,J,K)=>{let W=0;const pt=M.length;let nt=P.length-1,ht=pt-1;for(;W<=nt&&W<=ht;){const yt=P[W],vt=M[W]=K?fi(M[W]):is(M[W]);if(ar(yt,vt))_(yt,vt,N,null,H,U,it,J,K);else break;W++}for(;W<=nt&&W<=ht;){const yt=P[nt],vt=M[ht]=K?fi(M[ht]):is(M[ht]);if(ar(yt,vt))_(yt,vt,N,null,H,U,it,J,K);else break;nt--,ht--}if(W>nt){if(W<=ht){const yt=ht+1,vt=yt<pt?M[yt].el:B;for(;W<=ht;)_(null,M[W]=K?fi(M[W]):is(M[W]),N,vt,H,U,it,J,K),W++}}else if(W>ht)for(;W<=nt;)et(P[W],H,U,!0),W++;else{const yt=W,vt=W,It=new Map;for(W=vt;W<=ht;W++){const Te=M[W]=K?fi(M[W]):is(M[W]);Te.key!=null&&It.set(Te.key,W)}let Lt,be=0;const we=ht-vt+1;let cn=!1,Ae=0;const Un=new Array(we);for(W=0;W<we;W++)Un[W]=0;for(W=yt;W<=nt;W++){const Te=P[W];if(be>=we){et(Te,H,U,!0);continue}let nn;if(Te.key!=null)nn=It.get(Te.key);else for(Lt=vt;Lt<=ht;Lt++)if(Un[Lt-vt]===0&&ar(Te,M[Lt])){nn=Lt;break}nn===void 0?et(Te,H,U,!0):(Un[nn-vt]=W+1,nn>=Ae?Ae=nn:cn=!0,_(Te,M[nn],N,null,H,U,it,J,K),be++)}const zi=cn?HC(Un):so;for(Lt=zi.length-1,W=we-1;W>=0;W--){const Te=vt+W,nn=M[Te],Y=Te+1<pt?M[Te+1].el:B;Un[W]===0?_(null,nn,N,Y,H,U,it,J,K):cn&&(Lt<0||W!==zi[Lt]?At(nn,N,Y,2):Lt--)}}},At=(P,M,N,B,H=null)=>{const{el:U,type:it,transition:J,children:K,shapeFlag:W}=P;if(W&6){At(P.component.subTree,M,N,B);return}if(W&128){P.suspense.move(M,N,B);return}if(W&64){it.move(P,M,N,ct);return}if(it===te){s(U,M,N);for(let nt=0;nt<K.length;nt++)At(K[nt],M,N,B);s(P.anchor,M,N);return}if(it===af){D(P,M,N);return}if(B!==2&&W&1&&J)if(B===0)J.beforeEnter(U),s(U,M,N),bn(()=>J.enter(U),H);else{const{leave:nt,delayLeave:ht,afterLeave:yt}=J,vt=()=>{P.ctx.isUnmounted?i(U):s(U,M,N)},It=()=>{nt(U,()=>{vt(),yt&&yt()})};ht?ht(U,vt,It):It()}else s(U,M,N)},et=(P,M,N,B=!1,H=!1)=>{const{type:U,props:it,ref:J,children:K,dynamicChildren:W,shapeFlag:pt,patchFlag:nt,dirs:ht,cacheIndex:yt}=P;if(nt===-2&&(H=!1),J!=null&&(Hs(),Ma(J,null,N,P,!0),js()),yt!=null&&(M.renderCache[yt]=void 0),pt&256){M.ctx.deactivate(P);return}const vt=pt&1&&ht,It=!ao(P);let Lt;if(It&&(Lt=it&&it.onVnodeBeforeUnmount)&&Jn(Lt,M,P),pt&6)Wt(P.component,N,B);else{if(pt&128){P.suspense.unmount(N,B);return}vt&&Gi(P,null,M,"beforeUnmount"),pt&64?P.type.remove(P,M,N,ct,B):W&&!W.hasOnce&&(U!==te||nt>0&&nt&64)?Ut(W,M,N,!1,!0):(U===te&&nt&384||!H&&pt&16)&&Ut(K,M,N),B&&Pt(P)}(It&&(Lt=it&&it.onVnodeUnmounted)||vt)&&bn(()=>{Lt&&Jn(Lt,M,P),vt&&Gi(P,null,M,"unmounted")},N)},Pt=P=>{const{type:M,el:N,anchor:B,transition:H}=P;if(M===te){Rt(N,B);return}if(M===af){k(P);return}const U=()=>{i(N),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(P.shapeFlag&1&&H&&!H.persisted){const{leave:it,delayLeave:J}=H,K=()=>it(N,U);J?J(P.el,U,K):K()}else U()},Rt=(P,M)=>{let N;for(;P!==M;)N=d(P),i(P),P=N;i(M)},Wt=(P,M,N)=>{const{bum:B,scope:H,job:U,subTree:it,um:J,m:K,a:W,parent:pt,slots:{__:nt}}=P;zm(K),zm(W),B&&Lc(B),pt&&Tt(nt)&&nt.forEach(ht=>{pt.renderCache[ht]=void 0}),H.stop(),U&&(U.flags|=8,et(it,P,M,N)),J&&bn(J,M),bn(()=>{P.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},Ut=(P,M,N,B=!1,H=!1,U=0)=>{for(let it=U;it<P.length;it++)et(P[it],M,N,B,H)},F=P=>{if(P.shapeFlag&6)return F(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const M=d(P.anchor||P.el),N=M&&M[lC];return N?d(N):M};let st=!1;const Z=(P,M,N)=>{P==null?M._vnode&&et(M._vnode,null,null,!0):_(M._vnode||null,P,M,null,null,null,N),M._vnode=P,st||(st=!0,Lm(),dw(),st=!1)},ct={p:_,um:et,m:At,r:Pt,mt:dt,mc:b,pc:mt,pbc:A,n:F,o:e};return{render:Z,hydrate:void 0,createApp:RC(Z)}}function of({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Xi({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function UC(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Fw(e,t,n=!1){const s=e.children,i=t.children;if(Tt(s)&&Tt(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=fi(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&Fw(o,a)),a.type===ah&&(a.el=o.el),a.type===Ge&&!a.el&&(a.el=o.el)}}function HC(e){const t=e.slice(),n=[0];let s,i,r,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function Bw(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Bw(t)}function zm(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const jC=Symbol.for("v-scx"),zC=()=>gn(jC);function Uw(e,t){return hp(e,null,t)}function an(e,t,n){return hp(e,t,n)}function hp(e,t,n=ne){const{immediate:s,deep:i,flush:r,once:o}=n,a=Re({},n),l=t&&s||!t&&r!=="post";let c;if(sl){if(r==="sync"){const p=zC();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=as,p.resume=as,p.pause=as,p}}const u=Ve;a.call=(p,m,_)=>qn(p,u,m,_);let f=!1;r==="post"?a.scheduler=p=>{bn(p,u&&u.suspense)}:r!=="sync"&&(f=!0,a.scheduler=(p,m)=>{m?p():op(p)}),a.augmentJob=p=>{t&&(p.flags|=4),f&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const d=iC(e,t,a);return sl&&(c?c.push(d):l&&d()),d}function WC(e,t,n){const s=this.proxy,i=fe(e)?e.includes(".")?Hw(s,e):()=>s[e]:e.bind(s,s);let r;Dt(t)?r=t:(r=t.handler,n=t);const o=Dl(this),a=hp(i,r.bind(s),n);return o(),a}function Hw(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const YC=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${On(t)}Modifiers`]||e[`${Fi(t)}Modifiers`];function qC(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ne;let i=n;const r=t.startsWith("update:"),o=r&&YC(s,t.slice(7));o&&(o.trim&&(i=n.map(u=>fe(u)?u.trim():u)),o.number&&(i=n.map(zf)));let a,l=s[a=Nc(t)]||s[a=Nc(On(t))];!l&&r&&(l=s[a=Nc(Fi(t))]),l&&qn(l,e,6,i);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,qn(c,e,6,i)}}function jw(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!Dt(e)){const l=c=>{const u=jw(c,t,!0);u&&(a=!0,Re(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(ae(e)&&s.set(e,null),null):(Tt(r)?r.forEach(l=>o[l]=null):Re(o,r),ae(e)&&s.set(e,o),o)}function oh(e,t){return!e||!Xu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xt(e,t[0].toLowerCase()+t.slice(1))||Xt(e,Fi(t))||Xt(e,t))}function Wm(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:d,setupState:p,ctx:m,inheritAttrs:_}=e,y=ru(e);let T,R;try{if(n.shapeFlag&4){const k=i||s,O=k;T=is(c.call(O,k,u,f,p,d,m)),R=a}else{const k=t;T=is(k.length>1?k(f,{attrs:a,slots:o,emit:l}):k(f,null)),R=t.props?a:KC(a)}}catch(k){Na.length=0,nh(k,e,1),T=xt(Ge)}let D=T;if(R&&_!==!1){const k=Object.keys(R),{shapeFlag:O}=D;k.length&&O&7&&(r&&k.some(Xd)&&(R=GC(R,r)),D=Di(D,R,!1,!0))}return n.dirs&&(D=Di(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&tl(D,n.transition),T=D,ru(y),T}const KC=e=>{let t;for(const n in e)(n==="class"||n==="style"||Xu(n))&&((t||(t={}))[n]=e[n]);return t},GC=(e,t)=>{const n={};for(const s in e)(!Xd(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function XC(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Ym(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==s[d]&&!oh(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Ym(s,o,c):!0:!!o;return!1}function Ym(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!oh(n,r))return!0}return!1}function QC({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const zw=e=>e.__isSuspense;function JC(e,t){t&&t.pendingBranch?Tt(e)?t.effects.push(...e):t.effects.push(e):aC(e)}const te=Symbol.for("v-fgt"),ah=Symbol.for("v-txt"),Ge=Symbol.for("v-cmt"),af=Symbol.for("v-stc"),Na=[];let wn=null;function lt(e=!1){Na.push(wn=e?null:[])}function ZC(){Na.pop(),wn=Na[Na.length-1]||null}let el=1;function qm(e,t=!1){el+=e,e<0&&wn&&t&&(wn.hasOnce=!0)}function Ww(e){return e.dynamicChildren=el>0?wn||so:null,ZC(),el>0&&wn&&wn.push(e),e}function gt(e,t,n,s,i,r){return Ww(X(e,t,n,s,i,r,!0))}function Nn(e,t,n,s,i){return Ww(xt(e,t,n,s,i,!0))}function nl(e){return e?e.__v_isVNode===!0:!1}function ar(e,t){return e.type===t.type&&e.key===t.key}const Yw=({key:e})=>e??null,Vc=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?fe(e)||ke(e)||Dt(e)?{i:Pe,r:e,k:t,f:!!n}:e:null);function X(e,t=null,n=null,s=0,i=null,r=e===te?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Yw(t),ref:t&&Vc(t),scopeId:gw,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Pe};return a?(fp(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=fe(n)?8:16),el>0&&!o&&wn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&wn.push(l),l}const xt=tx;function tx(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===Sw)&&(e=Ge),nl(e)){const a=Di(e,t,!0);return n&&fp(a,n),el>0&&!r&&wn&&(a.shapeFlag&6?wn[wn.indexOf(e)]=a:wn.push(a)),a.patchFlag=-2,a}if(ux(e)&&(e=e.__vccOpts),t){t=ex(t);let{class:a,style:l}=t;a&&!fe(a)&&(t.class=se(a)),ae(l)&&(xl(l)&&!Tt(l)&&(l=Re({},l)),t.style=Qe(l))}const o=fe(e)?1:zw(e)?128:mw(e)?64:ae(e)?4:Dt(e)?2:0;return X(e,t,n,s,i,o,r,!0)}function ex(e){return e?xl(e)||Mw(e)?Re({},e):e:null}function Di(e,t,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=e,c=t?kl(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Yw(c),ref:t&&t.ref?n&&r?Tt(r)?r.concat(Vc(t)):[r,Vc(t)]:Vc(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==te?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Di(e.ssContent),ssFallback:e.ssFallback&&Di(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&tl(u,l.clone(u)),u}function lh(e=" ",t=0){return xt(ah,null,e,t)}function Fe(e="",t=!1){return t?(lt(),Nn(Ge,null,e)):xt(Ge,null,e)}function is(e){return e==null||typeof e=="boolean"?xt(Ge):Tt(e)?xt(te,null,e.slice()):nl(e)?fi(e):xt(ah,null,String(e))}function fi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Di(e)}function fp(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Tt(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),fp(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!Mw(t)?t._ctx=Pe:i===3&&Pe&&(Pe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Dt(t)?(t={default:t,_ctx:Pe},n=32):(t=String(t),s&64?(n=16,t=[lh(t)]):n=8);e.children=t,e.shapeFlag|=n}function kl(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=se([t.class,s.class]));else if(i==="style")t.style=Qe([t.style,s.style]);else if(Xu(i)){const r=t[i],o=s[i];o&&r!==o&&!(Tt(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function Jn(e,t,n,s=null){qn(e,t,7,[n,s])}const nx=kw();let sx=0;function ix(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||nx,r={uid:sx++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new CA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nw(s,i),emitsOptions:jw(s,i),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:s.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=qC.bind(null,r),e.ce&&e.ce(r),r}let Ve=null;const qw=()=>Ve||Pe;let lu,Zf;{const e=th(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};lu=t("__VUE_INSTANCE_SETTERS__",n=>Ve=n),Zf=t("__VUE_SSR_SETTERS__",n=>sl=n)}const Dl=e=>{const t=Ve;return lu(e),e.scope.on(),()=>{e.scope.off(),lu(t)}},Km=()=>{Ve&&Ve.scope.off(),lu(null)};function Kw(e){return e.vnode.shapeFlag&4}let sl=!1;function rx(e,t=!1,n=!1){t&&Zf(t);const{props:s,children:i}=e.vnode,r=Kw(e);MC(e,s,r,t),VC(e,i,n||t);const o=r?ox(e,t):void 0;return t&&Zf(!1),o}function ox(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,SC);const{setup:s}=n;if(s){Hs();const i=e.setupContext=s.length>1?lx(e):null,r=Dl(e),o=Pl(s,e,0,[e.props,i]),a=B0(o);if(js(),r(),(a||e.sp)&&!ao(e)&&Tw(e),a){if(o.then(Km,Km),t)return o.then(l=>{Gm(e,l)}).catch(l=>{nh(l,e,0)});e.asyncDep=o}else Gm(e,o)}else Gw(e)}function Gm(e,t,n){Dt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ae(t)&&(e.setupState=cw(t)),Gw(e)}function Gw(e,t,n){const s=e.type;e.render||(e.render=s.render||as);{const i=Dl(e);Hs();try{AC(e)}finally{js(),i()}}}const ax={get(e,t){return qe(e,"get",""),e[t]}};function lx(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,ax),slots:e.slots,emit:e.emit,expose:t}}function ch(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(cw(KA(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Oa)return Oa[n](e)},has(t,n){return n in t||n in Oa}})):e.proxy}function cx(e,t=!0){return Dt(e)?e.displayName||e.name:e.name||t&&e.__name}function ux(e){return Dt(e)&&"__vccOpts"in e}const G=(e,t)=>nC(e,t,sl);function vo(e,t,n){const s=arguments.length;return s===2?ae(t)&&!Tt(t)?nl(t)?xt(e,null,[t]):xt(e,t):xt(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&nl(n)&&(n=[n]),xt(e,t,n))}const Xw="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let td;const Xm=typeof window<"u"&&window.trustedTypes;if(Xm)try{td=Xm.createPolicy("vue",{createHTML:e=>e})}catch{}const Qw=td?e=>td.createHTML(e):e=>e,hx="http://www.w3.org/2000/svg",fx="http://www.w3.org/1998/Math/MathML",Rs=typeof document<"u"?document:null,Qm=Rs&&Rs.createElement("template"),dx={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?Rs.createElementNS(hx,e):t==="mathml"?Rs.createElementNS(fx,e):n?Rs.createElement(e,{is:n}):Rs.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>Rs.createTextNode(e),createComment:e=>Rs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Rs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Qm.innerHTML=Qw(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=Qm.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ri="transition",ua="animation",il=Symbol("_vtc"),Jw={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},px=Re({},vw,Jw),gx=e=>(e.displayName="Transition",e.props=px,e),uh=gx((e,{slots:t})=>vo(hC,mx(e),t)),Qi=(e,t=[])=>{Tt(e)?e.forEach(n=>n(...t)):e&&e(...t)},Jm=e=>e?Tt(e)?e.some(t=>t.length>1):e.length>1:!1;function mx(e){const t={};for(const C in e)C in Jw||(t[C]=e[C]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=vx(i),_=m&&m[0],y=m&&m[1],{onBeforeEnter:T,onEnter:R,onEnterCancelled:D,onLeave:k,onLeaveCancelled:O,onBeforeAppear:L=T,onAppear:E=R,onAppearCancelled:b=D}=t,w=(C,S,dt,Q)=>{C._enterCancelled=Q,Ji(C,S?u:a),Ji(C,S?c:o),dt&&dt()},A=(C,S)=>{C._isLeaving=!1,Ji(C,f),Ji(C,p),Ji(C,d),S&&S()},x=C=>(S,dt)=>{const Q=C?E:R,at=()=>w(S,C,dt);Qi(Q,[S,at]),Zm(()=>{Ji(S,C?l:r),Cs(S,C?u:a),Jm(Q)||tv(S,s,_,at)})};return Re(t,{onBeforeEnter(C){Qi(T,[C]),Cs(C,r),Cs(C,o)},onBeforeAppear(C){Qi(L,[C]),Cs(C,l),Cs(C,c)},onEnter:x(!1),onAppear:x(!0),onLeave(C,S){C._isLeaving=!0;const dt=()=>A(C,S);Cs(C,f),C._enterCancelled?(Cs(C,d),sv()):(sv(),Cs(C,d)),Zm(()=>{C._isLeaving&&(Ji(C,f),Cs(C,p),Jm(k)||tv(C,s,y,dt))}),Qi(k,[C,dt])},onEnterCancelled(C){w(C,!1,void 0,!0),Qi(D,[C])},onAppearCancelled(C){w(C,!0,void 0,!0),Qi(b,[C])},onLeaveCancelled(C){A(C),Qi(O,[C])}})}function vx(e){if(e==null)return null;if(ae(e))return[lf(e.enter),lf(e.leave)];{const t=lf(e);return[t,t]}}function lf(e){return yA(e)}function Cs(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[il]||(e[il]=new Set)).add(t)}function Ji(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[il];n&&(n.delete(t),n.size||(e[il]=void 0))}function Zm(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let _x=0;function tv(e,t,n,s){const i=e._endId=++_x,r=()=>{i===e._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=yx(e,t);if(!o)return s();const c=o+"end";let u=0;const f=()=>{e.removeEventListener(c,d),r()},d=p=>{p.target===e&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),e.addEventListener(c,d)}function yx(e,t){const n=window.getComputedStyle(e),s=m=>(n[m]||"").split(", "),i=s(`${ri}Delay`),r=s(`${ri}Duration`),o=ev(i,r),a=s(`${ua}Delay`),l=s(`${ua}Duration`),c=ev(a,l);let u=null,f=0,d=0;t===ri?o>0&&(u=ri,f=o,d=r.length):t===ua?c>0&&(u=ua,f=c,d=l.length):(f=Math.max(o,c),u=f>0?o>c?ri:ua:null,d=u?u===ri?r.length:l.length:0);const p=u===ri&&/\b(transform|all)(,|$)/.test(s(`${ri}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:p}}function ev(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>nv(n)+nv(e[s])))}function nv(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function sv(){return document.body.offsetHeight}function bx(e,t,n){const s=e[il];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const iv=Symbol("_vod"),wx=Symbol("_vsh"),Tx=Symbol(""),Ex=/(^|;)\s*display\s*:/;function Ix(e,t,n){const s=e.style,i=fe(n);let r=!1;if(n&&!i){if(t)if(fe(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&$c(s,a,"")}else for(const o in t)n[o]==null&&$c(s,o,"");for(const o in n)o==="display"&&(r=!0),$c(s,o,n[o])}else if(i){if(t!==n){const o=s[Tx];o&&(n+=";"+o),s.cssText=n,r=Ex.test(n)}}else t&&e.removeAttribute("style");iv in e&&(e[iv]=r?s.display:"",e[wx]&&(s.display="none"))}const rv=/\s*!important$/;function $c(e,t,n){if(Tt(n))n.forEach(s=>$c(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Sx(e,t);rv.test(n)?e.setProperty(Fi(s),n.replace(rv,""),"important"):e[s]=n}}const ov=["Webkit","Moz","ms"],cf={};function Sx(e,t){const n=cf[t];if(n)return n;let s=On(t);if(s!=="filter"&&s in e)return cf[t]=s;s=Zu(s);for(let i=0;i<ov.length;i++){const r=ov[i]+s;if(r in e)return cf[t]=r}return t}const av="http://www.w3.org/1999/xlink";function lv(e,t,n,s,i,r=AA(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(av,t.slice(6,t.length)):e.setAttributeNS(av,t,n):n==null||r&&!j0(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Xs(n)?String(n):n)}function cv(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Qw(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=j0(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function Kr(e,t,n,s){e.addEventListener(t,n,s)}function Ax(e,t,n,s){e.removeEventListener(t,n,s)}const uv=Symbol("_vei");function Cx(e,t,n,s,i=null){const r=e[uv]||(e[uv]={}),o=r[t];if(s&&o)o.value=s;else{const[a,l]=xx(t);if(s){const c=r[t]=Dx(s,i);Kr(e,a,c,l)}else o&&(Ax(e,a,o,l),r[t]=void 0)}}const hv=/(?:Once|Passive|Capture)$/;function xx(e){let t;if(hv.test(e)){t={};let s;for(;s=e.match(hv);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Fi(e.slice(2)),t]}let uf=0;const Px=Promise.resolve(),kx=()=>uf||(Px.then(()=>uf=0),uf=Date.now());function Dx(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;qn(Rx(s,n.value),t,5,[s])};return n.value=e,n.attached=kx(),n}function Rx(e,t){if(Tt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const fv=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Mx=(e,t,n,s,i,r)=>{const o=i==="svg";t==="class"?bx(e,s,o):t==="style"?Ix(e,n,s):Xu(t)?Xd(t)||Cx(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ox(e,t,s,o))?(cv(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&lv(e,t,s,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!fe(s))?cv(e,On(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),lv(e,t,s,o))};function Ox(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&fv(t)&&Dt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return fv(t)&&fe(n)?!1:t in e}const dv=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Tt(t)?n=>Lc(t,n):t};function Nx(e){e.target.composing=!0}function pv(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const hf=Symbol("_assign"),gv={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[hf]=dv(i);const r=s||i.props&&i.props.type==="number";Kr(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=zf(a)),e[hf](a)}),n&&Kr(e,"change",()=>{e.value=e.value.trim()}),t||(Kr(e,"compositionstart",Nx),Kr(e,"compositionend",pv),Kr(e,"change",pv))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(e[hf]=dv(o),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?zf(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===l)||(e.value=l))}},Lx=["ctrl","shift","alt","meta"],Vx={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Lx.some(n=>e[`${n}Key`]&&!t.includes(n))},dp=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<t.length;o++){const a=Vx[t[o]];if(a&&a(i,t))return}return e(i,...r)})},$x={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},mv=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=Fi(i.key);if(t.some(o=>o===r||$x[o]===r))return e(i)})},Fx=Re({patchProp:Mx},dx);let vv;function Bx(){return vv||(vv=FC(Fx))}const Ux=(...e)=>{const t=Bx().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=jx(s);if(!i)return;const r=t._component;!Dt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Hx(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Hx(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function jx(e){return fe(e)?document.querySelector(e):e}const Bi=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},zx={__name:"App",setup(e){return(t,n)=>{const s=Ms("router-view");return lt(),Nn(s)}}},Wx=Bi(zx,[["__scopeId","data-v-9e390217"]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Gr=typeof document<"u";function Zw(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Yx(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Zw(e.default)}const Gt=Object.assign;function ff(e,t){const n={};for(const s in t){const i=t[s];n[s]=Kn(i)?i.map(e):e(i)}return n}const La=()=>{},Kn=Array.isArray,tT=/#/g,qx=/&/g,Kx=/\//g,Gx=/=/g,Xx=/\?/g,eT=/\+/g,Qx=/%5B/g,Jx=/%5D/g,nT=/%5E/g,Zx=/%60/g,sT=/%7B/g,tP=/%7C/g,iT=/%7D/g,eP=/%20/g;function pp(e){return encodeURI(""+e).replace(tP,"|").replace(Qx,"[").replace(Jx,"]")}function nP(e){return pp(e).replace(sT,"{").replace(iT,"}").replace(nT,"^")}function ed(e){return pp(e).replace(eT,"%2B").replace(eP,"+").replace(tT,"%23").replace(qx,"%26").replace(Zx,"`").replace(sT,"{").replace(iT,"}").replace(nT,"^")}function sP(e){return ed(e).replace(Gx,"%3D")}function iP(e){return pp(e).replace(tT,"%23").replace(Xx,"%3F")}function rP(e){return e==null?"":iP(e).replace(Kx,"%2F")}function rl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const oP=/\/$/,aP=e=>e.replace(oP,"");function df(e,t,n="/"){let s,i={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),i=e(r)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=hP(s??t,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:rl(o)}}function lP(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function _v(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function cP(e,t,n){const s=t.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&_o(t.matched[s],n.matched[i])&&rT(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function _o(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function rT(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!uP(e[n],t[n]))return!1;return!0}function uP(e,t){return Kn(e)?yv(e,t):Kn(t)?yv(t,e):e===t}function yv(e,t){return Kn(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function hP(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const oi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ol;(function(e){e.pop="pop",e.push="push"})(ol||(ol={}));var Va;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Va||(Va={}));function fP(e){if(!e)if(Gr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),aP(e)}const dP=/^[^#]+#/;function pP(e,t){return e.replace(dP,"#")+t}function gP(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const hh=()=>({left:window.scrollX,top:window.scrollY});function mP(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=gP(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function bv(e,t){return(history.state?history.state.position-t:-1)+e}const nd=new Map;function vP(e,t){nd.set(e,t)}function _P(e){const t=nd.get(e);return nd.delete(e),t}let yP=()=>location.protocol+"//"+location.host;function oT(e,t){const{pathname:n,search:s,hash:i}=t,r=e.indexOf("#");if(r>-1){let a=i.includes(e.slice(r))?e.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),_v(l,"")}return _v(n,e)+s+i}function bP(e,t,n,s){let i=[],r=[],o=null;const a=({state:d})=>{const p=oT(e,location),m=n.value,_=t.value;let y=0;if(d){if(n.value=p,t.value=d,o&&o===m){o=null;return}y=_?d.position-_.position:0}else s(p);i.forEach(T=>{T(n.value,m,{delta:y,type:ol.pop,direction:y?y>0?Va.forward:Va.back:Va.unknown})})};function l(){o=n.value}function c(d){i.push(d);const p=()=>{const m=i.indexOf(d);m>-1&&i.splice(m,1)};return r.push(p),p}function u(){const{history:d}=window;d.state&&d.replaceState(Gt({},d.state,{scroll:hh()}),"")}function f(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function wv(e,t,n,s=!1,i=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:i?hh():null}}function wP(e){const{history:t,location:n}=window,s={value:oT(e,n)},i={value:t.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:yP()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(p){console.error(p),n[u?"replace":"assign"](d)}}function o(l,c){const u=Gt({},t.state,wv(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Gt({},i.value,t.state,{forward:l,scroll:hh()});r(u.current,u,!0);const f=Gt({},wv(s.value,l,null),{position:u.position+1},c);r(l,f,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function TP(e){e=fP(e);const t=wP(e),n=bP(e,t.state,t.location,t.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Gt({location:"",base:e,go:s,createHref:pP.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function EP(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),TP(e)}function IP(e){return typeof e=="string"||e&&typeof e=="object"}function aT(e){return typeof e=="string"||typeof e=="symbol"}const lT=Symbol("");var Tv;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Tv||(Tv={}));function yo(e,t){return Gt(new Error,{type:e,[lT]:!0},t)}function xs(e,t){return e instanceof Error&&lT in e&&(t==null||!!(e.type&t))}const Ev="[^/]+?",SP={sensitive:!1,strict:!1,start:!0,end:!0},AP=/[.+*?^${}()[\]/\\]/g;function CP(e,t){const n=Gt({},SP,t),s=[];let i=n.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const d=c[f];let p=40+(n.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(AP,"\\$&"),p+=40;else if(d.type===1){const{value:m,repeatable:_,optional:y,regexp:T}=d;r.push({name:m,repeatable:_,optional:y});const R=T||Ev;if(R!==Ev){p+=10;try{new RegExp(`(${R})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${m}" (${R}): `+k.message)}}let D=_?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;f||(D=y&&c.length<2?`(?:/${D})`:"/"+D),y&&(D+="?"),i+=D,p+=20,y&&(p+=-8),_&&(p+=-20),R===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const p=u[d]||"",m=r[d-1];f[m.name]=p&&m.repeatable?p.split("/"):p}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const p of d)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:_,optional:y}=p,T=m in c?c[m]:"";if(Kn(T)&&!_)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const R=Kn(T)?T.join("/"):T;if(!R)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=R}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function xP(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function cT(e,t){let n=0;const s=e.score,i=t.score;for(;n<s.length&&n<i.length;){const r=xP(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(Iv(s))return 1;if(Iv(i))return-1}return i.length-s.length}function Iv(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const PP={type:0,value:""},kP=/[a-zA-Z0-9_]/;function DP(e){if(!e)return[[]];if(e==="/")return[[PP]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function f(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:kP.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),i}function RP(e,t,n){const s=CP(DP(e.path),n),i=Gt(s,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function MP(e,t){const n=[],s=new Map;t=xv({strict:!1,end:!0,sensitive:!1},t);function i(f){return s.get(f)}function r(f,d,p){const m=!p,_=Av(f);_.aliasOf=p&&p.record;const y=xv(t,f),T=[_];if("alias"in f){const k=typeof f.alias=="string"?[f.alias]:f.alias;for(const O of k)T.push(Av(Gt({},_,{components:p?p.record.components:_.components,path:O,aliasOf:p?p.record:_})))}let R,D;for(const k of T){const{path:O}=k;if(d&&O[0]!=="/"){const L=d.record.path,E=L[L.length-1]==="/"?"":"/";k.path=d.record.path+(O&&E+O)}if(R=RP(k,d,y),p?p.alias.push(R):(D=D||R,D!==R&&D.alias.push(R),m&&f.name&&!Cv(R)&&o(f.name)),uT(R)&&l(R),_.children){const L=_.children;for(let E=0;E<L.length;E++)r(L[E],R,p&&p.children[E])}p=p||R}return D?()=>{o(D)}:La}function o(f){if(aT(f)){const d=s.get(f);d&&(s.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const d=LP(f,n);n.splice(d,0,f),f.record.name&&!Cv(f)&&s.set(f.record.name,f)}function c(f,d){let p,m={},_,y;if("name"in f&&f.name){if(p=s.get(f.name),!p)throw yo(1,{location:f});y=p.record.name,m=Gt(Sv(d.params,p.keys.filter(D=>!D.optional).concat(p.parent?p.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),f.params&&Sv(f.params,p.keys.map(D=>D.name))),_=p.stringify(m)}else if(f.path!=null)_=f.path,p=n.find(D=>D.re.test(_)),p&&(m=p.parse(_),y=p.record.name);else{if(p=d.name?s.get(d.name):n.find(D=>D.re.test(d.path)),!p)throw yo(1,{location:f,currentLocation:d});y=p.record.name,m=Gt({},d.params,f.params),_=p.stringify(m)}const T=[];let R=p;for(;R;)T.unshift(R.record),R=R.parent;return{name:y,path:_,params:m,matched:T,meta:NP(T)}}e.forEach(f=>r(f));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function Sv(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Av(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:OP(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function OP(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Cv(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function NP(e){return e.reduce((t,n)=>Gt(t,n.meta),{})}function xv(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function LP(e,t){let n=0,s=t.length;for(;n!==s;){const r=n+s>>1;cT(e,t[r])<0?s=r:n=r+1}const i=VP(e);return i&&(s=t.lastIndexOf(i,s-1)),s}function VP(e){let t=e;for(;t=t.parent;)if(uT(t)&&cT(e,t)===0)return t}function uT({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function $P(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(eT," "),o=r.indexOf("="),a=rl(o<0?r:r.slice(0,o)),l=o<0?null:rl(r.slice(o+1));if(a in t){let c=t[a];Kn(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Pv(e){let t="";for(let n in e){const s=e[n];if(n=sP(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Kn(s)?s.map(r=>r&&ed(r)):[s&&ed(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function FP(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Kn(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const BP=Symbol(""),kv=Symbol(""),fh=Symbol(""),hT=Symbol(""),sd=Symbol("");function ha(){let e=[];function t(s){return e.push(s),()=>{const i=e.indexOf(s);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function di(e,t,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(yo(4,{from:n,to:t})):d instanceof Error?l(d):IP(d)?l(yo(2,{from:t,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>e.call(s&&s.instances[i],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(d=>l(d))})}function pf(e,t,n,s,i=r=>r()){const r=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Zw(l)){const u=(l.__vccOpts||l)[t];u&&r.push(di(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=Yx(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const p=(f.__vccOpts||f)[t];return p&&di(p,n,s,o,a,i)()}))}}return r}function Dv(e){const t=gn(fh),n=gn(hT),s=G(()=>{const l=ft(e.to);return t.resolve(l)}),i=G(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(_o.bind(null,u));if(d>-1)return d;const p=Rv(l[c-2]);return c>1&&Rv(u)===p&&f[f.length-1].path!==p?f.findIndex(_o.bind(null,l[c-2])):d}),r=G(()=>i.value>-1&&WP(n.params,s.value.params)),o=G(()=>i.value>-1&&i.value===n.matched.length-1&&rT(n.params,s.value.params));function a(l={}){if(zP(l)){const c=t[ft(e.replace)?"replace":"push"](ft(e.to)).catch(La);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:G(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function UP(e){return e.length===1?e[0]:e}const HP=tn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Dv,setup(e,{slots:t}){const n=Lo(Dv(e)),{options:s}=gn(fh),i=G(()=>({[Mv(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Mv(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&UP(t.default(n));return e.custom?r:vo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),jP=HP;function zP(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function WP(e,t){for(const n in t){const s=t[n],i=e[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Kn(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Rv(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Mv=(e,t,n)=>e??t??n,YP=tn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=gn(sd),i=G(()=>e.route||s.value),r=gn(kv,0),o=G(()=>{let c=ft(r);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=G(()=>i.value.matched[o.value]);Ei(kv,G(()=>o.value+1)),Ei(BP,a),Ei(sd,i);const l=Vt();return an(()=>[l.value,a.value,e.name],([c,u,f],[d,p,m])=>{u&&(u.instances[f]=c,p&&p!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!_o(u,p)||!d)&&(u.enterCallbacks[f]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Ov(n.default,{Component:d,route:c});const p=f.props[u],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,y=vo(d,Gt({},m,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Ov(n.default,{Component:y,route:c})||y}}});function Ov(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const qP=YP;function KP(e){const t=MP(e.routes,e),n=e.parseQuery||$P,s=e.stringifyQuery||Pv,i=e.history,r=ha(),o=ha(),a=ha(),l=rp(oi);let c=oi;Gr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ff.bind(null,F=>""+F),f=ff.bind(null,rP),d=ff.bind(null,rl);function p(F,st){let Z,ct;return aT(F)?(Z=t.getRecordMatcher(F),ct=st):ct=F,t.addRoute(ct,Z)}function m(F){const st=t.getRecordMatcher(F);st&&t.removeRoute(st)}function _(){return t.getRoutes().map(F=>F.record)}function y(F){return!!t.getRecordMatcher(F)}function T(F,st){if(st=Gt({},st||l.value),typeof F=="string"){const N=df(n,F,st.path),B=t.resolve({path:N.path},st),H=i.createHref(N.fullPath);return Gt(N,B,{params:d(B.params),hash:rl(N.hash),redirectedFrom:void 0,href:H})}let Z;if(F.path!=null)Z=Gt({},F,{path:df(n,F.path,st.path).path});else{const N=Gt({},F.params);for(const B in N)N[B]==null&&delete N[B];Z=Gt({},F,{params:f(N)}),st.params=f(st.params)}const ct=t.resolve(Z,st),Ot=F.hash||"";ct.params=u(d(ct.params));const P=lP(s,Gt({},F,{hash:nP(Ot),path:ct.path})),M=i.createHref(P);return Gt({fullPath:P,hash:Ot,query:s===Pv?FP(F.query):F.query||{}},ct,{redirectedFrom:void 0,href:M})}function R(F){return typeof F=="string"?df(n,F,l.value.path):Gt({},F)}function D(F,st){if(c!==F)return yo(8,{from:st,to:F})}function k(F){return E(F)}function O(F){return k(Gt(R(F),{replace:!0}))}function L(F){const st=F.matched[F.matched.length-1];if(st&&st.redirect){const{redirect:Z}=st;let ct=typeof Z=="function"?Z(F):Z;return typeof ct=="string"&&(ct=ct.includes("?")||ct.includes("#")?ct=R(ct):{path:ct},ct.params={}),Gt({query:F.query,hash:F.hash,params:ct.path!=null?{}:F.params},ct)}}function E(F,st){const Z=c=T(F),ct=l.value,Ot=F.state,P=F.force,M=F.replace===!0,N=L(Z);if(N)return E(Gt(R(N),{state:typeof N=="object"?Gt({},Ot,N.state):Ot,force:P,replace:M}),st||Z);const B=Z;B.redirectedFrom=st;let H;return!P&&cP(s,ct,Z)&&(H=yo(16,{to:B,from:ct}),At(ct,ct,!0,!1)),(H?Promise.resolve(H):A(B,ct)).catch(U=>xs(U)?xs(U,2)?U:z(U):mt(U,B,ct)).then(U=>{if(U){if(xs(U,2))return E(Gt({replace:M},R(U.to),{state:typeof U.to=="object"?Gt({},Ot,U.to.state):Ot,force:P}),st||B)}else U=C(B,ct,!0,M,Ot);return x(B,ct,U),U})}function b(F,st){const Z=D(F,st);return Z?Promise.reject(Z):Promise.resolve()}function w(F){const st=Rt.values().next().value;return st&&typeof st.runWithContext=="function"?st.runWithContext(F):F()}function A(F,st){let Z;const[ct,Ot,P]=GP(F,st);Z=pf(ct.reverse(),"beforeRouteLeave",F,st);for(const N of ct)N.leaveGuards.forEach(B=>{Z.push(di(B,F,st))});const M=b.bind(null,F,st);return Z.push(M),Ut(Z).then(()=>{Z=[];for(const N of r.list())Z.push(di(N,F,st));return Z.push(M),Ut(Z)}).then(()=>{Z=pf(Ot,"beforeRouteUpdate",F,st);for(const N of Ot)N.updateGuards.forEach(B=>{Z.push(di(B,F,st))});return Z.push(M),Ut(Z)}).then(()=>{Z=[];for(const N of P)if(N.beforeEnter)if(Kn(N.beforeEnter))for(const B of N.beforeEnter)Z.push(di(B,F,st));else Z.push(di(N.beforeEnter,F,st));return Z.push(M),Ut(Z)}).then(()=>(F.matched.forEach(N=>N.enterCallbacks={}),Z=pf(P,"beforeRouteEnter",F,st,w),Z.push(M),Ut(Z))).then(()=>{Z=[];for(const N of o.list())Z.push(di(N,F,st));return Z.push(M),Ut(Z)}).catch(N=>xs(N,8)?N:Promise.reject(N))}function x(F,st,Z){a.list().forEach(ct=>w(()=>ct(F,st,Z)))}function C(F,st,Z,ct,Ot){const P=D(F,st);if(P)return P;const M=st===oi,N=Gr?history.state:{};Z&&(ct||M?i.replace(F.fullPath,Gt({scroll:M&&N&&N.scroll},Ot)):i.push(F.fullPath,Ot)),l.value=F,At(F,st,Z,M),z()}let S;function dt(){S||(S=i.listen((F,st,Z)=>{if(!Wt.listening)return;const ct=T(F),Ot=L(ct);if(Ot){E(Gt(Ot,{replace:!0,force:!0}),ct).catch(La);return}c=ct;const P=l.value;Gr&&vP(bv(P.fullPath,Z.delta),hh()),A(ct,P).catch(M=>xs(M,12)?M:xs(M,2)?(E(Gt(R(M.to),{force:!0}),ct).then(N=>{xs(N,20)&&!Z.delta&&Z.type===ol.pop&&i.go(-1,!1)}).catch(La),Promise.reject()):(Z.delta&&i.go(-Z.delta,!1),mt(M,ct,P))).then(M=>{M=M||C(ct,P,!1),M&&(Z.delta&&!xs(M,8)?i.go(-Z.delta,!1):Z.type===ol.pop&&xs(M,20)&&i.go(-1,!1)),x(ct,P,M)}).catch(La)}))}let Q=ha(),at=ha(),ot;function mt(F,st,Z){z(F);const ct=at.list();return ct.length?ct.forEach(Ot=>Ot(F,st,Z)):console.error(F),Promise.reject(F)}function Nt(){return ot&&l.value!==oi?Promise.resolve():new Promise((F,st)=>{Q.add([F,st])})}function z(F){return ot||(ot=!F,dt(),Q.list().forEach(([st,Z])=>F?Z(F):st()),Q.reset()),F}function At(F,st,Z,ct){const{scrollBehavior:Ot}=e;if(!Gr||!Ot)return Promise.resolve();const P=!Z&&_P(bv(F.fullPath,0))||(ct||!Z)&&history.state&&history.state.scroll||null;return mo().then(()=>Ot(F,st,P)).then(M=>M&&mP(M)).catch(M=>mt(M,F,st))}const et=F=>i.go(F);let Pt;const Rt=new Set,Wt={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:y,getRoutes:_,resolve:T,options:e,push:k,replace:O,go:et,back:()=>et(-1),forward:()=>et(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:at.add,isReady:Nt,install(F){const st=this;F.component("RouterLink",jP),F.component("RouterView",qP),F.config.globalProperties.$router=st,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>ft(l)}),Gr&&!Pt&&l.value===oi&&(Pt=!0,k(i.location).catch(Ot=>{}));const Z={};for(const Ot in oi)Object.defineProperty(Z,Ot,{get:()=>l.value[Ot],enumerable:!0});F.provide(fh,st),F.provide(hT,ow(Z)),F.provide(sd,l);const ct=F.unmount;Rt.add(F),F.unmount=function(){Rt.delete(F),Rt.size<1&&(c=oi,S&&S(),S=null,l.value=oi,Pt=!1,ot=!1),ct()}}};function Ut(F){return F.reduce((st,Z)=>st.then(()=>w(Z)),Promise.resolve())}return Wt}function GP(e,t){const n=[],s=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>_o(c,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>_o(c,l))||i.push(l))}return[n,s,i]}function gp(){return gn(fh)}const XP=()=>{};var Nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let i=e.charCodeAt(s);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},QP=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const i=e[n++];if(i<128)t[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=e[n++];t[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[s++]=String.fromCharCode(55296+(l>>10)),t[s++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],o=e[n++];t[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return t.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<e.length;i+=3){const r=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=r>>2,f=(r&3)<<4|a>>4;let d=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(d=64)),s.push(n[u],n[f],n[d],n[p])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):QP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<e.length;){const r=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,r==null||a==null||c==null||f==null)throw new JP;const d=r<<2|a>>4;if(s.push(d),c!==64){const p=a<<4&240|c>>2;if(s.push(p),f!==64){const m=c<<6&192|f;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class JP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZP=function(e){const t=fT(e);return dT.encodeByteArray(t,!0)},cu=function(e){return ZP(e).replace(/\./g,"")},pT=function(e){try{return dT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=()=>tk().__FIREBASE_DEFAULTS__,nk=()=>{if(typeof process>"u"||typeof Nv>"u")return;const e=Nv.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},sk=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&pT(e[1]);return t&&JSON.parse(t)},dh=()=>{try{return XP()||ek()||nk()||sk()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gT=e=>{var t,n;return(n=(t=dh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},ik=e=>{const t=gT(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},mT=()=>{var e;return(e=dh())===null||e===void 0?void 0:e.config},vT=e=>{var t;return(t=dh())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(e){return e.endsWith(".cloudworkstations.dev")}async function _T(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[cu(JSON.stringify(n)),cu(JSON.stringify(o)),""].join(".")}const $a={};function ak(){const e={prod:[],emulator:[]};for(const t of Object.keys($a))$a[t]?e.emulator.push(t):e.prod.push(t);return e}function lk(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Lv=!1;function yT(e,t){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||$a[e]===t||$a[e]||Lv)return;$a[e]=t;function n(d){return`__firebase__banner__${d}`}const s="__firebase__banner",r=ak().prod.length>0;function o(){const d=document.getElementById(s);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{Lv=!0,o()},d}function u(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=lk(s),p=n("text"),m=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),y=document.getElementById(_)||document.createElement("a"),T=n("preprendIcon"),R=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const D=d.element;a(D),u(y,_);const k=c();l(R,T),D.append(R,m,y,k),document.body.appendChild(D)}r?(m.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ck(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function uk(){var e;const t=(e=dh())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fk(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function dk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pk(){const e=Ze();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gk(){return!uk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mk(){try{return typeof indexedDB=="object"}catch{return!1}}function vk(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;t(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="FirebaseError";class Js extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=_k,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},i=`${this.service}/${t}`,r=this.errors[t],o=r?yk(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Js(i,a,s)}}function yk(e,t){return e.replace(bk,(n,s)=>{const i=t[s];return i!=null?String(i):`<${s}?>`})}const bk=/\{\$([^}]+)}/g;function wk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function mr(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const i of n){if(!s.includes(i))return!1;const r=e[i],o=t[i];if(Vv(r)&&Vv(o)){if(!mr(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Vv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function wa(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");t[decodeURIComponent(i)]=decodeURIComponent(r)}}),t}function Ta(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Tk(e,t){const n=new Ek(e,t);return n.subscribe.bind(n)}class Ek{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let i;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ik(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:s},i.next===void 0&&(i.next=gf),i.error===void 0&&(i.error=gf),i.complete===void 0&&(i.complete=gf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ik(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(e){return e&&e._delegate?e._delegate:e}class vr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new rk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ck(t))try{this.getOrInitializeService({instanceIdentifier:sr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(t=sr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sr){return this.instances.has(t)}getOptions(t=sr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(t,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ak(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=sr){return this.component?this.component.multipleInstances?t:sr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ak(e){return e===sr?void 0:e}function Ck(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Sk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ft||(Ft={}));const Pk={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},kk=Ft.INFO,Dk={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},Rk=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),i=Dk[t];if(i)console[i](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mp{constructor(t){this.name=t,this._logLevel=kk,this._logHandler=Rk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Pk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const Mk=(e,t)=>t.some(n=>e instanceof n);let $v,Fv;function Ok(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nk(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,id=new WeakMap,wT=new WeakMap,mf=new WeakMap,vp=new WeakMap;function Lk(e){const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(Ii(e.result)),i()},o=()=>{s(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&bT.set(n,e)}).catch(()=>{}),vp.set(t,e),t}function Vk(e){if(id.has(e))return;const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});id.set(e,t)}let rd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return id.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $k(e){rd=e(rd)}function Fk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(vf(this),t,...n);return wT.set(s,t.sort?t.sort():[t]),Ii(s)}:Nk().includes(e)?function(...t){return e.apply(vf(this),t),Ii(bT.get(this))}:function(...t){return Ii(e.apply(vf(this),t))}}function Bk(e){return typeof e=="function"?Fk(e):(e instanceof IDBTransaction&&Vk(e),Mk(e,Ok())?new Proxy(e,rd):e)}function Ii(e){if(e instanceof IDBRequest)return Lk(e);if(mf.has(e))return mf.get(e);const t=Bk(e);return t!==e&&(mf.set(e,t),vp.set(t,e)),t}const vf=e=>vp.get(e);function Uk(e,t,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(e,t),a=Ii(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Ii(o.result),l.oldVersion,l.newVersion,Ii(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Hk=["get","getKey","getAll","getAllKeys","count"],jk=["put","add","delete","clear"],_f=new Map;function Bv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_f.get(t))return _f.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,i=jk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||Hk.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return _f.set(t,r),r}$k(e=>({...e,get:(t,n,s)=>Bv(t,n)||e.get(t,n,s),has:(t,n)=>!!Bv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Wk(e){const t=e.getComponent();return t?.type==="VERSION"}const od="@firebase/app",Uv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new mp("@firebase/app"),Yk="@firebase/app-compat",qk="@firebase/analytics-compat",Kk="@firebase/analytics",Gk="@firebase/app-check-compat",Xk="@firebase/app-check",Qk="@firebase/auth",Jk="@firebase/auth-compat",Zk="@firebase/database",tD="@firebase/data-connect",eD="@firebase/database-compat",nD="@firebase/functions",sD="@firebase/functions-compat",iD="@firebase/installations",rD="@firebase/installations-compat",oD="@firebase/messaging",aD="@firebase/messaging-compat",lD="@firebase/performance",cD="@firebase/performance-compat",uD="@firebase/remote-config",hD="@firebase/remote-config-compat",fD="@firebase/storage",dD="@firebase/storage-compat",pD="@firebase/firestore",gD="@firebase/ai",mD="@firebase/firestore-compat",vD="firebase",_D="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="[DEFAULT]",yD={[od]:"fire-core",[Yk]:"fire-core-compat",[Kk]:"fire-analytics",[qk]:"fire-analytics-compat",[Xk]:"fire-app-check",[Gk]:"fire-app-check-compat",[Qk]:"fire-auth",[Jk]:"fire-auth-compat",[Zk]:"fire-rtdb",[tD]:"fire-data-connect",[eD]:"fire-rtdb-compat",[nD]:"fire-fn",[sD]:"fire-fn-compat",[iD]:"fire-iid",[rD]:"fire-iid-compat",[oD]:"fire-fcm",[aD]:"fire-fcm-compat",[lD]:"fire-perf",[cD]:"fire-perf-compat",[uD]:"fire-rc",[hD]:"fire-rc-compat",[fD]:"fire-gcs",[dD]:"fire-gcs-compat",[pD]:"fire-fst",[mD]:"fire-fst-compat",[gD]:"fire-vertex","fire-js":"fire-js",[vD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new Map,bD=new Map,ld=new Map;function Hv(e,t){try{e.container.addComponent(t)}catch(n){zs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function bo(e){const t=e.name;if(ld.has(t))return zs.debug(`There were multiple attempts to register component ${t}.`),!1;ld.set(t,e);for(const n of uu.values())Hv(n,e);for(const n of bD.values())Hv(n,e);return!0}function _p(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Cn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Rl("app","Firebase",wD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=_D;function TT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:ad,automaticDataCollectionEnabled:!0},t),i=s.name;if(typeof i!="string"||!i)throw Si.create("bad-app-name",{appName:String(i)});if(n||(n=mT()),!n)throw Si.create("no-options");const r=uu.get(i);if(r){if(mr(n,r.options)&&mr(s,r.config))return r;throw Si.create("duplicate-app",{appName:i})}const o=new xk(i);for(const l of ld.values())o.addComponent(l);const a=new TD(n,s,o);return uu.set(i,a),a}function ET(e=ad){const t=uu.get(e);if(!t&&e===ad&&mT())return TT();if(!t)throw Si.create("no-app",{appName:e});return t}function Ai(e,t,n){var s;let i=(s=yD[e])!==null&&s!==void 0?s:e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zs.warn(a.join(" "));return}bo(new vr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="firebase-heartbeat-database",ID=1,al="firebase-heartbeat-store";let yf=null;function IT(){return yf||(yf=Uk(ED,ID,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(al)}catch(n){console.warn(n)}}}}).catch(e=>{throw Si.create("idb-open",{originalErrorMessage:e.message})})),yf}async function SD(e){try{const n=(await IT()).transaction(al),s=await n.objectStore(al).get(ST(e));return await n.done,s}catch(t){if(t instanceof Js)zs.warn(t.message);else{const n=Si.create("idb-get",{originalErrorMessage:t?.message});zs.warn(n.message)}}}async function jv(e,t){try{const s=(await IT()).transaction(al,"readwrite");await s.objectStore(al).put(t,ST(e)),await s.done}catch(n){if(n instanceof Js)zs.warn(n.message);else{const s=Si.create("idb-set",{originalErrorMessage:n?.message});zs.warn(s.message)}}}function ST(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=1024,CD=30;class xD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>CD){const o=DD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zs.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zv(),{heartbeatsToSend:s,unsentEntries:i}=PD(this._heartbeatsCache.heartbeats),r=cu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return zs.warn(n),""}}}function zv(){return new Date().toISOString().substring(0,10)}function PD(e,t=AD){const n=[];let s=e.slice();for(const i of e){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Wv(n)>t){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class kD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mk()?vk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Wv(e){return cu(JSON.stringify({version:2,heartbeats:e})).length}function DD(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(e){bo(new vr("platform-logger",t=>new zk(t),"PRIVATE")),bo(new vr("heartbeat",t=>new xD(t),"PRIVATE")),Ai(od,Uv,e),Ai(od,Uv,"esm2017"),Ai("fire-js","")}RD("");var MD="firebase",OD="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(MD,OD,"app");function yp(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ND=AT,CT=new Rl("auth","Firebase",AT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new mp("@firebase/auth");function LD(e,...t){hu.logLevel<=Ft.WARN&&hu.warn(`Auth (${Fo}): ${e}`,...t)}function Fc(e,...t){hu.logLevel<=Ft.ERROR&&hu.error(`Auth (${Fo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(e,...t){throw bp(e,...t)}function ls(e,...t){return bp(e,...t)}function xT(e,t,n){const s=Object.assign(Object.assign({},ND()),{[t]:n});return new Rl("auth","Firebase",s).create(t,{appName:e.name})}function Bs(e){return xT(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return CT.create(e,...t)}function Et(e,t,...n){if(!e)throw bp(t,...n)}function Vs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fc(t),new Error(t)}function Ws(e,t){e||Vs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function VD(){return Yv()==="http:"||Yv()==="https:"}function Yv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VD()||fk()||"connection"in navigator)?navigator.onLine:!0}function FD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ws(n>t,"Short delay should be less than long delay!"),this.isMobile=ck()||dk()}get(){return $D()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(e,t){Ws(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HD=new Ol(3e4,6e4);function Ui(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Hi(e,t,n,s,i={}){return kT(e,i,async()=>{let r={},o={};s&&(t==="GET"?o=s:r={body:JSON.stringify(s)});const a=Ml(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},r);return hk()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&$o(e.emulatorConfig.host)&&(c.credentials="include"),PT.fetch()(await DT(e,e.config.apiHost,n,a),c)})}async function kT(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},BD),t);try{const i=new zD(e),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw hc(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hc(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hc(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw hc(e,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw xT(e,u,c);Gn(e,u)}}catch(i){if(i instanceof Js)throw i;Gn(e,"network-request-failed",{message:String(i)})}}async function Nl(e,t,n,s,i={}){const r=await Hi(e,t,n,s,i);return"mfaPendingCredential"in r&&Gn(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function DT(e,t,n,s){const i=`${t}${n}?${s}`,r=e,o=r.config.emulator?wp(e.config,i):`${e.config.apiScheme}://${i}`;return UD.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function jD(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ls(this.auth,"network-request-failed")),HD.get())})}}function hc(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=ls(e,t,s);return i.customData._tokenResponse=n,i}function qv(e){return e!==void 0&&e.enterprise!==void 0}class WD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return jD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YD(e,t){return Hi(e,"GET","/v2/recaptchaConfig",Ui(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(e,t){return Hi(e,"POST","/v1/accounts:delete",t)}async function fu(e,t){return Hi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KD(e,t=!1){const n=Ln(e),s=await n.getIdToken(t),i=Tp(s);Et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r?.sign_in_provider;return{claims:i,token:s,authTime:Fa(bf(i.auth_time)),issuedAtTime:Fa(bf(i.iat)),expirationTime:Fa(bf(i.exp)),signInProvider:o||null,signInSecondFactor:r?.sign_in_second_factor||null}}function bf(e){return Number(e)*1e3}function Tp(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const i=pT(n);return i?JSON.parse(i):(Fc("Failed to decode base64 JWT payload"),null)}catch(i){return Fc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Kv(e){const t=Tp(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Js&&GD(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function GD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fa(this.lastLoginAt),this.creationTime=Fa(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(e){var t;const n=e.auth,s=await e.getIdToken(),i=await ll(e,fu(n,{idToken:s}));Et(i?.users.length,n,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const o=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?RT(r.providerUserInfo):[],a=JD(e.providerData,o),l=e.isAnonymous,c=!(e.email&&r.passwordHash)&&!a?.length,u=l?c:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new ud(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(e,f)}async function QD(e){const t=Ln(e);await du(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JD(e,t){return[...e.filter(s=>!t.some(i=>i.providerId===s.providerId)),...t]}function RT(e){return e.map(t=>{var{providerId:n}=t,s=yp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(e,t){const n=await kT(e,{},async()=>{const s=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=await DT(e,i,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:s};return e.emulatorConfig&&$o(e.emulatorConfig.host)&&(l.credentials="include"),PT.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tR(e,t){return Hi(e,"POST","/v2/accounts:revokeToken",Ui(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Kv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Kv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await ZD(t,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new co;return s&&(Et(typeof s=="string","internal-error",{appName:t}),o.refreshToken=s),i&&(Et(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),r&&(Et(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class jn{constructor(t){var{uid:n,auth:s,stsTokenManager:i}=t,r=yp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ud(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await ll(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return KD(this,t)}reload(){return QD(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new jn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await du(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Bs(this.auth));const t=await this.getIdToken();return await ll(this,qD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,i,r,o,a,l,c,u;const f=(s=n.displayName)!==null&&s!==void 0?s:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,R=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:D,emailVerified:k,isAnonymous:O,providerData:L,stsTokenManager:E}=n;Et(D&&E,t,"internal-error");const b=co.fromJSON(this.name,E);Et(typeof D=="string",t,"internal-error"),ai(f,t.name),ai(d,t.name),Et(typeof k=="boolean",t,"internal-error"),Et(typeof O=="boolean",t,"internal-error"),ai(p,t.name),ai(m,t.name),ai(_,t.name),ai(y,t.name),ai(T,t.name),ai(R,t.name);const w=new jn({uid:D,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:O,photoURL:m,phoneNumber:p,tenantId:_,stsTokenManager:b,createdAt:T,lastLoginAt:R});return L&&Array.isArray(L)&&(w.providerData=L.map(A=>Object.assign({},A))),y&&(w._redirectEventId=y),w}static async _fromIdTokenResponse(t,n,s=!1){const i=new co;i.updateFromServerResponse(n);const r=new jn({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:s});return await du(r),r}static async _fromGetAccountInfoResponse(t,n,s){const i=n.users[0];Et(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?RT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!r?.length,a=new co;a.updateFromIdToken(s);const l=new jn({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new ud(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!r?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new Map;function $s(e){Ws(e instanceof Function,"Expected a class definition");let t=Gv.get(e);return t?(Ws(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Gv.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}MT.type="NONE";const Xv=MT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(e,t,n){return`firebase:${e}:${t}:${n}`}class uo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=Bc(this.userKey,i.apiKey,r),this.fullPersistenceKey=Bc("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await fu(this.auth,{idToken:t}).catch(()=>{});return n?jn._fromGetAccountInfoResponse(this.auth,n,t):null}return jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new uo($s(Xv),t,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||$s(Xv);const o=Bc(s,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const d=await fu(t,{idToken:u}).catch(()=>{});if(!d)break;f=await jn._fromGetAccountInfoResponse(t,d,u)}else f=jn._fromJSON(t,u);c!==r&&(a=f),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new uo(r,t,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new uo(r,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(OT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(FT(t))return"Blackberry";if(BT(t))return"Webos";if(NT(t))return"Safari";if((t.includes("chrome/")||LT(t))&&!t.includes("edge/"))return"Chrome";if($T(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function OT(e=Ze()){return/firefox\//i.test(e)}function NT(e=Ze()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function LT(e=Ze()){return/crios\//i.test(e)}function VT(e=Ze()){return/iemobile/i.test(e)}function $T(e=Ze()){return/android/i.test(e)}function FT(e=Ze()){return/blackberry/i.test(e)}function BT(e=Ze()){return/webos/i.test(e)}function Ep(e=Ze()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function eR(e=Ze()){var t;return Ep(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function nR(){return pk()&&document.documentMode===10}function UT(e=Ze()){return Ep(e)||$T(e)||BT(e)||FT(e)||/windows phone/i.test(e)||VT(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(e,t=[]){let n;switch(e){case"Browser":n=Qv(Ze());break;case"Worker":n=`${Qv(Ze())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=r=>new Promise((o,a)=>{try{const l=t(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(e,t={}){return Hi(e,"GET","/v2/passwordPolicy",Ui(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=6;class oR{constructor(t){var n,s,i,r;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:rR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(r=t.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,i,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<t.length;i++)s=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,n,s,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new sR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=$s(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await uo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await fu(this,{idToken:t}),s=await jn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&l?.user&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await du(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Cn(this.app))return Promise.reject(Bs(this));const n=t?Ln(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Cn(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($s(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await iR(this),n=new oR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Rl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await tR(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&$s(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[$s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&LD(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Cr(e){return Ln(e)}class Jv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Tk(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lR(e){ph=e}function jT(e){return ph.loadJS(e)}function cR(){return ph.recaptchaEnterpriseScript}function uR(){return ph.gapiScript}function hR(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class fR{constructor(){this.enterprise=new dR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class dR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const pR="recaptcha-enterprise",zT="NO_RECAPTCHA";class gR{constructor(t){this.type=pR,this.auth=Cr(t)}async verify(t="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{YD(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new WD(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;qv(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:t}).then(c=>{o(c)}).catch(()=>{o(zT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fR().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&qv(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=cR();l.length!==0&&(l+=a),jT(l).then(()=>{i(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Zv(e,t,n,s=!1,i=!1){const r=new gR(e);let o;if(i)o=zT;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function hd(e,t,n,s,i){var r;if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Zv(e,t,n,n==="getOobCode");return s(e,o)}else return s(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Zv(e,t,n,n==="getOobCode");return s(e,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(e,t){const n=_p(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(mr(r,t??{}))return i;Gn(i,"already-initialized")}return n.initialize({options:t})}function vR(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map($s);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function _R(e,t,n){const s=Cr(e);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const i=!1,r=WT(t),{host:o,port:a}=yR(t),l=a===null?"":`:${a}`,c={url:`${r}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(mr(c,s.config.emulator)&&mr(u,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=c,s.emulatorConfig=u,s.settings.appVerificationDisabledForTesting=!0,$o(o)?(_T(`${r}//${o}${l}`),yT("Auth",!0)):bR()}function WT(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yR(e){const t=WT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:t_(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:t_(o)}}}function t_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function bR(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Vs("not implemented")}_getIdTokenResponse(t){return Vs("not implemented")}_linkToIdToken(t,n){return Vs("not implemented")}_getReauthenticationResolver(t){return Vs("not implemented")}}async function wR(e,t){return Hi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(e,t){return Nl(e,"POST","/v1/accounts:signInWithPassword",Ui(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(e,t){return Nl(e,"POST","/v1/accounts:signInWithEmailLink",Ui(e,t))}async function IR(e,t){return Nl(e,"POST","/v1/accounts:signInWithEmailLink",Ui(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Ip{constructor(t,n,s,i=null){super("password",s),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new cl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new cl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hd(t,n,"signInWithPassword",TR);case"emailLink":return ER(t,{email:this._email,oobCode:this._password});default:Gn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hd(t,s,"signUpPassword",wR);case"emailLink":return IR(t,{idToken:n,email:this._email,oobCode:this._password});default:Gn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(e,t){return Nl(e,"POST","/v1/accounts:signInWithIdp",Ui(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="http://localhost";class _r extends Ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new _r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:i}=n,r=yp(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new _r(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return ho(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ho(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ho(t,n)}buildRequest(){const t={requestUri:SR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ml(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CR(e){const t=wa(Ta(e)).link,n=t?wa(Ta(t)).deep_link_id:null,s=wa(Ta(e)).deep_link_id;return(s?wa(Ta(s)).link:null)||s||n||t||e}class Sp{constructor(t){var n,s,i,r,o,a;const l=wa(Ta(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,f=AR((i=l.mode)!==null&&i!==void 0?i:null);Et(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=CR(t);try{return new Sp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(t,n){return cl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Sp.parseLink(n);return Et(s,"argument-error"),cl._fromEmailAndCode(t,s.code,s.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends YT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Ll{constructor(){super("facebook.com")}static credential(t){return _r._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pi.credential(t.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return _r._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return gi.credentialFromTaggedObject(t)}static credentialFromError(t){return gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return gi.credential(n,s)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Ll{constructor(){super("github.com")}static credential(t){return _r._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mi.credentialFromTaggedObject(t)}static credentialFromError(t){return mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mi.credential(t.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Ll{constructor(){super("twitter.com")}static credential(t,n){return _r._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return vi.credential(n,s)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(e,t){return Nl(e,"POST","/v1/accounts:signUp",Ui(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,i=!1){const r=await jn._fromIdTokenResponse(t,s,i),o=e_(s);return new yr({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const i=e_(s);return new yr({user:t,providerId:i,_tokenResponse:s,operationType:n})}}function e_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Js{constructor(t,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,pu.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,i){return new pu(t,n,s,i)}}function qT(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?pu._fromErrorAndOperation(e,r,t,s):r})}async function PR(e,t,n=!1){const s=await ll(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return yr._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(e,t,n=!1){const{auth:s}=e;if(Cn(s.app))return Promise.reject(Bs(s));const i="reauthenticate";try{const r=await ll(e,qT(s,i,t,e),n);Et(r.idToken,s,"internal-error");const o=Tp(r.idToken);Et(o,s,"internal-error");const{sub:a}=o;return Et(e.uid===a,s,"user-mismatch"),yr._forOperation(e,i,r)}catch(r){throw r?.code==="auth/user-not-found"&&Gn(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(e,t,n=!1){if(Cn(e.app))return Promise.reject(Bs(e));const s="signIn",i=await qT(e,s,t),r=await yr._fromIdTokenResponse(e,s,i);return n||await e._updateCurrentUser(r.user),r}async function DR(e,t){return KT(Cr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(e){const t=Cr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function RR(e,t,n){if(Cn(e.app))return Promise.reject(Bs(e));const s=Cr(e),o=await hd(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xR).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&GT(e),l}),a=await yr._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function MR(e,t,n){return Cn(e.app)?Promise.reject(Bs(e)):DR(Ln(e),Bo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&GT(e),s})}function OR(e,t,n,s){return Ln(e).onIdTokenChanged(t,n,s)}function NR(e,t,n){return Ln(e).beforeAuthStateChanged(t,n)}function LR(e){return Ln(e).signOut()}const gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gu,"1"),this.storage.removeItem(gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=1e3,$R=10;class QT extends XT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&t(n,i,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);nR()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,$R):i()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},VR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}QT.type="LOCAL";const FR=QT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends XT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}JT.type="SESSION";const ZT=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const s=new gh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await BR(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Ap("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(d.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(){return window}function HR(e){cs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){return typeof cs().WorkerGlobalScope<"u"&&typeof cs().importScripts=="function"}async function jR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zR(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function WR(){return tE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="firebaseLocalStorageDb",YR=1,mu="firebaseLocalStorage",nE="fbase_key";class Vl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mh(e,t){return e.transaction([mu],t?"readwrite":"readonly").objectStore(mu)}function qR(){const e=indexedDB.deleteDatabase(eE);return new Vl(e).toPromise()}function fd(){const e=indexedDB.open(eE,YR);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(mu,{keyPath:nE})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(mu)?t(s):(s.close(),await qR(),t(await fd()))})})}async function n_(e,t,n){const s=mh(e,!0).put({[nE]:t,value:n});return new Vl(s).toPromise()}async function KR(e,t){const n=mh(e,!1).get(t),s=await new Vl(n).toPromise();return s===void 0?null:s.value}function s_(e,t){const n=mh(e,!0).delete(t);return new Vl(n).toPromise()}const GR=800,XR=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>XR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(WR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await jR(),!this.activeServiceWorker)return;this.sender=new UR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fd();return await n_(t,gu,"1"),await s_(t,gu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>n_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>KR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>s_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const r=mh(i,!1).getAll();return new Vl(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:i,value:r}of t)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const QR=sE;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(e,t){return t?$s(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends Ip{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ho(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ho(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ho(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ZR(e){return KT(e.auth,new Cp(e),e.bypassAuthState)}function tM(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),kR(n,new Cp(e),e.bypassAuthState)}async function eM(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),PR(n,new Cp(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,n,s,i,r=!1){this.auth=t,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ZR;case"linkViaPopup":case"linkViaRedirect":return eM;case"reauthViaPopup":case"reauthViaRedirect":return tM;default:Gn(this.auth,"internal-error")}}resolve(t){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new Ol(2e3,1e4);class eo extends iE{constructor(t,n,s,i,r){super(t,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const t=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nM.get())};t()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="pendingRedirect",Uc=new Map;class iM extends iE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const s=await rM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rM(e,t){const n=lM(t),s=aM(e);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function oM(e,t){Uc.set(e._key(),t)}function aM(e){return $s(e._redirectPersistence)}function lM(e){return Bc(sM,e.config.apiKey,e.name)}async function cM(e,t,n=!1){if(Cn(e.app))return Promise.reject(Bs(e));const s=Cr(e),i=JR(s,t),o=await new iM(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=10*60*1e3;class hM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fM(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!rE(t)){const i=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ls(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uM&&this.cachedEventUids.clear(),this.cachedEventUids.has(i_(t))}saveEventToCache(t){this.cachedEventUids.add(i_(t)),this.lastProcessedEventTime=Date.now()}}function i_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function rE({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function fM(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rE(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(e,t={}){return Hi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gM=/^https?/;async function mM(e){if(e.config.emulator)return;const{authorizedDomains:t}=await dM(e);for(const n of t)try{if(vM(n))return}catch{}Gn(e,"unauthorized-domain")}function vM(e){const t=cd(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!gM.test(n))return!1;if(pM.test(e))return s===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new Ol(3e4,6e4);function r_(){const e=cs().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function yM(e){return new Promise((t,n)=>{var s,i,r;function o(){r_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{r_(),n(ls(e,"network-request-failed"))},timeout:_M.get()})}if(!((i=(s=cs().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((r=cs().gapi)===null||r===void 0)&&r.load)o();else{const a=hR("iframefcb");return cs()[a]=()=>{gapi.load?o():n(ls(e,"network-request-failed"))},jT(`${uR()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Hc=null,t})}let Hc=null;function bM(e){return Hc=Hc||yM(e),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=new Ol(5e3,15e3),TM="__/auth/iframe",EM="emulator/auth/iframe",IM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AM(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?wp(t,EM):`https://${e.config.authDomain}/${TM}`,s={apiKey:t.apiKey,appName:e.name,v:Fo},i=SM.get(e.config.apiHost);i&&(s.eid=i);const r=e._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Ml(s).slice(1)}`}async function CM(e){const t=await bM(e),n=cs().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:AM(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IM,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=ls(e,"network-request-failed"),a=cs().setTimeout(()=>{r(o)},wM.get());function l(){cs().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PM=500,kM=600,DM="_blank",RM="http://localhost";class o_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MM(e,t,n,s=PM,i=kM){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xM),{width:s.toString(),height:i.toString(),top:r,left:o}),c=Ze().toLowerCase();n&&(a=LT(c)?DM:n),OT(c)&&(t=t||RM,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(eR(c)&&a!=="_self")return OM(t||"",a),new o_(null);const f=window.open(t||"",a,u);Et(f,e,"popup-blocked");try{f.focus()}catch{}return new o_(f)}function OM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="__/auth/handler",LM="emulator/auth/handler",VM=encodeURIComponent("fac");async function a_(e,t,n,s,i,r){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Fo,eventId:i};if(t instanceof YT){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",wk(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(t instanceof Ll){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${VM}=${encodeURIComponent(l)}`:"";return`${$M(e)}?${Ml(a).slice(1)}${c}`}function $M({config:e}){return e.emulator?wp(e,LM):`https://${e.authDomain}/${NM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="webStorageSupport";class FM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZT,this._completeRedirectFn=cM,this._overrideRedirectResult=oM}async _openPopup(t,n,s,i){var r;Ws((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await a_(t,n,s,cd(),i);return MM(t,o,Ap())}async _openRedirect(t,n,s,i){await this._originValidation(t);const r=await a_(t,n,s,cd(),i);return HR(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Ws(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await CM(t),s=new hM(t);return n.register("authEvent",i=>(Et(i?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wf,{type:wf},i=>{var r;const o=(r=i?.[0])===null||r===void 0?void 0:r[wf];o!==void 0&&n(!!o),Gn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mM(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return UT()||NT()||Ep()}}const BM=FM;var l_="@firebase/auth",c_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jM(e){bo(new vr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;Et(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(e)},c=new aR(s,i,r,l);return vR(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),bo(new vr("auth-internal",t=>{const n=Cr(t.getProvider("auth").getImmediate());return(s=>new UM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(l_,c_,HM(e)),Ai(l_,c_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=5*60,WM=vT("authIdTokenMaxAge")||zM;let u_=null;const YM=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>WM)return;const i=n?.token;u_!==i&&(u_=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qM(e=ET()){const t=_p(e,"auth");if(t.isInitialized())return t.getImmediate();const n=mR(e,{popupRedirectResolver:BM,persistence:[QR,FR,ZT]}),s=vT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=YM(r.toString());NR(n,o,()=>o(n.currentUser)),OR(n,a=>o(a))}}const i=gT("auth");return i&&_R(n,`http://${i}`),n}function KM(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}lR({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=i=>{const r=ls("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",KM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jM("Browser");var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,oE;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,b){function w(){}w.prototype=b.prototype,E.D=b.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(A,x,C){for(var S=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)S[dt-2]=arguments[dt];return b.prototype[x].apply(A,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,b,w){w||(w=0);var A=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)A[x]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(x=0;16>x;++x)A[x]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=E.g[0],w=E.g[1],x=E.g[2];var C=E.g[3],S=b+(C^w&(x^C))+A[0]+3614090360&4294967295;b=w+(S<<7&4294967295|S>>>25),S=C+(x^b&(w^x))+A[1]+3905402710&4294967295,C=b+(S<<12&4294967295|S>>>20),S=x+(w^C&(b^w))+A[2]+606105819&4294967295,x=C+(S<<17&4294967295|S>>>15),S=w+(b^x&(C^b))+A[3]+3250441966&4294967295,w=x+(S<<22&4294967295|S>>>10),S=b+(C^w&(x^C))+A[4]+4118548399&4294967295,b=w+(S<<7&4294967295|S>>>25),S=C+(x^b&(w^x))+A[5]+1200080426&4294967295,C=b+(S<<12&4294967295|S>>>20),S=x+(w^C&(b^w))+A[6]+2821735955&4294967295,x=C+(S<<17&4294967295|S>>>15),S=w+(b^x&(C^b))+A[7]+4249261313&4294967295,w=x+(S<<22&4294967295|S>>>10),S=b+(C^w&(x^C))+A[8]+1770035416&4294967295,b=w+(S<<7&4294967295|S>>>25),S=C+(x^b&(w^x))+A[9]+2336552879&4294967295,C=b+(S<<12&4294967295|S>>>20),S=x+(w^C&(b^w))+A[10]+4294925233&4294967295,x=C+(S<<17&4294967295|S>>>15),S=w+(b^x&(C^b))+A[11]+2304563134&4294967295,w=x+(S<<22&4294967295|S>>>10),S=b+(C^w&(x^C))+A[12]+1804603682&4294967295,b=w+(S<<7&4294967295|S>>>25),S=C+(x^b&(w^x))+A[13]+4254626195&4294967295,C=b+(S<<12&4294967295|S>>>20),S=x+(w^C&(b^w))+A[14]+2792965006&4294967295,x=C+(S<<17&4294967295|S>>>15),S=w+(b^x&(C^b))+A[15]+1236535329&4294967295,w=x+(S<<22&4294967295|S>>>10),S=b+(x^C&(w^x))+A[1]+4129170786&4294967295,b=w+(S<<5&4294967295|S>>>27),S=C+(w^x&(b^w))+A[6]+3225465664&4294967295,C=b+(S<<9&4294967295|S>>>23),S=x+(b^w&(C^b))+A[11]+643717713&4294967295,x=C+(S<<14&4294967295|S>>>18),S=w+(C^b&(x^C))+A[0]+3921069994&4294967295,w=x+(S<<20&4294967295|S>>>12),S=b+(x^C&(w^x))+A[5]+3593408605&4294967295,b=w+(S<<5&4294967295|S>>>27),S=C+(w^x&(b^w))+A[10]+38016083&4294967295,C=b+(S<<9&4294967295|S>>>23),S=x+(b^w&(C^b))+A[15]+3634488961&4294967295,x=C+(S<<14&4294967295|S>>>18),S=w+(C^b&(x^C))+A[4]+3889429448&4294967295,w=x+(S<<20&4294967295|S>>>12),S=b+(x^C&(w^x))+A[9]+568446438&4294967295,b=w+(S<<5&4294967295|S>>>27),S=C+(w^x&(b^w))+A[14]+3275163606&4294967295,C=b+(S<<9&4294967295|S>>>23),S=x+(b^w&(C^b))+A[3]+4107603335&4294967295,x=C+(S<<14&4294967295|S>>>18),S=w+(C^b&(x^C))+A[8]+1163531501&4294967295,w=x+(S<<20&4294967295|S>>>12),S=b+(x^C&(w^x))+A[13]+2850285829&4294967295,b=w+(S<<5&4294967295|S>>>27),S=C+(w^x&(b^w))+A[2]+4243563512&4294967295,C=b+(S<<9&4294967295|S>>>23),S=x+(b^w&(C^b))+A[7]+1735328473&4294967295,x=C+(S<<14&4294967295|S>>>18),S=w+(C^b&(x^C))+A[12]+2368359562&4294967295,w=x+(S<<20&4294967295|S>>>12),S=b+(w^x^C)+A[5]+4294588738&4294967295,b=w+(S<<4&4294967295|S>>>28),S=C+(b^w^x)+A[8]+2272392833&4294967295,C=b+(S<<11&4294967295|S>>>21),S=x+(C^b^w)+A[11]+1839030562&4294967295,x=C+(S<<16&4294967295|S>>>16),S=w+(x^C^b)+A[14]+4259657740&4294967295,w=x+(S<<23&4294967295|S>>>9),S=b+(w^x^C)+A[1]+2763975236&4294967295,b=w+(S<<4&4294967295|S>>>28),S=C+(b^w^x)+A[4]+1272893353&4294967295,C=b+(S<<11&4294967295|S>>>21),S=x+(C^b^w)+A[7]+4139469664&4294967295,x=C+(S<<16&4294967295|S>>>16),S=w+(x^C^b)+A[10]+3200236656&4294967295,w=x+(S<<23&4294967295|S>>>9),S=b+(w^x^C)+A[13]+681279174&4294967295,b=w+(S<<4&4294967295|S>>>28),S=C+(b^w^x)+A[0]+3936430074&4294967295,C=b+(S<<11&4294967295|S>>>21),S=x+(C^b^w)+A[3]+3572445317&4294967295,x=C+(S<<16&4294967295|S>>>16),S=w+(x^C^b)+A[6]+76029189&4294967295,w=x+(S<<23&4294967295|S>>>9),S=b+(w^x^C)+A[9]+3654602809&4294967295,b=w+(S<<4&4294967295|S>>>28),S=C+(b^w^x)+A[12]+3873151461&4294967295,C=b+(S<<11&4294967295|S>>>21),S=x+(C^b^w)+A[15]+530742520&4294967295,x=C+(S<<16&4294967295|S>>>16),S=w+(x^C^b)+A[2]+3299628645&4294967295,w=x+(S<<23&4294967295|S>>>9),S=b+(x^(w|~C))+A[0]+4096336452&4294967295,b=w+(S<<6&4294967295|S>>>26),S=C+(w^(b|~x))+A[7]+1126891415&4294967295,C=b+(S<<10&4294967295|S>>>22),S=x+(b^(C|~w))+A[14]+2878612391&4294967295,x=C+(S<<15&4294967295|S>>>17),S=w+(C^(x|~b))+A[5]+4237533241&4294967295,w=x+(S<<21&4294967295|S>>>11),S=b+(x^(w|~C))+A[12]+1700485571&4294967295,b=w+(S<<6&4294967295|S>>>26),S=C+(w^(b|~x))+A[3]+2399980690&4294967295,C=b+(S<<10&4294967295|S>>>22),S=x+(b^(C|~w))+A[10]+4293915773&4294967295,x=C+(S<<15&4294967295|S>>>17),S=w+(C^(x|~b))+A[1]+2240044497&4294967295,w=x+(S<<21&4294967295|S>>>11),S=b+(x^(w|~C))+A[8]+1873313359&4294967295,b=w+(S<<6&4294967295|S>>>26),S=C+(w^(b|~x))+A[15]+4264355552&4294967295,C=b+(S<<10&4294967295|S>>>22),S=x+(b^(C|~w))+A[6]+2734768916&4294967295,x=C+(S<<15&4294967295|S>>>17),S=w+(C^(x|~b))+A[13]+1309151649&4294967295,w=x+(S<<21&4294967295|S>>>11),S=b+(x^(w|~C))+A[4]+4149444226&4294967295,b=w+(S<<6&4294967295|S>>>26),S=C+(w^(b|~x))+A[11]+3174756917&4294967295,C=b+(S<<10&4294967295|S>>>22),S=x+(b^(C|~w))+A[2]+718787259&4294967295,x=C+(S<<15&4294967295|S>>>17),S=w+(C^(x|~b))+A[9]+3951481745&4294967295,E.g[0]=E.g[0]+b&4294967295,E.g[1]=E.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,E.g[2]=E.g[2]+x&4294967295,E.g[3]=E.g[3]+C&4294967295}s.prototype.u=function(E,b){b===void 0&&(b=E.length);for(var w=b-this.blockSize,A=this.B,x=this.h,C=0;C<b;){if(x==0)for(;C<=w;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<b;)if(A[x++]=E.charCodeAt(C++),x==this.blockSize){i(this,A),x=0;break}}else for(;C<b;)if(A[x++]=E[C++],x==this.blockSize){i(this,A),x=0;break}}this.h=x,this.o+=b},s.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var b=1;b<E.length-8;++b)E[b]=0;var w=8*this.o;for(b=E.length-8;b<E.length;++b)E[b]=w&255,w/=256;for(this.u(E),E=Array(16),b=w=0;4>b;++b)for(var A=0;32>A;A+=8)E[w++]=this.g[b]>>>A&255;return E};function r(E,b){var w=a;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=b(E)}function o(E,b){this.h=b;for(var w=[],A=!0,x=E.length-1;0<=x;x--){var C=E[x]|0;A&&C==b||(w[x]=C,A=!1)}this.g=w}var a={};function l(E){return-128<=E&&128>E?r(E,function(b){return new o([b|0],0>b?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return y(c(-E));for(var b=[],w=1,A=0;E>=w;A++)b[A]=E/w|0,w*=4294967296;return new o(b,0)}function u(E,b){if(E.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E.charAt(0)=="-")return y(u(E.substring(1),b));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(b,8)),A=f,x=0;x<E.length;x+=8){var C=Math.min(8,E.length-x),S=parseInt(E.substring(x,x+C),b);8>C?(C=c(Math.pow(b,C)),A=A.j(C).add(c(S))):(A=A.j(w),A=A.add(c(S)))}return A}var f=l(0),d=l(1),p=l(16777216);e=o.prototype,e.m=function(){if(_(this))return-y(this).m();for(var E=0,b=1,w=0;w<this.g.length;w++){var A=this.i(w);E+=(0<=A?A:4294967296+A)*b,b*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(m(this))return"0";if(_(this))return"-"+y(this).toString(E);for(var b=c(Math.pow(E,6)),w=this,A="";;){var x=k(w,b).g;w=T(w,x.j(b));var C=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=x,m(w))return C+A;for(;6>C.length;)C="0"+C;A=C+A}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function m(E){if(E.h!=0)return!1;for(var b=0;b<E.g.length;b++)if(E.g[b]!=0)return!1;return!0}function _(E){return E.h==-1}e.l=function(E){return E=T(this,E),_(E)?-1:m(E)?0:1};function y(E){for(var b=E.g.length,w=[],A=0;A<b;A++)w[A]=~E.g[A];return new o(w,~E.h).add(d)}e.abs=function(){return _(this)?y(this):this},e.add=function(E){for(var b=Math.max(this.g.length,E.g.length),w=[],A=0,x=0;x<=b;x++){var C=A+(this.i(x)&65535)+(E.i(x)&65535),S=(C>>>16)+(this.i(x)>>>16)+(E.i(x)>>>16);A=S>>>16,C&=65535,S&=65535,w[x]=S<<16|C}return new o(w,w[w.length-1]&-2147483648?-1:0)};function T(E,b){return E.add(y(b))}e.j=function(E){if(m(this)||m(E))return f;if(_(this))return _(E)?y(this).j(y(E)):y(y(this).j(E));if(_(E))return y(this.j(y(E)));if(0>this.l(p)&&0>E.l(p))return c(this.m()*E.m());for(var b=this.g.length+E.g.length,w=[],A=0;A<2*b;A++)w[A]=0;for(A=0;A<this.g.length;A++)for(var x=0;x<E.g.length;x++){var C=this.i(A)>>>16,S=this.i(A)&65535,dt=E.i(x)>>>16,Q=E.i(x)&65535;w[2*A+2*x]+=S*Q,R(w,2*A+2*x),w[2*A+2*x+1]+=C*Q,R(w,2*A+2*x+1),w[2*A+2*x+1]+=S*dt,R(w,2*A+2*x+1),w[2*A+2*x+2]+=C*dt,R(w,2*A+2*x+2)}for(A=0;A<b;A++)w[A]=w[2*A+1]<<16|w[2*A];for(A=b;A<2*b;A++)w[A]=0;return new o(w,0)};function R(E,b){for(;(E[b]&65535)!=E[b];)E[b+1]+=E[b]>>>16,E[b]&=65535,b++}function D(E,b){this.g=E,this.h=b}function k(E,b){if(m(b))throw Error("division by zero");if(m(E))return new D(f,f);if(_(E))return b=k(y(E),b),new D(y(b.g),y(b.h));if(_(b))return b=k(E,y(b)),new D(y(b.g),b.h);if(30<E.g.length){if(_(E)||_(b))throw Error("slowDivide_ only works with positive integers.");for(var w=d,A=b;0>=A.l(E);)w=O(w),A=O(A);var x=L(w,1),C=L(A,1);for(A=L(A,2),w=L(w,2);!m(A);){var S=C.add(A);0>=S.l(E)&&(x=x.add(w),C=S),A=L(A,1),w=L(w,1)}return b=T(E,x.j(b)),new D(x,b)}for(x=f;0<=E.l(b);){for(w=Math.max(1,Math.floor(E.m()/b.m())),A=Math.ceil(Math.log(w)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),C=c(w),S=C.j(b);_(S)||0<S.l(E);)w-=A,C=c(w),S=C.j(b);m(C)&&(C=d),x=x.add(C),E=T(E,S)}return new D(x,E)}e.A=function(E){return k(this,E).h},e.and=function(E){for(var b=Math.max(this.g.length,E.g.length),w=[],A=0;A<b;A++)w[A]=this.i(A)&E.i(A);return new o(w,this.h&E.h)},e.or=function(E){for(var b=Math.max(this.g.length,E.g.length),w=[],A=0;A<b;A++)w[A]=this.i(A)|E.i(A);return new o(w,this.h|E.h)},e.xor=function(E){for(var b=Math.max(this.g.length,E.g.length),w=[],A=0;A<b;A++)w[A]=this.i(A)^E.i(A);return new o(w,this.h^E.h)};function O(E){for(var b=E.g.length+1,w=[],A=0;A<b;A++)w[A]=E.i(A)<<1|E.i(A-1)>>>31;return new o(w,E.h)}function L(E,b){var w=b>>5;b%=32;for(var A=E.g.length-w,x=[],C=0;C<A;C++)x[C]=0<b?E.i(C+w)>>>b|E.i(C+w+1)<<32-b:E.i(C+w);return new o(x,E.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,oE=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Ci=o}).apply(typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aE,Ea,lE,jc,dd,cE,uE,hE;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,g,v){return h==Array.prototype||h==Object.prototype||(h[g]=v.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var g=0;g<h.length;++g){var v=h[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function i(h,g){if(g)t:{var v=s;h=h.split(".");for(var I=0;I<h.length-1;I++){var V=h[I];if(!(V in v))break t;v=v[V]}h=h[h.length-1],I=v[h],g=g(I),g!=I&&g!=null&&t(v,h,{configurable:!0,writable:!0,value:g})}}function r(h,g){h instanceof String&&(h+="");var v=0,I=!1,V={next:function(){if(!I&&v<h.length){var $=v++;return{value:g($,h[$]),done:!1}}return I=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(h){return h||function(){return r(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var g=typeof h;return g=g!="object"?g:h?Array.isArray(h)?"array":g:"null",g=="array"||g=="object"&&typeof h.length=="number"}function c(h){var g=typeof h;return g=="object"&&h!=null||g=="function"}function u(h,g,v){return h.call.apply(h.bind,arguments)}function f(h,g,v){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,I),h.apply(g,V)}}return function(){return h.apply(g,arguments)}}function d(h,g,v){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,d.apply(null,arguments)}function p(h,g){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function m(h,g){function v(){}v.prototype=g.prototype,h.aa=g.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(I,V,$){for(var rt=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)rt[ee-2]=arguments[ee];return g.prototype[V].apply(I,rt)}}function _(h){const g=h.length;if(0<g){const v=Array(g);for(let I=0;I<g;I++)v[I]=h[I];return v}return[]}function y(h,g){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(l(I)){const V=h.length||0,$=I.length||0;h.length=V+$;for(let rt=0;rt<$;rt++)h[V+rt]=I[rt]}else h.push(I)}}class T{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function R(h){return/^[\s\xa0]*$/.test(h)}function D(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function k(h){return k[" "](h),h}k[" "]=function(){};var O=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function L(h,g,v){for(const I in h)g.call(v,h[I],I,h)}function E(h,g){for(const v in h)g.call(void 0,h[v],v,h)}function b(h){const g={};for(const v in h)g[v]=h[v];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(h,g){let v,I;for(let V=1;V<arguments.length;V++){I=arguments[V];for(v in I)h[v]=I[v];for(let $=0;$<w.length;$++)v=w[$],Object.prototype.hasOwnProperty.call(I,v)&&(h[v]=I[v])}}function x(h){var g=1;h=h.split(":");const v=[];for(;0<g&&h.length;)v.push(h.shift()),g--;return h.length&&v.push(h.join(":")),v}function C(h){a.setTimeout(()=>{throw h},0)}function S(){var h=Nt;let g=null;return h.g&&(g=h.g,h.g=h.g.next,h.g||(h.h=null),g.next=null),g}class dt{constructor(){this.h=this.g=null}add(g,v){const I=Q.get();I.set(g,v),this.h?this.h.next=I:this.g=I,this.h=I}}var Q=new T(()=>new at,h=>h.reset());class at{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,mt=!1,Nt=new dt,z=()=>{const h=a.Promise.resolve(void 0);ot=()=>{h.then(At)}};var At=()=>{for(var h;h=S();){try{h.h.call(h.g)}catch(v){C(v)}var g=Q;g.j(h),100>g.h&&(g.h++,h.next=g.g,g.g=h)}mt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pt(h,g){this.type=h,this.g=this.target=g,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var Rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,g=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};a.addEventListener("test",v,g),a.removeEventListener("test",v,g)}catch{}return h}();function Wt(h,g){if(Pt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=g,g=h.relatedTarget){if(O){t:{try{k(g.nodeName);var V=!0;break t}catch{}V=!1}V||(g=null)}}else v=="mouseover"?g=h.fromElement:v=="mouseout"&&(g=h.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ut[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Wt.aa.h.call(this)}}m(Wt,Pt);var Ut={2:"touch",3:"pen",4:"mouse"};Wt.prototype.h=function(){Wt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),st=0;function Z(h,g,v,I,V){this.listener=h,this.proxy=null,this.src=g,this.type=v,this.capture=!!I,this.ha=V,this.key=++st,this.da=this.fa=!1}function ct(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ot(h){this.src=h,this.g={},this.h=0}Ot.prototype.add=function(h,g,v,I,V){var $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);var rt=M(h,g,I,V);return-1<rt?(g=h[rt],v||(g.fa=!1)):(g=new Z(g,this.src,$,!!I,V),g.fa=v,h.push(g)),g};function P(h,g){var v=g.type;if(v in h.g){var I=h.g[v],V=Array.prototype.indexOf.call(I,g,void 0),$;($=0<=V)&&Array.prototype.splice.call(I,V,1),$&&(ct(g),h.g[v].length==0&&(delete h.g[v],h.h--))}}function M(h,g,v,I){for(var V=0;V<h.length;++V){var $=h[V];if(!$.da&&$.listener==g&&$.capture==!!v&&$.ha==I)return V}return-1}var N="closure_lm_"+(1e6*Math.random()|0),B={};function H(h,g,v,I,V){if(Array.isArray(g)){for(var $=0;$<g.length;$++)H(h,g[$],v,I,V);return null}return v=yt(v),h&&h[F]?h.K(g,v,c(I)?!!I.capture:!1,V):U(h,g,v,!1,I,V)}function U(h,g,v,I,V,$){if(!g)throw Error("Invalid event type");var rt=c(V)?!!V.capture:!!V,ee=nt(h);if(ee||(h[N]=ee=new Ot(h)),v=ee.add(g,v,I,rt,$),v.proxy)return v;if(I=it(),v.proxy=I,I.src=h,I.listener=v,h.addEventListener)Rt||(V=rt),V===void 0&&(V=!1),h.addEventListener(g.toString(),I,V);else if(h.attachEvent)h.attachEvent(W(g.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function it(){function h(v){return g.call(h.src,h.listener,v)}const g=pt;return h}function J(h,g,v,I,V){if(Array.isArray(g))for(var $=0;$<g.length;$++)J(h,g[$],v,I,V);else I=c(I)?!!I.capture:!!I,v=yt(v),h&&h[F]?(h=h.i,g=String(g).toString(),g in h.g&&($=h.g[g],v=M($,v,I,V),-1<v&&(ct($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete h.g[g],h.h--)))):h&&(h=nt(h))&&(g=h.g[g.toString()],h=-1,g&&(h=M(g,v,I,V)),(v=-1<h?g[h]:null)&&K(v))}function K(h){if(typeof h!="number"&&h&&!h.da){var g=h.src;if(g&&g[F])P(g.i,h);else{var v=h.type,I=h.proxy;g.removeEventListener?g.removeEventListener(v,I,h.capture):g.detachEvent?g.detachEvent(W(v),I):g.addListener&&g.removeListener&&g.removeListener(I),(v=nt(g))?(P(v,h),v.h==0&&(v.src=null,g[N]=null)):ct(h)}}}function W(h){return h in B?B[h]:B[h]="on"+h}function pt(h,g){if(h.da)h=!0;else{g=new Wt(g,this);var v=h.listener,I=h.ha||h.src;h.fa&&K(h),h=v.call(I,g)}return h}function nt(h){return h=h[N],h instanceof Ot?h:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(h){return typeof h=="function"?h:(h[ht]||(h[ht]=function(g){return h.handleEvent(g)}),h[ht])}function vt(){et.call(this),this.i=new Ot(this),this.M=this,this.F=null}m(vt,et),vt.prototype[F]=!0,vt.prototype.removeEventListener=function(h,g,v,I){J(this,h,g,v,I)};function It(h,g){var v,I=h.F;if(I)for(v=[];I;I=I.F)v.push(I);if(h=h.M,I=g.type||g,typeof g=="string")g=new Pt(g,h);else if(g instanceof Pt)g.target=g.target||h;else{var V=g;g=new Pt(I,h),A(g,V)}if(V=!0,v)for(var $=v.length-1;0<=$;$--){var rt=g.g=v[$];V=Lt(rt,I,!0,g)&&V}if(rt=g.g=h,V=Lt(rt,I,!0,g)&&V,V=Lt(rt,I,!1,g)&&V,v)for($=0;$<v.length;$++)rt=g.g=v[$],V=Lt(rt,I,!1,g)&&V}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var h=this.i,g;for(g in h.g){for(var v=h.g[g],I=0;I<v.length;I++)ct(v[I]);delete h.g[g],h.h--}}this.F=null},vt.prototype.K=function(h,g,v,I){return this.i.add(String(h),g,!1,v,I)},vt.prototype.L=function(h,g,v,I){return this.i.add(String(h),g,!0,v,I)};function Lt(h,g,v,I){if(g=h.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,$=0;$<g.length;++$){var rt=g[$];if(rt&&!rt.da&&rt.capture==v){var ee=rt.listener,Oe=rt.ha||rt.src;rt.fa&&P(h.i,rt),V=ee.call(Oe,I)!==!1&&V}}return V&&!I.defaultPrevented}function be(h,g,v){if(typeof h=="function")v&&(h=d(h,v));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(h,g||0)}function we(h){h.g=be(()=>{h.g=null,h.i&&(h.i=!1,we(h))},h.l);const g=h.h;h.h=null,h.m.apply(null,g)}class cn extends et{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:we(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ae(h){et.call(this),this.h=h,this.g={}}m(Ae,et);var Un=[];function zi(h){L(h.g,function(g,v){this.g.hasOwnProperty(v)&&K(g)},h),h.g={}}Ae.prototype.N=function(){Ae.aa.N.call(this),zi(this)},Ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Te=a.JSON.stringify,nn=a.JSON.parse,Y=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function tt(){}tt.prototype.h=null;function Ct(h){return h.h||(h.h=h.i())}function qt(){}var he={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function En(){Pt.call(this,"d")}m(En,Pt);function In(){Pt.call(this,"c")}m(In,Pt);var _n={},$r=null;function Ts(){return $r=$r||new vt}_n.La="serverreachability";function Yl(h){Pt.call(this,_n.La,h)}m(Yl,Pt);function Es(h){const g=Ts();It(g,new Yl(g))}_n.STAT_EVENT="statevent";function ta(h,g){Pt.call(this,_n.STAT_EVENT,h),this.stat=g}m(ta,Pt);function Me(h){const g=Ts();It(g,new ta(g,h))}_n.Ma="timingevent";function Fr(h,g){Pt.call(this,_n.Ma,h),this.size=g}m(Fr,Pt);function ei(h,g){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},g)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function WS(h,g,v,I,V,$){h.info(function(){if(h.g)if($)for(var rt="",ee=$.split("&"),Oe=0;Oe<ee.length;Oe++){var Yt=ee[Oe].split("=");if(1<Yt.length){var Ue=Yt[0];Yt=Yt[1];var He=Ue.split("_");rt=2<=He.length&&He[1]=="type"?rt+(Ue+"="+Yt+"&"):rt+(Ue+"=redacted&")}}else rt=null;else rt=$;return"XMLHTTP REQ ("+I+") [attempt "+V+"]: "+g+`
`+v+`
`+rt})}function YS(h,g,v,I,V,$,rt){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+V+"]: "+g+`
`+v+`
`+$+" "+rt})}function Br(h,g,v,I){h.info(function(){return"XMLHTTP TEXT ("+g+"): "+KS(h,v)+(I?" "+I:"")})}function qS(h,g){h.info(function(){return"TIMEOUT: "+g})}Wi.prototype.info=function(){};function KS(h,g){if(!h.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var I=v[h];if(!(2>I.length)){var V=I[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var rt=1;rt<V.length;rt++)V[rt]=""}}}}return Te(v)}catch{return g}}var ql={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uh;function Kl(){}m(Kl,tt),Kl.prototype.g=function(){return new XMLHttpRequest},Kl.prototype.i=function(){return{}},Uh=new Kl;function ni(h,g,v,I){this.j=h,this.i=g,this.l=v,this.R=I||1,this.U=new Ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gg}function Gg(){this.i=null,this.g="",this.h=!1}var Xg={},Hh={};function jh(h,g,v){h.L=1,h.v=Jl(Is(g)),h.m=v,h.P=!0,Qg(h,null)}function Qg(h,g){h.F=Date.now(),Gl(h),h.A=Is(h.v);var v=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),hm(v.i,"t",I),h.C=0,v=h.j.J,h.h=new Gg,h.g=Pm(h.j,v?g:null,!h.m),0<h.O&&(h.M=new cn(d(h.Y,h,h.g),h.O)),g=h.U,v=h.g,I=h.ca;var V="readystatechange";Array.isArray(V)||(V&&(Un[0]=V.toString()),V=Un);for(var $=0;$<V.length;$++){var rt=H(v,V[$],I||g.handleEvent,!1,g.h||g);if(!rt)break;g.g[rt.key]=rt}g=h.H?b(h.H):{},h.m?(h.u||(h.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,g)):(h.u="GET",h.g.ea(h.A,h.u,null,g)),Es(),WS(h.i,h.u,h.A,h.l,h.R,h.m)}ni.prototype.ca=function(h){h=h.target;const g=this.M;g&&Ss(h)==3?g.j():this.Y(h)},ni.prototype.Y=function(h){try{if(h==this.g)t:{const He=Ss(this.g);var g=this.g.Ba();const jr=this.g.Z();if(!(3>He)&&(He!=3||this.g&&(this.h.h||this.g.oa()||_m(this.g)))){this.J||He!=4||g==7||(g==8||0>=jr?Es(3):Es(2)),zh(this);var v=this.g.Z();this.X=v;e:if(Jg(this)){var I=_m(this.g);h="";var V=I.length,$=Ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yi(this),ea(this);var rt="";break e}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,h+=this.h.i.decode(I[g],{stream:!($&&g==V-1)});I.length=0,this.h.g+=h,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=v==200,YS(this.i,this.u,this.A,this.l,this.R,He,v),this.o){if(this.T&&!this.K){e:{if(this.g){var ee,Oe=this.g;if((ee=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(ee)){var Yt=ee;break e}}Yt=null}if(v=Yt)Br(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wh(this,v);else{this.o=!1,this.s=3,Me(12),Yi(this),ea(this);break t}}if(this.P){v=!0;let Hn;for(;!this.J&&this.C<rt.length;)if(Hn=GS(this,rt),Hn==Hh){He==4&&(this.s=4,Me(14),v=!1),Br(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==Xg){this.s=4,Me(15),Br(this.i,this.l,rt,"[Invalid Chunk]"),v=!1;break}else Br(this.i,this.l,Hn,null),Wh(this,Hn);if(Jg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||rt.length!=0||this.h.h||(this.s=1,Me(16),v=!1),this.o=this.o&&v,!v)Br(this.i,this.l,rt,"[Invalid Chunked Response]"),Yi(this),ea(this);else if(0<rt.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Qh(Ue),Ue.M=!0,Me(11))}}else Br(this.i,this.l,rt,null),Wh(this,rt);He==4&&Yi(this),this.o&&!this.J&&(He==4?Sm(this.j,this):(this.o=!1,Gl(this)))}else fA(this.g),v==400&&0<rt.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),Yi(this),ea(this)}}}catch{}finally{}};function Jg(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function GS(h,g){var v=h.C,I=g.indexOf(`
`,v);return I==-1?Hh:(v=Number(g.substring(v,I)),isNaN(v)?Xg:(I+=1,I+v>g.length?Hh:(g=g.slice(I,I+v),h.C=I+v,g)))}ni.prototype.cancel=function(){this.J=!0,Yi(this)};function Gl(h){h.S=Date.now()+h.I,Zg(h,h.I)}function Zg(h,g){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ei(d(h.ba,h),g)}function zh(h){h.B&&(a.clearTimeout(h.B),h.B=null)}ni.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(qS(this.i,this.A),this.L!=2&&(Es(),Me(17)),Yi(this),this.s=2,ea(this)):Zg(this,this.S-h)};function ea(h){h.j.G==0||h.J||Sm(h.j,h)}function Yi(h){zh(h);var g=h.M;g&&typeof g.ma=="function"&&g.ma(),h.M=null,zi(h.U),h.g&&(g=h.g,h.g=null,g.abort(),g.ma())}function Wh(h,g){try{var v=h.j;if(v.G!=0&&(v.g==h||Yh(v.h,h))){if(!h.K&&Yh(v.h,h)&&v.G==3){try{var I=v.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var V=I;if(V[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)ic(v),nc(v);else break t;Xh(v),Me(18)}}else v.za=V[1],0<v.za-v.T&&37500>V[2]&&v.F&&v.v==0&&!v.C&&(v.C=ei(d(v.Za,v),6e3));if(1>=nm(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ki(v,11)}else if((h.K||v.g==h)&&ic(v),!R(g))for(V=v.Da.g.parse(g),g=0;g<V.length;g++){let Yt=V[g];if(v.T=Yt[0],Yt=Yt[1],v.G==2)if(Yt[0]=="c"){v.K=Yt[1],v.ia=Yt[2];const Ue=Yt[3];Ue!=null&&(v.la=Ue,v.j.info("VER="+v.la));const He=Yt[4];He!=null&&(v.Aa=He,v.j.info("SVER="+v.Aa));const jr=Yt[5];jr!=null&&typeof jr=="number"&&0<jr&&(I=1.5*jr,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Hn=h.g;if(Hn){const oc=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oc){var $=I.h;$.g||oc.indexOf("spdy")==-1&&oc.indexOf("quic")==-1&&oc.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(qh($,$.h),$.h=null))}if(I.D){const Jh=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jh&&(I.ya=Jh,le(I.I,I.D,Jh))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var rt=h;if(I.qa=xm(I,I.J?I.ia:null,I.W),rt.K){sm(I.h,rt);var ee=rt,Oe=I.L;Oe&&(ee.I=Oe),ee.B&&(zh(ee),Gl(ee)),I.g=rt}else Em(I);0<v.i.length&&sc(v)}else Yt[0]!="stop"&&Yt[0]!="close"||Ki(v,7);else v.G==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Ki(v,7):Gh(v):Yt[0]!="noop"&&v.l&&v.l.ta(Yt),v.v=0)}}Es(4)}catch{}}var XS=class{constructor(h,g){this.g=h,this.map=g}};function tm(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function em(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function nm(h){return h.h?1:h.g?h.g.size:0}function Yh(h,g){return h.h?h.h==g:h.g?h.g.has(g):!1}function qh(h,g){h.g?h.g.add(g):h.h=g}function sm(h,g){h.h&&h.h==g?h.h=null:h.g&&h.g.has(g)&&h.g.delete(g)}tm.prototype.cancel=function(){if(this.i=im(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function im(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let g=h.i;for(const v of h.g.values())g=g.concat(v.D);return g}return _(h.i)}function QS(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var g=[],v=h.length,I=0;I<v;I++)g.push(h[I]);return g}g=[],v=0;for(I in h)g[v++]=h[I];return g}function JS(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var g=[];h=h.length;for(var v=0;v<h;v++)g.push(v);return g}g=[],v=0;for(const I in h)g[v++]=I;return g}}}function rm(h,g){if(h.forEach&&typeof h.forEach=="function")h.forEach(g,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,g,void 0);else for(var v=JS(h),I=QS(h),V=I.length,$=0;$<V;$++)g.call(void 0,I[$],v&&v[$],h)}var om=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZS(h,g){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var I=h[v].indexOf("="),V=null;if(0<=I){var $=h[v].substring(0,I);V=h[v].substring(I+1)}else $=h[v];g($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function qi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof qi){this.h=h.h,Xl(this,h.j),this.o=h.o,this.g=h.g,Ql(this,h.s),this.l=h.l;var g=h.i,v=new ia;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),am(this,v),this.m=h.m}else h&&(g=String(h).match(om))?(this.h=!1,Xl(this,g[1]||"",!0),this.o=na(g[2]||""),this.g=na(g[3]||"",!0),Ql(this,g[4]),this.l=na(g[5]||"",!0),am(this,g[6]||"",!0),this.m=na(g[7]||"")):(this.h=!1,this.i=new ia(null,this.h))}qi.prototype.toString=function(){var h=[],g=this.j;g&&h.push(sa(g,lm,!0),":");var v=this.g;return(v||g=="file")&&(h.push("//"),(g=this.o)&&h.push(sa(g,lm,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(sa(v,v.charAt(0)=="/"?nA:eA,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",sa(v,iA)),h.join("")};function Is(h){return new qi(h)}function Xl(h,g,v){h.j=v?na(g,!0):g,h.j&&(h.j=h.j.replace(/:$/,""))}function Ql(h,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);h.s=g}else h.s=null}function am(h,g,v){g instanceof ia?(h.i=g,rA(h.i,h.h)):(v||(g=sa(g,sA)),h.i=new ia(g,h.h))}function le(h,g,v){h.i.set(g,v)}function Jl(h){return le(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function na(h,g){return h?g?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function sa(h,g,v){return typeof h=="string"?(h=encodeURI(h).replace(g,tA),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function tA(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var lm=/[#\/\?@]/g,eA=/[#\?:]/g,nA=/[#\?]/g,sA=/[#\?@]/g,iA=/#/g;function ia(h,g){this.h=this.g=null,this.i=h||null,this.j=!!g}function si(h){h.g||(h.g=new Map,h.h=0,h.i&&ZS(h.i,function(g,v){h.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}e=ia.prototype,e.add=function(h,g){si(this),this.i=null,h=Ur(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(g),this.h+=1,this};function cm(h,g){si(h),g=Ur(h,g),h.g.has(g)&&(h.i=null,h.h-=h.g.get(g).length,h.g.delete(g))}function um(h,g){return si(h),g=Ur(h,g),h.g.has(g)}e.forEach=function(h,g){si(this),this.g.forEach(function(v,I){v.forEach(function(V){h.call(g,V,I,this)},this)},this)},e.na=function(){si(this);const h=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let I=0;I<g.length;I++){const V=h[I];for(let $=0;$<V.length;$++)v.push(g[I])}return v},e.V=function(h){si(this);let g=[];if(typeof h=="string")um(this,h)&&(g=g.concat(this.g.get(Ur(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)g=g.concat(h[v])}return g},e.set=function(h,g){return si(this),this.i=null,h=Ur(this,h),um(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[g]),this.h+=1,this},e.get=function(h,g){return h?(h=this.V(h),0<h.length?String(h[0]):g):g};function hm(h,g,v){cm(h,g),0<v.length&&(h.i=null,h.g.set(Ur(h,g),_(v)),h.h+=v.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var I=g[v];const $=encodeURIComponent(String(I)),rt=this.V(I);for(I=0;I<rt.length;I++){var V=$;rt[I]!==""&&(V+="="+encodeURIComponent(String(rt[I]))),h.push(V)}}return this.i=h.join("&")};function Ur(h,g){return g=String(g),h.j&&(g=g.toLowerCase()),g}function rA(h,g){g&&!h.j&&(si(h),h.i=null,h.g.forEach(function(v,I){var V=I.toLowerCase();I!=V&&(cm(this,I),hm(this,V,v))},h)),h.j=g}function oA(h,g){const v=new Wi;if(a.Image){const I=new Image;I.onload=p(ii,v,"TestLoadImage: loaded",!0,g,I),I.onerror=p(ii,v,"TestLoadImage: error",!1,g,I),I.onabort=p(ii,v,"TestLoadImage: abort",!1,g,I),I.ontimeout=p(ii,v,"TestLoadImage: timeout",!1,g,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else g(!1)}function aA(h,g){const v=new Wi,I=new AbortController,V=setTimeout(()=>{I.abort(),ii(v,"TestPingServer: timeout",!1,g)},1e4);fetch(h,{signal:I.signal}).then($=>{clearTimeout(V),$.ok?ii(v,"TestPingServer: ok",!0,g):ii(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),ii(v,"TestPingServer: error",!1,g)})}function ii(h,g,v,I,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),I(v)}catch{}}function lA(){this.g=new Y}function cA(h,g,v){const I=v||"";try{rm(h,function(V,$){let rt=V;c(V)&&(rt=Te(V)),g.push(I+$+"="+encodeURIComponent(rt))})}catch(V){throw g.push(I+"type="+encodeURIComponent("_badmap")),V}}function Zl(h){this.l=h.Ub||null,this.j=h.eb||!1}m(Zl,tt),Zl.prototype.g=function(){return new tc(this.l,this.j)},Zl.prototype.i=function(h){return function(){return h}}({});function tc(h,g){vt.call(this),this.D=h,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(tc,vt),e=tc.prototype,e.open=function(h,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=g,this.readyState=1,oa(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(g.body=h),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ra(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fm(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function fm(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var g=h.value?h.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!h.done}))&&(this.response=this.responseText+=g)}h.done?ra(this):oa(this),this.readyState==3&&fm(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,ra(this))},e.Qa=function(h){this.g&&(this.response=h,ra(this))},e.ga=function(){this.g&&ra(this)};function ra(h){h.readyState=4,h.l=null,h.j=null,h.v=null,oa(h)}e.setRequestHeader=function(h,g){this.u.append(h,g)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=g.next();return h.join(`\r
`)};function oa(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(tc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function dm(h){let g="";return L(h,function(v,I){g+=I,g+=":",g+=v,g+=`\r
`}),g}function Kh(h,g,v){t:{for(I in v){var I=!1;break t}I=!0}I||(v=dm(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):le(h,g,v))}function pe(h){vt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(pe,vt);var uA=/^https?$/i,hA=["POST","PUT"];e=pe.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,g,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);g=g?g.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uh.g(),this.v=this.o?Ct(this.o):Ct(Uh),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(g,String(h),!0),this.B=!1}catch($){pm(this,$);return}if(h=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var V in I)v.set(V,I[V]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())v.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),V=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hA,g,void 0))||I||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,rt]of v)this.g.setRequestHeader($,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vm(this),this.u=!0,this.g.send(h),this.u=!1}catch($){pm(this,$)}};function pm(h,g){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=g,h.m=5,gm(h),ec(h)}function gm(h){h.A||(h.A=!0,It(h,"complete"),It(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,It(this,"complete"),It(this,"abort"),ec(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ec(this,!0)),pe.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?mm(this):this.bb())},e.bb=function(){mm(this)};function mm(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Ss(h)!=4||h.Z()!=2)){if(h.u&&Ss(h)==4)be(h.Ea,0,h);else if(It(h,"readystatechange"),Ss(h)==4){h.h=!1;try{const rt=h.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var I;if(I=rt===0){var V=String(h.D).match(om)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),I=!uA.test(V?V.toLowerCase():"")}v=I}if(v)It(h,"complete"),It(h,"success");else{h.m=6;try{var $=2<Ss(h)?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.Z()+"]",gm(h)}}finally{ec(h)}}}}function ec(h,g){if(h.g){vm(h);const v=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,g||It(h,"ready");try{v.onreadystatechange=I}catch{}}}function vm(h){h.I&&(a.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Ss(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Ss(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var g=this.g.responseText;return h&&g.indexOf(h)==0&&(g=g.substring(h.length)),nn(g)}};function _m(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fA(h){const g={};h=(h.g&&2<=Ss(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(R(h[I]))continue;var v=x(h[I]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=g[V]||[];g[V]=$,$.push(v)}E(g,function(I){return I.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(h,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||g}function ym(h){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,h),this.cb=aa("retryDelaySeedMs",1e4,h),this.Wa=aa("forwardChannelMaxRetries",2,h),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new tm(h&&h.concurrentRequestLimit),this.Da=new lA,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ym.prototype,e.la=8,e.G=1,e.connect=function(h,g,v,I){Me(0),this.W=h,this.H=g||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=xm(this,null,this.W),sc(this)};function Gh(h){if(bm(h),h.G==3){var g=h.U++,v=Is(h.I);if(le(v,"SID",h.K),le(v,"RID",g),le(v,"TYPE","terminate"),la(h,v),g=new ni(h,h.j,g),g.L=2,g.v=Jl(Is(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=g.v,v=!0),v||(g.g=Pm(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Gl(g)}Cm(h)}function nc(h){h.g&&(Qh(h),h.g.cancel(),h.g=null)}function bm(h){nc(h),h.u&&(a.clearTimeout(h.u),h.u=null),ic(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function sc(h){if(!em(h.h)&&!h.s){h.s=!0;var g=h.Ga;ot||z(),mt||(ot(),mt=!0),Nt.add(g,h),h.B=0}}function dA(h,g){return nm(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=g.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ei(d(h.Ga,h,g),Am(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const V=new ni(this,this.j,h);let $=this.o;if(this.S&&($?($=b($),A($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Tm(this,V,g),v=Is(this.I),le(v,"RID",h),le(v,"CVER",22),this.D&&le(v,"X-HTTP-Session-Id",this.D),la(this,v),$&&(this.O?g="headers="+encodeURIComponent(String(dm($)))+"&"+g:this.m&&Kh(v,this.m,$)),qh(this.h,V),this.Ua&&le(v,"TYPE","init"),this.P?(le(v,"$req",g),le(v,"SID","null"),V.T=!0,jh(V,v,null)):jh(V,v,g),this.G=2}}else this.G==3&&(h?wm(this,h):this.i.length==0||em(this.h)||wm(this))};function wm(h,g){var v;g?v=g.l:v=h.U++;const I=Is(h.I);le(I,"SID",h.K),le(I,"RID",v),le(I,"AID",h.T),la(h,I),h.m&&h.o&&Kh(I,h.m,h.o),v=new ni(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),g&&(h.i=g.D.concat(h.i)),g=Tm(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),qh(h.h,v),jh(v,I,g)}function la(h,g){h.H&&L(h.H,function(v,I){le(g,I,v)}),h.l&&rm({},function(v,I){le(g,I,v)})}function Tm(h,g,v){v=Math.min(h.i.length,v);var I=h.l?d(h.l.Na,h.l,h):null;t:{var V=h.i;let $=-1;for(;;){const rt=["count="+v];$==-1?0<v?($=V[0].g,rt.push("ofs="+$)):$=0:rt.push("ofs="+$);let ee=!0;for(let Oe=0;Oe<v;Oe++){let Yt=V[Oe].g;const Ue=V[Oe].map;if(Yt-=$,0>Yt)$=Math.max(0,V[Oe].g-100),ee=!1;else try{cA(Ue,rt,"req"+Yt+"_")}catch{I&&I(Ue)}}if(ee){I=rt.join("&");break t}}}return h=h.i.splice(0,v),g.D=h,I}function Em(h){if(!h.g&&!h.u){h.Y=1;var g=h.Fa;ot||z(),mt||(ot(),mt=!0),Nt.add(g,h),h.v=0}}function Xh(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ei(d(h.Fa,h),Am(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Im(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ei(d(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),nc(this),Im(this))};function Qh(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function Im(h){h.g=new ni(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var g=Is(h.qa);le(g,"RID","rpc"),le(g,"SID",h.K),le(g,"AID",h.T),le(g,"CI",h.F?"0":"1"),!h.F&&h.ja&&le(g,"TO",h.ja),le(g,"TYPE","xmlhttp"),la(h,g),h.m&&h.o&&Kh(g,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Jl(Is(g)),v.m=null,v.P=!0,Qg(v,h)}e.Za=function(){this.C!=null&&(this.C=null,nc(this),Xh(this),Me(19))};function ic(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function Sm(h,g){var v=null;if(h.g==g){ic(h),Qh(h),h.g=null;var I=2}else if(Yh(h.h,g))v=g.D,sm(h.h,g),I=1;else return;if(h.G!=0){if(g.o)if(I==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var V=h.B;I=Ts(),It(I,new Fr(I,v)),sc(h)}else Em(h);else if(V=g.s,V==3||V==0&&0<g.X||!(I==1&&dA(h,g)||I==2&&Xh(h)))switch(v&&0<v.length&&(g=h.h,g.i=g.i.concat(v)),V){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function Am(h,g){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*g}function Ki(h,g){if(h.j.info("Error code "+g),g==2){var v=d(h.fb,h),I=h.Xa;const V=!I;I=new qi(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xl(I,"https"),Jl(I),V?oA(I.toString(),v):aA(I.toString(),v)}else Me(2);h.G=0,h.l&&h.l.sa(g),Cm(h),bm(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Cm(h){if(h.G=0,h.ka=[],h.l){const g=im(h.h);(g.length!=0||h.i.length!=0)&&(y(h.ka,g),y(h.ka,h.i),h.h.i.length=0,_(h.i),h.i.length=0),h.l.ra()}}function xm(h,g,v){var I=v instanceof qi?Is(v):new qi(v);if(I.g!="")g&&(I.g=g+"."+I.g),Ql(I,I.s);else{var V=a.location;I=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var $=new qi(null);I&&Xl($,I),g&&($.g=g),V&&Ql($,V),v&&($.l=v),I=$}return v=h.D,g=h.ya,v&&g&&le(I,v,g),le(I,"VER",h.la),la(h,I),I}function Pm(h,g,v){if(g&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=h.Ca&&!h.pa?new pe(new Zl({eb:v})):new pe(h.pa),g.Ha(h.J),g}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function km(){}e=km.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function rc(){}rc.prototype.g=function(h,g){return new yn(h,g)};function yn(h,g){vt.call(this),this.g=new ym(g),this.l=h,this.h=g&&g.messageUrlParams||null,h=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(h?h["X-WebChannel-Content-Type"]=g.messageContentType:h={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(h?h["X-WebChannel-Client-Profile"]=g.va:h={"X-WebChannel-Client-Profile":g.va}),this.g.S=h,(h=g&&g.Sb)&&!R(h)&&(this.g.m=h),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.D=g,h=this.h,h!==null&&g in h&&(h=this.h,g in h&&delete h[g])),this.j=new Hr(this)}m(yn,vt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Gh(this.g)},yn.prototype.o=function(h){var g=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Te(h),h=v);g.i.push(new XS(g.Ya++,h)),g.G==3&&sc(g)},yn.prototype.N=function(){this.g.l=null,delete this.j,Gh(this.g),delete this.g,yn.aa.N.call(this)};function Dm(h){En.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var g=h.__sm__;if(g){t:{for(const v in g){h=v;break t}h=void 0}(this.i=h)&&(h=this.i,g=g!==null&&h in g?g[h]:void 0),this.data=g}else this.data=h}m(Dm,En);function Rm(){In.call(this),this.status=1}m(Rm,In);function Hr(h){this.g=h}m(Hr,km),Hr.prototype.ua=function(){It(this.g,"a")},Hr.prototype.ta=function(h){It(this.g,new Dm(h))},Hr.prototype.sa=function(h){It(this.g,new Rm)},Hr.prototype.ra=function(){It(this.g,"b")},rc.prototype.createWebChannel=rc.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,hE=function(){return new rc},uE=function(){return Ts()},cE=_n,dd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ql.NO_ERROR=0,ql.TIMEOUT=8,ql.HTTP_ERROR=6,jc=ql,Kg.COMPLETE="complete",lE=Kg,qt.EventType=he,he.OPEN="a",he.CLOSE="b",he.ERROR="c",he.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ea=qt,pe.prototype.listenOnce=pe.prototype.L,pe.prototype.getLastError=pe.prototype.Ka,pe.prototype.getLastErrorCode=pe.prototype.Ba,pe.prototype.getStatus=pe.prototype.Z,pe.prototype.getResponseJson=pe.prototype.Oa,pe.prototype.getResponseText=pe.prototype.oa,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Ha,aE=pe}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const f_="@firebase/firestore",d_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new mp("@firebase/firestore");function Xr(){return br.logLevel}function ut(e,...t){if(br.logLevel<=Ft.DEBUG){const n=t.map(xp);br.debug(`Firestore (${Uo}): ${e}`,...n)}}function Ys(e,...t){if(br.logLevel<=Ft.ERROR){const n=t.map(xp);br.error(`Firestore (${Uo}): ${e}`,...n)}}function wo(e,...t){if(br.logLevel<=Ft.WARN){const n=t.map(xp);br.warn(`Firestore (${Uo}): ${e}`,...n)}}function xp(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,fE(e,s,n)}function fE(e,t,n){let s=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ys(s),new Error(s)}function Qt(e,t,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,e||fE(t,i,s)}function Mt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends Js{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class XM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QM{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Qt(this.o===void 0,42304);let s=this.i;const i=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let r=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new xi,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new xi)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new dE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class JM{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZM{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new JM(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tO{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Qt(this.o===void 0,3512);const s=r=>{r.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,ut("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>s(r))};const i=r=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new p_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=eO(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=t.charAt(i[r]%62))}return s}}function $t(e,t){return e<t?-1:e>t?1:0}function pd(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=e.codePointAt(n),i=t.codePointAt(n);if(s!==i){if(s<128&&i<128)return $t(s,i);{const r=pE(),o=nO(r.encode(g_(e,n)),r.encode(g_(t,n)));return o!==0?o:$t(s,i)}}n+=s>65535?2:1}return $t(e.length,t.length)}function g_(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function nO(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return $t(e[n],t[n]);return $t(e.length,t.length)}function To(e,t,n){return e.length===t.length&&e.every((s,i)=>n(s,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,v_=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*v_);return new Ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new bt(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bt(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<m_)throw new bt(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bt(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v_}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-m_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{static fromTimestamp(t){return new kt(t)}static min(){return new kt(new Ie(0,0))}static max(){return new kt(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__name__";class ss{constructor(t,n,s){n===void 0?n=0:n>t.length&&St(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&St(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ss.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ss?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let i=0;i<s;i++){const r=ss.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return $t(t.length,n.length)}static compareSegments(t,n){const s=ss.isNumericId(t),i=ss.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?ss.extractNumericId(t).compare(ss.extractNumericId(n)):pd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ci.fromString(t.substring(4,t.length-2))}}class ge extends ss{construct(t,n,s){return new ge(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new bt(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const sO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends ss{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return sO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===__}static keyField(){return new $e([__])}static fromServerFormat(t){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new bt(q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new bt(q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new bt(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(s+=a,i++):(r(),i++)}if(r(),o)throw new bt(q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.path=t}static fromPath(t){return new wt(ge.fromString(t))}static fromName(t){return new wt(ge.fromString(t).popFirst(5))}static empty(){return new wt(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ge.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ge.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wt(new ge(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=-1;function iO(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(s===1e9?new Ie(n+1,0):new Ie(n,s));return new Ri(i,wt.empty(),t)}function rO(e){return new Ri(e.readTime,e.key,ul)}class Ri{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ri(kt.min(),wt.empty(),ul)}static max(){return new Ri(kt.max(),wt.empty(),ul)}}function oO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=wt.comparator(e.documentKey,t.documentKey),n!==0?n:$t(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(e){if(e.code!==q.FAILED_PRECONDITION||e.message!==aO)throw e;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new j((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):j.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):j.reject(n)}static resolve(t){return new j((n,s)=>{n(t)})}static reject(t){return new j((n,s)=>{s(t)})}static waitFor(t){return new j((n,s)=>{let i=0,r=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++r,o&&r===i&&n()},l=>s(l))}),o=!0,r===i&&n()})}static or(t){let n=j.resolve(!1);for(const s of t)n=n.next(i=>i?j.resolve(i):s());return n}static forEach(t,n){const s=[];return t.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(t,n){return new j((s,i)=>{const r=t.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===r&&s(o)},u=>i(u))}})}static doWhile(t,n){return new j((s,i)=>{const r=()=>{t()===!0?n().next(()=>{r()},i):s()};r()})}}function cO(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}vh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function _h(e){return e==null}function vu(e){return e===0&&1/e==-1/0}function uO(e){return typeof e=="number"&&Number.isInteger(e)&&!vu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="";function hO(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=y_(t)),t=fO(e.get(n),t);return y_(t)}function fO(e,t){let n=t;const s=e.length;for(let i=0;i<s;i++){const r=e.charAt(i);switch(r){case"\0":n+="";break;case mE:n+="";break;default:n+=r}}return n}function y_(e){return e+mE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n){this.comparator=t,this.root=n||Ne.EMPTY}insert(t,n){return new de(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ne.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ne.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(t,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dc(this.root,t,this.comparator,!0)}}class dc{constructor(t,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?s(t.key,n):1,n&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ne{constructor(t,n,s,i,r){this.key=t,this.value=n,this.color=s??Ne.RED,this.left=i??Ne.EMPTY,this.right=r??Ne.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,i,r){return new Ne(t??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let i=this;const r=s(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ne.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ne.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ne.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ne.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}Ne.EMPTY=null,Ne.RED=!0,Ne.BLACK=!1;Ne.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,n,s,i,r){return this}insert(t,n,s){return new Ne(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(t){return new w_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Se)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Se(this.comparator);return n.data=t,n}}class w_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new zn([])}unionWith(t){let n=new Se($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return To(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new _E("Invalid base64 string: "+r):r}}(t);return new Be(n)}static fromUint8Array(t){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Be(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const dO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(e){if(Qt(!!e,39018),typeof e=="string"){let t=0;const n=dO.exec(e);if(Qt(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(e.seconds),nanos:ve(e.nanos)}}function ve(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Oi(e){return typeof e=="string"?Be.fromBase64String(e):Be.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="server_timestamp",bE="__type__",wE="__previous_value__",TE="__local_write_time__";function kp(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[bE])===null||n===void 0?void 0:n.stringValue)===yE}function yh(e){const t=e.mapValue.fields[wE];return kp(t)?yh(t):t}function hl(e){const t=Mi(e.mapValue.fields[TE].timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t,n,s,i,r,o,a,l,c,u){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const _u="(default)";class fl{constructor(t,n){this.projectId=t,this.database=n||_u}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database===_u}isEqual(t){return t instanceof fl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="__type__",gO="__max__",pc={mapValue:{}},IE="__vector__",yu="value";function Ni(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kp(e)?4:vO(e)?9007199254740991:mO(e)?10:11:St(28295,{value:e})}function gs(e,t){if(e===t)return!0;const n=Ni(e);if(n!==Ni(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hl(e).isEqual(hl(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Mi(i.timestampValue),a=Mi(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,r){return Oi(i.bytesValue).isEqual(Oi(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,r){return ve(i.geoPointValue.latitude)===ve(r.geoPointValue.latitude)&&ve(i.geoPointValue.longitude)===ve(r.geoPointValue.longitude)}(e,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ve(i.integerValue)===ve(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=ve(i.doubleValue),a=ve(r.doubleValue);return o===a?vu(o)===vu(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return To(e.arrayValue.values||[],t.arrayValue.values||[],gs);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(b_(o)!==b_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gs(o[l],a[l])))return!1;return!0}(e,t);default:return St(52216,{left:e})}}function dl(e,t){return(e.values||[]).find(n=>gs(n,t))!==void 0}function Eo(e,t){if(e===t)return 0;const n=Ni(e),s=Ni(t);if(n!==s)return $t(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return $t(e.booleanValue,t.booleanValue);case 2:return function(r,o){const a=ve(r.integerValue||r.doubleValue),l=ve(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return T_(e.timestampValue,t.timestampValue);case 4:return T_(hl(e),hl(t));case 5:return pd(e.stringValue,t.stringValue);case 6:return function(r,o){const a=Oi(r),l=Oi(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=$t(a[c],l[c]);if(u!==0)return u}return $t(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,o){const a=$t(ve(r.latitude),ve(o.latitude));return a!==0?a:$t(ve(r.longitude),ve(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return E_(e.arrayValue,t.arrayValue);case 10:return function(r,o){var a,l,c,u;const f=r.fields||{},d=o.fields||{},p=(a=f[yu])===null||a===void 0?void 0:a.arrayValue,m=(l=d[yu])===null||l===void 0?void 0:l.arrayValue,_=$t(((c=p?.values)===null||c===void 0?void 0:c.length)||0,((u=m?.values)===null||u===void 0?void 0:u.length)||0);return _!==0?_:E_(p,m)}(e.mapValue,t.mapValue);case 11:return function(r,o){if(r===pc.mapValue&&o===pc.mapValue)return 0;if(r===pc.mapValue)return 1;if(o===pc.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const d=pd(l[f],u[f]);if(d!==0)return d;const p=Eo(a[l[f]],c[u[f]]);if(p!==0)return p}return $t(l.length,u.length)}(e.mapValue,t.mapValue);default:throw St(23264,{Pe:n})}}function T_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return $t(e,t);const n=Mi(e),s=Mi(t),i=$t(n.seconds,s.seconds);return i!==0?i:$t(n.nanos,s.nanos)}function E_(e,t){const n=e.values||[],s=t.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=Eo(n[i],s[i]);if(r)return r}return $t(n.length,s.length)}function Io(e){return gd(e)}function gd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=Mi(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Oi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return wt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=gd(r);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${gd(n.fields[o])}`;return i+"}"}(e.mapValue):St(61005,{value:e})}function zc(e){switch(Ni(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(e);return t?16+zc(t):16;case 5:return 2*e.stringValue.length;case 6:return Oi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+zc(r),0)}(e.arrayValue);case 10:case 11:return function(s){let i=0;return xr(s.fields,(r,o)=>{i+=r.length+zc(o)}),i}(e.mapValue);default:throw St(13486,{value:e})}}function md(e){return!!e&&"integerValue"in e}function Dp(e){return!!e&&"arrayValue"in e}function I_(e){return!!e&&"nullValue"in e}function S_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Wc(e){return!!e&&"mapValue"in e}function mO(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[EE])===null||n===void 0?void 0:n.stringValue)===IE}function Ba(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xr(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Ba(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ba(e.arrayValue.values[n]);return t}return Object.assign({},e)}function vO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===gO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Wc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ba(n)}setAll(t){let n=$e.emptyPath(),s={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,i),s={},i=[],n=a.popLast()}o?s[a.lastSegment()]=Ba(o):i.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(t){const n=this.field(t.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let i=n.mapValue.fields[t.get(s)];Wc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,s){xr(n,(i,r)=>t[i]=r);for(const i of s)delete t[i]}clone(){return new xn(Ba(this.value))}}function SE(e){const t=[];return xr(e.fields,(n,s)=>{const i=new $e([n]);if(Wc(s)){const r=SE(s.mapValue).fields;if(r.length===0)t.push(i);else for(const o of r)t.push(i.child(o))}else t.push(i)}),new zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n,s,i,r,o,a){this.key=t,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ke(t,0,kt.min(),kt.min(),kt.min(),xn.empty(),0)}static newFoundDocument(t,n,s,i){return new Ke(t,1,n,kt.min(),s,i,0)}static newNoDocument(t,n){return new Ke(t,2,n,kt.min(),kt.min(),xn.empty(),0)}static newUnknownDocument(t,n){return new Ke(t,3,n,kt.min(),kt.min(),xn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n){this.position=t,this.inclusive=n}}function A_(e,t,n){let s=0;for(let i=0;i<e.position.length;i++){const r=t[i],o=e.position[i];if(r.field.isKeyField()?s=wt.comparator(wt.fromName(o.referenceValue),n.key):s=Eo(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function C_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gs(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,n="asc"){this.field=t,this.dir=n}}function _O(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{}class Ee extends AE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new bO(t,n,s):n==="array-contains"?new EO(t,s):n==="in"?new IO(t,s):n==="not-in"?new SO(t,s):n==="array-contains-any"?new AO(t,s):new Ee(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new wO(t,s):new TO(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&Ni(this.value)===Ni(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends AE{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new ms(t,n)}matches(t){return CE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function CE(e){return e.op==="and"}function xE(e){return yO(e)&&CE(e)}function yO(e){for(const t of e.filters)if(t instanceof ms)return!1;return!0}function vd(e){if(e instanceof Ee)return e.field.canonicalString()+e.op.toString()+Io(e.value);if(xE(e))return e.filters.map(t=>vd(t)).join(",");{const t=e.filters.map(n=>vd(n)).join(",");return`${e.op}(${t})`}}function PE(e,t){return e instanceof Ee?function(s,i){return i instanceof Ee&&s.op===i.op&&s.field.isEqual(i.field)&&gs(s.value,i.value)}(e,t):e instanceof ms?function(s,i){return i instanceof ms&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,a)=>r&&PE(o,i.filters[a]),!0):!1}(e,t):void St(19439)}function kE(e){return e instanceof Ee?function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`}(e):e instanceof ms?function(n){return n.op.toString()+" {"+n.getFilters().map(kE).join(" ,")+"}"}(e):"Filter"}class bO extends Ee{constructor(t,n,s){super(t,n,s),this.key=wt.fromName(s.referenceValue)}matches(t){const n=wt.comparator(t.key,this.key);return this.matchesComparison(n)}}class wO extends Ee{constructor(t,n){super(t,"in",n),this.keys=DE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class TO extends Ee{constructor(t,n){super(t,"not-in",n),this.keys=DE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function DE(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>wt.fromName(s.referenceValue))}class EO extends Ee{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Dp(n)&&dl(n.arrayValue,this.value)}}class IO extends Ee{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&dl(this.value.arrayValue,n)}}class SO extends Ee{constructor(t,n){super(t,"not-in",n)}matches(t){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dl(this.value.arrayValue,n)}}class AO extends Ee{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>dl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t,n=null,s=[],i=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.Ie=null}}function x_(e,t=null,n=[],s=[],i=null,r=null,o=null){return new CO(e,t,n,s,i,r,o)}function Rp(e){const t=Mt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>vd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),_h(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Io(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Io(s)).join(",")),t.Ie=n}return t.Ie}function Mp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!_O(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!PE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!C_(e.startAt,t.startAt)&&C_(e.endAt,t.endAt)}function _d(e){return wt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,n=null,s=[],i=[],r=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xO(e,t,n,s,i,r,o,a){return new bh(e,t,n,s,i,r,o,a)}function Op(e){return new bh(e)}function P_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function PO(e){return e.collectionGroup!==null}function Ua(e){const t=Mt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ee.push(r),n.add(r.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Se($e.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new wu(r,s))}),n.has($e.keyField().canonicalString())||t.Ee.push(new wu($e.keyField(),s))}return t.Ee}function us(e){const t=Mt(e);return t.de||(t.de=kO(t,Ua(e))),t.de}function kO(e,t){if(e.limitType==="F")return x_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new wu(i.field,r)});const n=e.endAt?new bu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new bu(e.startAt.position,e.startAt.inclusive):null;return x_(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function yd(e,t,n){return new bh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wh(e,t){return Mp(us(e),us(t))&&e.limitType===t.limitType}function RE(e){return`${Rp(us(e))}|lt:${e.limitType}`}function Qr(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>kE(i)).join(", ")}]`),_h(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>Io(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>Io(i)).join(",")),`Target(${s})`}(us(e))}; limitType=${e.limitType})`}function Th(e,t){return t.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):wt.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(e,t)&&function(s,i){for(const r of Ua(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(e,t)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(e,t)&&function(s,i){return!(s.startAt&&!function(o,a,l){const c=A_(o,a,l);return o.inclusive?c<=0:c<0}(s.startAt,Ua(s),i)||s.endAt&&!function(o,a,l){const c=A_(o,a,l);return o.inclusive?c>=0:c>0}(s.endAt,Ua(s),i))}(e,t)}function DO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ME(e){return(t,n)=>{let s=!1;for(const i of Ua(e)){const r=RO(i,t,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function RO(e,t,n){const s=e.field.isKeyField()?wt.comparator(t.key,n.key):function(r,o,a){const l=o.data.field(r),c=a.data.field(r);return l!==null&&c!==null?Eo(l,c):St(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),i=this.inner[s];if(i===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(t){xr(this.inner,(n,s)=>{for(const[i,r]of s)t(i,r)})}isEmpty(){return vE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new de(wt.comparator);function qs(){return MO}const OE=new de(wt.comparator);function Ia(...e){let t=OE;for(const n of e)t=t.insert(n.key,n);return t}function NE(e){let t=OE;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function lr(){return Ha()}function LE(){return Ha()}function Ha(){return new Pr(e=>e.toString(),(e,t)=>e.isEqual(t))}const OO=new de(wt.comparator),NO=new Se(wt.comparator);function Bt(...e){let t=NO;for(const n of e)t=t.add(n);return t}const LO=new Se($t);function VO(){return LO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(t)?"-0":t}}function VE(e){return{integerValue:""+e}}function $O(e,t){return uO(t)?VE(t):Np(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function FO(e,t,n){return e instanceof Tu?function(i,r){const o={fields:{[bE]:{stringValue:yE},[TE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&kp(r)&&(r=yh(r)),r&&(o.fields[wE]=r),{mapValue:o}}(n,t):e instanceof pl?FE(e,t):e instanceof gl?BE(e,t):function(i,r){const o=$E(i,r),a=k_(o)+k_(i.Re);return md(o)&&md(i.Re)?VE(a):Np(i.serializer,a)}(e,t)}function BO(e,t,n){return e instanceof pl?FE(e,t):e instanceof gl?BE(e,t):n}function $E(e,t){return e instanceof Eu?function(s){return md(s)||function(r){return!!r&&"doubleValue"in r}(s)}(t)?t:{integerValue:0}:null}class Tu extends Eh{}class pl extends Eh{constructor(t){super(),this.elements=t}}function FE(e,t){const n=UE(t);for(const s of e.elements)n.some(i=>gs(i,s))||n.push(s);return{arrayValue:{values:n}}}class gl extends Eh{constructor(t){super(),this.elements=t}}function BE(e,t){let n=UE(t);for(const s of e.elements)n=n.filter(i=>!gs(i,s));return{arrayValue:{values:n}}}class Eu extends Eh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function k_(e){return ve(e.integerValue||e.doubleValue)}function UE(e){return Dp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function UO(e,t){return e.field.isEqual(t.field)&&function(s,i){return s instanceof pl&&i instanceof pl||s instanceof gl&&i instanceof gl?To(s.elements,i.elements,gs):s instanceof Eu&&i instanceof Eu?gs(s.Re,i.Re):s instanceof Tu&&i instanceof Tu}(e.transform,t.transform)}class HO{constructor(t,n){this.version=t,this.transformResults=n}}class Us{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Us}static exists(t){return new Us(void 0,t)}static updateTime(t){return new Us(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ih{}function HE(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new zE(e.key,Us.none()):new $l(e.key,e.data,Us.none());{const n=e.data,s=xn.empty();let i=new Se($e.comparator);for(let r of t.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new kr(e.key,s,new zn(i.toArray()),Us.none())}}function jO(e,t,n){e instanceof $l?function(i,r,o){const a=i.value.clone(),l=R_(i.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof kr?function(i,r,o){if(!Yc(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=R_(i.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(jE(i)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ja(e,t,n,s){return e instanceof $l?function(r,o,a,l){if(!Yc(r.precondition,o))return a;const c=r.value.clone(),u=M_(r.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,s):e instanceof kr?function(r,o,a,l){if(!Yc(r.precondition,o))return a;const c=M_(r.fieldTransforms,l,o),u=o.data;return u.setAll(jE(r)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(e,t,n,s):function(r,o,a){return Yc(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function zO(e,t){let n=null;for(const s of e.fieldTransforms){const i=t.data.field(s.field),r=$E(s.transform,i||null);r!=null&&(n===null&&(n=xn.empty()),n.set(s.field,r))}return n||null}function D_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&To(s,i,(r,o)=>UO(r,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $l extends Ih{constructor(t,n,s,i=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class kr extends Ih{constructor(t,n,s,i,r=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function jE(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function R_(e,t,n){const s=new Map;Qt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const r=e[i],o=r.transform,a=t.data.field(r.field);s.set(r.field,BO(o,a,n[i]))}return s}function M_(e,t,n){const s=new Map;for(const i of e){const r=i.transform,o=n.data.field(i.field);s.set(i.field,FO(r,o,t))}return s}class zE extends Ih{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WO extends Ih{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t,n,s,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(t.key)&&jO(r,t,s[i])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=ja(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=ja(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=LE();return this.mutations.forEach(i=>{const r=t.get(i.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(i.key)?null:a;const l=HE(o,a);l!==null&&s.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(kt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Bt())}isEqual(t){return this.batchId===t.batchId&&To(this.mutations,t.mutations,(n,s)=>D_(n,s))&&To(this.baseMutations,t.baseMutations,(n,s)=>D_(n,s))}}class Lp{constructor(t,n,s,i){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(t,n,s){Qt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let i=function(){return OO}();const r=t.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new Lp(t,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,jt;function GO(e){switch(e){case q.OK:return St(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return St(15467,{code:e})}}function WE(e){if(e===void 0)return Ys("GRPC error has no .code"),q.UNKNOWN;switch(e){case ye.OK:return q.OK;case ye.CANCELLED:return q.CANCELLED;case ye.UNKNOWN:return q.UNKNOWN;case ye.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ye.INTERNAL:return q.INTERNAL;case ye.UNAVAILABLE:return q.UNAVAILABLE;case ye.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ye.NOT_FOUND:return q.NOT_FOUND;case ye.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ye.ABORTED:return q.ABORTED;case ye.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ye.DATA_LOSS:return q.DATA_LOSS;default:return St(39323,{code:e})}}(jt=ye||(ye={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new Ci([4294967295,4294967295],0);function O_(e){const t=pE().encode(e),n=new oE;return n.update(t),new Uint8Array(n.digest())}function N_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),i=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Ci([n,s],0),new Ci([i,r],0)]}class Vp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Sa(`Invalid padding: ${n}`);if(s<0)throw new Sa(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Sa(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Sa(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Ci.fromNumber(this.pe)}we(t,n,s){let i=t.add(n.multiply(Ci.fromNumber(s)));return i.compare(XO)===1&&(i=new Ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=O_(t),[s,i]=N_(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);if(!this.be(o))return!1}return!0}static create(t,n,s){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new Vp(r,i,n);return s.forEach(a=>o.insert(a)),o}insert(t){if(this.pe===0)return;const n=O_(t),[s,i]=N_(n);for(let r=0;r<this.hashCount;r++){const o=this.we(s,i,r);this.Se(o)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n,s,i,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const i=new Map;return i.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Sh(kt.min(),i,new de($t),qs(),Bt())}}class Fl{constructor(t,n,s,i,r){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Fl(s,n,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,n,s,i){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=i}}class YE{constructor(t,n){this.targetId=t,this.Ce=n}}class qE{constructor(t,n,s=Be.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=i}}class L_{constructor(){this.Fe=0,this.Me=V_(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Bt(),n=Bt(),s=Bt();return this.Me.forEach((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:St(38017,{changeType:r})}}),new Fl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=V_()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class QO{constructor(t){this.ze=t,this.je=new Map,this.He=qs(),this.Je=gc(),this.Ye=gc(),this.Ze=new de($t)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:St(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,i)=>{this.it(i)&&n(i)})}ot(t){const n=t.targetId,s=t.Ce.count,i=this._t(n);if(i){const r=i.target;if(_d(r))if(s===0){const o=new wt(r.path);this.tt(n,o,Ke.newNoDocument(o,kt.min()))}else Qt(s===1,20013,{expectedCount:s});else{const o=this.ut(n);if(o!==s){const a=this.ct(t),l=a?this.lt(a,t,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,a;try{o=Oi(s).toUint8Array()}catch(l){if(l instanceof _E)return wo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Vp(o,i,r)}catch(l){return wo(l instanceof Sa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;t.mightContain(a)||(this.tt(n,r,null),i++)}),i}It(t){const n=new Map;this.je.forEach((r,o)=>{const a=this._t(o);if(a){if(r.current&&_d(a.target)){const l=new wt(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Ke.newNoDocument(l,t))}r.Le&&(n.set(o,r.qe()),r.Qe())}});let s=Bt();this.Ye.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(r))}),this.He.forEach((r,o)=>o.setReadTime(t));const i=new Sh(t,n,this.Ze,this.He,s);return this.He=qs(),this.Je=gc(),this.Ye=gc(),this.Ze=new de($t),i}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const i=this.rt(t);this.dt(t,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new L_,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Se($t),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Se($t),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new L_),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function gc(){return new de(wt.comparator)}function V_(){return new de(wt.comparator)}const JO={asc:"ASCENDING",desc:"DESCENDING"},ZO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t2={and:"AND",or:"OR"};class e2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bd(e,t){return e.useProto3Json||_h(t)?t:{value:t}}function Iu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function n2(e,t){return Iu(e,t.toTimestamp())}function hs(e){return Qt(!!e,49232),kt.fromTimestamp(function(n){const s=Mi(n);return new Ie(s.seconds,s.nanos)}(e))}function $p(e,t){return wd(e,t).canonicalString()}function wd(e,t){const n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function GE(e){const t=ge.fromString(e);return Qt(t1(t),10190,{key:t.toString()}),t}function Td(e,t){return $p(e.databaseId,t.path)}function Tf(e,t){const n=GE(t);if(n.get(1)!==e.databaseId.projectId)throw new bt(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new bt(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wt(QE(n))}function XE(e,t){return $p(e.databaseId,t)}function s2(e){const t=GE(e);return t.length===4?ge.emptyPath():QE(t)}function Ed(e){return new ge(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function QE(e){return Qt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function $_(e,t,n){return{name:Td(e,t),fields:n.value.mapValue.fields}}function i2(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:St(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],r=function(c,u){return c.useProto3Json?(Qt(u===void 0||typeof u=="string",58123),Be.fromBase64String(u||"")):(Qt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Be.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?q.UNKNOWN:WE(c.code);return new bt(u,c.message||"")}(o);n=new qE(s,i,r,a||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const i=Tf(e,s.document.name),r=hs(s.document.updateTime),o=s.document.createTime?hs(s.document.createTime):kt.min(),a=new xn({mapValue:{fields:s.document.fields}}),l=Ke.newFoundDocument(i,r,o,a),c=s.targetIds||[],u=s.removedTargetIds||[];n=new qc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const i=Tf(e,s.document),r=s.readTime?hs(s.readTime):kt.min(),o=Ke.newNoDocument(i,r),a=s.removedTargetIds||[];n=new qc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const i=Tf(e,s.document),r=s.removedTargetIds||[];n=new qc([],r,i,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new KO(i,r),a=s.targetId;n=new YE(a,o)}}return n}function r2(e,t){let n;if(t instanceof $l)n={update:$_(e,t.key,t.value)};else if(t instanceof zE)n={delete:Td(e,t.key)};else if(t instanceof kr)n={update:$_(e,t.key,t.data),updateMask:p2(t.fieldMask)};else{if(!(t instanceof WO))return St(16599,{ft:t.type});n={verify:Td(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(r,o){const a=o.transform;if(a instanceof Tu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Eu)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw St(20930,{transform:o.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:n2(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:St(27497)}(e,t.precondition)),n}function o2(e,t){return e&&e.length>0?(Qt(t!==void 0,14353),e.map(n=>function(i,r){let o=i.updateTime?hs(i.updateTime):hs(r);return o.isEqual(kt.min())&&(o=hs(r)),new HO(o,i.transformResults||[])}(n,t))):[]}function a2(e,t){return{documents:[XE(e,t.path)]}}function l2(e,t){const n={structuredQuery:{}},s=t.path;let i;t.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=XE(e,i);const r=function(c){if(c.length!==0)return ZE(ms.create(c,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Jr(d.field),direction:h2(d.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=bd(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:n,parent:i}}function c2(e){let t=s2(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Qt(s===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let r=[];n.where&&(r=function(f){const d=JE(f);return d instanceof ms&&xE(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(m){return new wu(Zr(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,_h(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new bu(p,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,p=f.values||[];return new bu(p,d)}(n.endAt)),xO(t,i,o,r,a,"F",l,c)}function u2(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function JE(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Zr(n.unaryFilter.field);return Ee.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Zr(n.unaryFilter.field);return Ee.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Zr(n.unaryFilter.field);return Ee.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zr(n.unaryFilter.field);return Ee.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ee.create(Zr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ms.create(n.compositeFilter.filters.map(s=>JE(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(n.compositeFilter.op))}(e):St(30097,{filter:e})}function h2(e){return JO[e]}function f2(e){return ZO[e]}function d2(e){return t2[e]}function Jr(e){return{fieldPath:e.canonicalString()}}function Zr(e){return $e.fromServerFormat(e.fieldPath)}function ZE(e){return e instanceof Ee?function(n){if(n.op==="=="){if(S_(n.value))return{unaryFilter:{field:Jr(n.field),op:"IS_NAN"}};if(I_(n.value))return{unaryFilter:{field:Jr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S_(n.value))return{unaryFilter:{field:Jr(n.field),op:"IS_NOT_NAN"}};if(I_(n.value))return{unaryFilter:{field:Jr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jr(n.field),op:f2(n.op),value:n.value}}}(e):e instanceof ms?function(n){const s=n.getFilters().map(i=>ZE(i));return s.length===1?s[0]:{compositeFilter:{op:d2(n.op),filters:s}}}(e):St(54877,{filter:e})}function p2(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function t1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,n,s,i,r=kt.min(),o=kt.min(),a=Be.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new bi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t){this.wt=t}}function m2(e){const t=c2({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?yd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.Cn=new _2}addToCollectionParentIndex(t,n){return this.Cn.add(n),j.resolve()}getCollectionParents(t,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return j.resolve()}deleteFieldIndex(t,n){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,n){return j.resolve()}getDocumentsMatchingTarget(t,n){return j.resolve(null)}getIndexType(t,n){return j.resolve(0)}getFieldIndexes(t,n){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,n){return j.resolve(Ri.min())}getMinOffsetFromCollectionGroup(t,n){return j.resolve(Ri.min())}updateCollectionGroup(t,n,s){return j.resolve()}updateIndexEntries(t,n){return j.resolve()}}class _2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),i=this.index[n]||new Se(ge.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(t){const n=t.lastSegment(),s=t.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(t){return(this.index[t]||new Se(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e1=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(e1,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new So(0)}static lr(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="LruGarbageCollector",y2=1048576;function U_([e,t],[n,s]){const i=$t(e,n);return i===0?$t(t,s):i}class b2{constructor(t){this.Er=t,this.buffer=new Se(U_),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();U_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ut(B_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?ut(B_,"Ignoring IndexedDB error during garbage collection: ",n):await Ho(n)}await this.mr(3e5)})}}class T2{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return j.resolve(vh.le);const s=new b2(n);return this.gr.forEachTarget(t,i=>s.Rr(i.sequenceNumber)).next(()=>this.gr.yr(t,i=>s.Rr(i))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(F_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F_):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,i,r,o,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(s=f,a=Date.now(),this.removeTargets(t,s,n))).next(f=>(r=f,l=Date.now(),this.removeOrphanedDocuments(t,s))).next(f=>(c=Date.now(),Xr()<=Ft.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${r} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:f})))}}function E2(e,t){return new T2(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.changes=new Pr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,n,s,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(s!==null&&ja(s.mutation,i,zn.empty(),Ie.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Bt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Bt()){const i=lr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,s).next(r=>{let o=Ia();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const s=lr();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Bt()))}populateOverlays(t,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(t,i).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,s,i){let r=qs();const o=Ha(),a=function(){return Ha()}();return n.forEach((l,c)=>{const u=s.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof kr)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ja(u.mutation,c,u.mutation.getFieldMask(),Ie.now())):o.set(c.key,zn.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new S2(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const s=Ha();let i=new de((o,a)=>o-a),r=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||zn.empty();u=a.applyToLocalView(c,u),s.set(l,u);const f=(i.get(a.batchId)||Bt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=LE();u.forEach(d=>{if(!r.has(d)){const p=HE(n.get(d),s.get(d));p!==null&&f.set(d,p),r=r.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,f))}return j.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,i){return function(o){return wt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):PO(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,i):this.getDocumentsMatchingCollectionQuery(t,n,s,i)}getNextDocuments(t,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,i-r.size):j.resolve(lr());let a=ul,l=r;return o.next(c=>j.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),r.get(u)?j.resolve():this.remoteDocumentCache.getEntry(t,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,l,c,Bt())).next(u=>({batchId:a,changes:NE(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new wt(n)).next(s=>{let i=Ia();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,s,i){const r=n.collectionGroup;let o=Ia();return this.indexManager.getCollectionParents(t,r).next(a=>j.forEach(a,l=>{const c=function(f,d){return new bh(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(t,c,s,i).next(u=>{u.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,r,i))).next(o=>{r.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ke.newInvalidDocument(u)))});let a=Ia();return o.forEach((l,c)=>{const u=r.get(l);u!==void 0&&ja(u.mutation,c,zn.empty(),Ie.now()),Th(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return j.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hs(i.createTime)}}(n)),j.resolve()}getNamedQuery(t,n){return j.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(i){return{name:i.name,query:m2(i.bundledQuery),readTime:hs(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.overlays=new de(wt.comparator),this.Qr=new Map}getOverlay(t,n){return j.resolve(this.overlays.get(n))}getOverlays(t,n){const s=lr();return j.forEach(n,i=>this.getOverlay(t,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((i,r)=>{this.St(t,n,r)}),j.resolve()}removeOverlaysForBatchId(t,n,s){const i=this.Qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(s)),j.resolve()}getOverlaysForCollection(t,n,s){const i=lr(),r=n.length+1,o=new wt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>s&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(t,n,s,i){let r=new de((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=r.get(c.largestBatchId);u===null&&(u=lr(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=lr(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return j.resolve(a)}St(t,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(s.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new qO(n,s));let r=this.Qr.get(n);r===void 0&&(r=Bt(),this.Qr.set(n,r)),this.Qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.$r=new Se(Ce.Ur),this.Kr=new Se(Ce.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ce(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ce(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new wt(new ge([])),s=new Ce(n,t),i=new Ce(n,t+1),r=[];return this.Kr.forEachInRange([s,i],o=>{this.zr(o),r.push(o.key)}),r}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new wt(new ge([])),s=new Ce(n,t),i=new Ce(n,t+1);let r=Bt();return this.Kr.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(t){const n=new Ce(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ce{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return wt.comparator(t.key,n.key)||$t(t.Zr,n.Zr)}static Wr(t,n){return $t(t.Zr,n.Zr)||wt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Se(Ce.Ur)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,i){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new YO(r,n,s,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new Ce(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(t,n){return j.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,i=this.ti(s),r=i<0?0:i;return j.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Pp:this.nr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ce(n,0),i=new Ce(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([s,i],o=>{const a=this.ei(o.Zr);r.push(a)}),j.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Se($t);return n.forEach(i=>{const r=new Ce(i,0),o=new Ce(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,o],a=>{s=s.add(a.Zr)})}),j.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,i=s.length+1;let r=s;wt.isDocumentKey(r)||(r=r.child(""));const o=new Ce(new wt(r),0);let a=new Se($t);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Zr)),!0)},o),j.resolve(this.ni(a))}ni(t){const n=[];return t.forEach(s=>{const i=this.ei(s);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Qt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return j.forEach(n.mutations,i=>{const r=new Ce(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ce(n,0),i=this.Xr.firstAfterOrEqual(s);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t){this.ii=t,this.docs=function(){return new de(wt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(t,n){let s=qs();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():Ke.newInvalidDocument(i))}),j.resolve(s)}getDocumentsMatchingQuery(t,n,s,i){let r=qs();const o=n.path,a=new wt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||oO(rO(u),s)<=0||(i.has(u.key)||Th(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return j.resolve(r)}getAllFromCollectionGroup(t,n,s,i){St(9500)}si(t,n){return j.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new R2(this)}getSize(t){return j.resolve(this.size)}}class R2 extends I2{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(t,i)):this.Br.removeEntry(s)}),j.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.persistence=t,this.oi=new Pr(n=>Rp(n),Mp),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this._i=0,this.ai=new Fp,this.targetCount=0,this.ui=So.cr()}forEachTarget(t,n){return this.oi.forEach((s,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),j.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new So(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,j.resolve()}updateTargetData(t,n){return this.Tr(n),j.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,n,s){let i=0;const r=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.oi.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),j.waitFor(r).next(()=>i)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return j.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),j.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(t,o))}),j.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),j.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return j.resolve(s)}containsKey(t,n){return j.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,n){this.ci={},this.overlays={},this.li=new vh(0),this.hi=!1,this.hi=!0,this.Pi=new P2,this.referenceDelegate=t(this),this.Ti=new M2(this),this.indexManager=new v2,this.remoteDocumentCache=function(i){return new D2(i)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new g2(n),this.Ei=new C2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new x2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new k2(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const i=new O2(this.li.next());return this.referenceDelegate.di(),s(i).next(r=>this.referenceDelegate.Ai(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ri(t,n){return j.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class O2 extends lO{constructor(t){super(),this.currentSequenceNumber=t}}class Bp{constructor(t){this.persistence=t,this.Vi=new Fp,this.mi=null}static fi(t){return new Bp(t)}get gi(){if(this.mi)return this.mi;throw St(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),j.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),j.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),j.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(r=>this.gi.add(r.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.gi,s=>{const i=wt.fromPath(s);return this.pi(t,i).next(r=>{r||n.removeEntry(i,kt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return j.or([()=>j.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Su{constructor(t,n){this.persistence=t,this.yi=new Pr(s=>hO(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=E2(this,n)}static fi(t,n){return new Su(t,n)}di(){}Ai(t){return j.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(i=>s+i))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return j.forEach(this.yi,(s,i)=>this.Dr(t,s,i).next(r=>r?j.resolve():n(i)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.si(t,o=>this.Dr(t,o,n).next(a=>{a||(s++,r.removeEntry(o,kt.min()))})).next(()=>r.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),j.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),j.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),j.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=zc(t.data.value)),n}Dr(t,n,s){return j.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.yi.get(n);return j.resolve(i!==void 0&&i>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,n,s,i){this.targetId=t,this.fromCache=n,this.ds=s,this.As=i}static Rs(t,n){let s=Bt(),i=Bt();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Up(t,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return gk()?8:cO(Ze())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,i){const r={result:null};return this.ws(t,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.bs(t,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new N2;return this.Ss(t,n,o).next(a=>{if(r.result=a,this.fs)return this.Ds(t,n,o,a.size)})}).next(()=>r.result)}Ds(t,n,s,i){return s.documentReadCount<this.gs?(Xr()<=Ft.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Qr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),j.resolve()):(Xr()<=Ft.DEBUG&&ut("QueryEngine","Query:",Qr(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.ps*i?(Xr()<=Ft.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Qr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,us(n))):j.resolve())}ws(t,n){if(P_(n))return j.resolve(null);let s=us(n);return this.indexManager.getIndexType(t,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yd(n,null,"F"),s=us(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(r=>{const o=Bt(...r);return this.ys.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,s).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(t,yd(n,null,"F")):this.Fs(t,c,n,l)}))})))}bs(t,n,s,i){return P_(n)||i.isEqual(kt.min())?j.resolve(null):this.ys.getDocuments(t,s).next(r=>{const o=this.vs(n,r);return this.Cs(n,o,s,i)?j.resolve(null):(Xr()<=Ft.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qr(n)),this.Fs(t,o,n,iO(i,ul)).next(a=>a))})}vs(t,n){let s=new Se(ME(t));return n.forEach((i,r)=>{Th(t,r)&&(s=s.add(r))}),s}Cs(t,n,s,i){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(t,n,s){return Xr()<=Ft.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Qr(n)),this.ys.getDocumentsMatchingQuery(t,n,Ri.min(),s)}Fs(t,n,s,i){return this.ys.getDocumentsMatchingQuery(t,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="LocalStore",V2=3e8;class $2{constructor(t,n,s,i){this.persistence=t,this.Ms=n,this.serializer=i,this.xs=new de($t),this.Os=new Pr(r=>Rp(r),Mp),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new A2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function F2(e,t,n,s){return new $2(e,t,n,s)}async function s1(e,t){const n=Mt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],a=[];let l=Bt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function B2(e,t){const n=Mt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=t.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,d=f.keys();let p=j.resolve();return d.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(_=>{const y=c.docVersions.get(m);Qt(y!==null,48541),_.version.compareTo(y)<0&&(f.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,s,t,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(a){let l=Bt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(s,i))})}function i1(e){const t=Mt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function U2(e,t){const n=Mt(e),s=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];t.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ti.removeMatchingKeys(r,u.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(r,u.addedDocuments,f)));let p=d.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(Be.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,s)),i=i.insert(f,p),function(_,y,T){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=V2?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(d,p,u)&&a.push(n.Ti.updateTargetData(r,p))});let l=qs(),c=Bt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(H2(r,o,t.documentUpdates).next(u=>{l=u.qs,c=u.Qs})),!s.isEqual(kt.min())){const u=n.Ti.getLastRemoteSnapshotVersion(r).next(f=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,s));a.push(u)}return j.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.xs=i,r))}function H2(e,t,n){let s=Bt(),i=Bt();return n.forEach(r=>s=s.add(r)),t.getEntries(e,s).next(r=>{let o=qs();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(kt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):ut(Hp,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function j2(e,t){const n=Mt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function z2(e,t){const n=Mt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Ti.getTargetData(s,t).next(r=>r?(i=r,j.resolve(i)):n.Ti.allocateTargetId(s).next(o=>(i=new bi(t,o,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.xs.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function Id(e,t,n){const s=Mt(e),i=s.xs.get(t),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jo(o))throw o;ut(Hp,`Failed to update sequence numbers for target ${t}: ${o}`)}s.xs=s.xs.remove(t),s.Os.delete(i.target)}function H_(e,t,n){const s=Mt(e);let i=kt.min(),r=Bt();return s.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=Mt(l),d=f.Os.get(u);return d!==void 0?j.resolve(f.xs.get(d)):f.Ti.getTargetData(c,u)}(s,o,us(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>s.Ms.getDocumentsMatchingQuery(o,t,n?i:kt.min(),n?r:Bt())).next(a=>(W2(s,DO(t),a),{documents:a,$s:r})))}function W2(e,t,n){let s=e.Ns.get(t)||kt.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),e.Ns.set(t,s)}class j_{constructor(){this.activeTargetIds=VO()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Y2{constructor(){this.xo=new j_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new j_,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="ConnectivityMonitor";class W_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ut(z_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ut(z_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function Sd(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="RestConnection",K2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G2{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${i}`,this.Go=this.databaseId.database===_u?`project_id=${s}`:`project_id=${s}&database_id=${i}`}zo(t,n,s,i,r){const o=Sd(),a=this.jo(t,n.toUriEncodedString());ut(Ef,`Sending RPC '${t}' ${o}:`,a,s);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,r);const{host:c}=new URL(a),u=$o(c);return this.Jo(t,a,l,s,u).then(f=>(ut(Ef,`Received RPC '${t}' ${o}: `,f),f),f=>{throw wo(Ef,`RPC '${t}' ${o} failed with error: `,f,"url: ",a,"request:",s),f})}Yo(t,n,s,i,r,o){return this.zo(t,n,s,i,r)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>t[r]=i),s&&s.headers.forEach((i,r)=>t[r]=i)}jo(t,n){const s=K2[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class Q2 extends G2{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,i,r){const o=Sd();return new Promise((a,l)=>{const c=new aE;c.setWithCredentials(!0),c.listenOnce(lE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case jc.NO_ERROR:const f=c.getResponseJson();ut(je,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(f)),a(f);break;case jc.TIMEOUT:ut(je,`RPC '${t}' ${o} timed out`),l(new bt(q.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const d=c.getStatus();if(ut(je,`RPC '${t}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p?.error;if(m&&m.status&&m.message){const _=function(T){const R=T.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(R)>=0?R:q.UNKNOWN}(m.status);l(new bt(_,m.message))}else l(new bt(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new bt(q.UNAVAILABLE,"Connection failed."));break;default:St(9055,{h_:t,streamId:o,P_:c.getLastErrorCode(),T_:c.getLastError()})}}finally{ut(je,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);ut(je,`RPC '${t}' ${o} sending request:`,i),c.send(n,"POST",u,s,15)})}I_(t,n,s){const i=Sd(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=hE(),a=uE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const u=r.join("");ut(je,`Creating RPC '${t}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);this.E_(f);let d=!1,p=!1;const m=new X2({Zo:y=>{p?ut(je,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(ut(je,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),ut(je,`RPC '${t}' stream ${i} sending:`,y),f.send(y))},Xo:()=>f.close()}),_=(y,T,R)=>{y.listen(T,D=>{try{R(D)}catch(k){setTimeout(()=>{throw k},0)}})};return _(f,Ea.EventType.OPEN,()=>{p||(ut(je,`RPC '${t}' stream ${i} transport opened.`),m.__())}),_(f,Ea.EventType.CLOSE,()=>{p||(p=!0,ut(je,`RPC '${t}' stream ${i} transport closed`),m.u_(),this.d_(f))}),_(f,Ea.EventType.ERROR,y=>{p||(p=!0,wo(je,`RPC '${t}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),m.u_(new bt(q.UNAVAILABLE,"The operation could not be completed")))}),_(f,Ea.EventType.MESSAGE,y=>{var T;if(!p){const R=y.data[0];Qt(!!R,16349);const D=R,k=D?.error||((T=D[0])===null||T===void 0?void 0:T.error);if(k){ut(je,`RPC '${t}' stream ${i} received error:`,k);const O=k.status;let L=function(w){const A=ye[w];if(A!==void 0)return WE(A)}(O),E=k.message;L===void 0&&(L=q.INTERNAL,E="Unknown error status: "+O+" with message "+k.message),p=!0,m.u_(new bt(L,E)),f.close()}else ut(je,`RPC '${t}' stream ${i} received:`,R),m.c_(R)}}),_(a,cE.STAT_EVENT,y=>{y.stat===dd.PROXY?ut(je,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===dd.NOPROXY&&ut(je,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.a_()},0),m}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(e){return new e2(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,n,s=1e3,i=1.5,r=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=i,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-s);i>0&&ut("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="PersistentStream";class o1{constructor(t,n,s,i,r,o,a,l){this.xi=t,this.S_=s,this.D_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new r1(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Ys(n.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.v_===n&&this.z_(s,i)},s=>{t(()=>{const i=new bt(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(i)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{s(()=>this.j_(i))}),this.stream.onMessage(i=>{s(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ut(Y_,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(ut(Y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J2 extends o1{constructor(t,n,s,i,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=i2(this.serializer,t),s=function(r){if(!("targetChange"in r))return kt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?kt.min():o.readTime?hs(o.readTime):kt.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=Ed(this.serializer),n.addTarget=function(r,o){let a;const l=o.target;if(a=_d(l)?{documents:a2(r,l)}:{query:l2(r,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KE(r,o.resumeToken);const c=bd(r,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(kt.min())>0){a.readTime=Iu(r,o.snapshotVersion.toTimestamp());const c=bd(r,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const s=u2(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=Ed(this.serializer),n.removeTarget=t,this.Q_(n)}}class Z2 extends o1{constructor(t,n,s,i,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=o2(t.writeResults,t.commitTime),s=hs(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=Ed(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>r2(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{}class eN extends tN{constructor(t,n,s,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new bt(q.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.zo(t,wd(n,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new bt(q.UNKNOWN,r.toString())})}Yo(t,n,s,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(t,wd(n,s),i,o,a,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new bt(q.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class nN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ys(n),this.ua=!1):ut("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="RemoteStore";class sN{constructor(t,n,s,i,r){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(o=>{s.enqueueAndForget(async()=>{Dr(this)&&(ut(wr,"Restarting streams for network reachability change."),await async function(l){const c=Mt(l);c.da.add(4),await Bl(c),c.Va.set("Unknown"),c.da.delete(4),await Ch(c)}(this))})}),this.Va=new nN(s,i)}}async function Ch(e){if(Dr(e))for(const t of e.Aa)await t(!0)}async function Bl(e){for(const t of e.Aa)await t(!1)}function a1(e,t){const n=Mt(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Yp(n)?Wp(n):zo(n).N_()&&zp(n,t))}function jp(e,t){const n=Mt(e),s=zo(n);n.Ea.delete(t),s.N_()&&l1(n,t),n.Ea.size===0&&(s.N_()?s.k_():Dr(n)&&n.Va.set("Unknown"))}function zp(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zo(e).Z_(t)}function l1(e,t){e.ma.Ke(t),zo(e).X_(t)}function Wp(e){e.ma=new QO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),zo(e).start(),e.Va.ca()}function Yp(e){return Dr(e)&&!zo(e).O_()&&e.Ea.size>0}function Dr(e){return Mt(e).da.size===0}function c1(e){e.ma=void 0}async function iN(e){e.Va.set("Online")}async function rN(e){e.Ea.forEach((t,n)=>{zp(e,t)})}async function oN(e,t){c1(e),Yp(e)?(e.Va.Pa(t),Wp(e)):e.Va.set("Unknown")}async function aN(e,t,n){if(e.Va.set("Online"),t instanceof qE&&t.state===2&&t.cause)try{await async function(i,r){const o=r.cause;for(const a of r.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ea.delete(a),i.ma.removeTarget(a))}(e,t)}catch(s){ut(wr,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Au(e,s)}else if(t instanceof qc?e.ma.Xe(t):t instanceof YE?e.ma.ot(t):e.ma.nt(t),!n.isEqual(kt.min()))try{const s=await i1(e.localStore);n.compareTo(s)>=0&&await function(r,o){const a=r.ma.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=r.Ea.get(c);u&&r.Ea.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=r.Ea.get(l);if(!u)return;r.Ea.set(l,u.withResumeToken(Be.EMPTY_BYTE_STRING,u.snapshotVersion)),l1(r,l);const f=new bi(u.target,l,c,u.sequenceNumber);zp(r,f)}),r.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(s){ut(wr,"Failed to raise snapshot:",s),await Au(e,s)}}async function Au(e,t,n){if(!jo(t))throw t;e.da.add(1),await Bl(e),e.Va.set("Offline"),n||(n=()=>i1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ut(wr,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Ch(e)})}function u1(e,t){return t().catch(n=>Au(e,n,t))}async function xh(e){const t=Mt(e),n=Li(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Pp;for(;lN(t);)try{const i=await j2(t.localStore,s);if(i===null){t.Ia.length===0&&n.k_();break}s=i.batchId,cN(t,i)}catch(i){await Au(t,i)}h1(t)&&f1(t)}function lN(e){return Dr(e)&&e.Ia.length<10}function cN(e,t){e.Ia.push(t);const n=Li(e);n.N_()&&n.ea&&n.ta(t.mutations)}function h1(e){return Dr(e)&&!Li(e).O_()&&e.Ia.length>0}function f1(e){Li(e).start()}async function uN(e){Li(e).ia()}async function hN(e){const t=Li(e);for(const n of e.Ia)t.ta(n.mutations)}async function fN(e,t,n){const s=e.Ia.shift(),i=Lp.from(s,t,n);await u1(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await xh(e)}async function dN(e,t){t&&Li(e).ea&&await async function(s,i){if(function(o){return GO(o)&&o!==q.ABORTED}(i.code)){const r=s.Ia.shift();Li(s).L_(),await u1(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await xh(s)}}(e,t),h1(e)&&f1(e)}async function q_(e,t){const n=Mt(e);n.asyncQueue.verifyOperationInProgress(),ut(wr,"RemoteStore received new credentials");const s=Dr(n);n.da.add(3),await Bl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Ch(n)}async function pN(e,t){const n=Mt(e);t?(n.da.delete(2),await Ch(n)):t||(n.da.add(2),await Bl(n),n.Va.set("Unknown"))}function zo(e){return e.fa||(e.fa=function(n,s,i){const r=Mt(n);return r.oa(),new J2(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(e.datastore,e.asyncQueue,{e_:iN.bind(null,e),n_:rN.bind(null,e),i_:oN.bind(null,e),Y_:aN.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Yp(e)?Wp(e):e.Va.set("Unknown")):(await e.fa.stop(),c1(e))})),e.fa}function Li(e){return e.ga||(e.ga=function(n,s,i){const r=Mt(n);return r.oa(),new Z2(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:uN.bind(null,e),i_:dN.bind(null,e),na:hN.bind(null,e),ra:fN.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await xh(e)):(await e.ga.stop(),e.Ia.length>0&&(ut(wr,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,n,s,i,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,i,r){const o=Date.now()+s,a=new qp(t,n,o,i,r);return a.start(s),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(e,t){if(Ys("AsyncQueue",`${t}: ${e}`),jo(e))return new bt(q.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(t){return new fo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||wt.comparator(n.key,s.key):(n,s)=>wt.comparator(n.key,s.key),this.keyedMap=Ia(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof fo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.pa=new de(wt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):St(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ao{constructor(t,n,s,i,r,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,s,i,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ao(t,n,fo.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class mN{constructor(){this.queries=G_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=Mt(n),r=i.queries;i.queries=G_(),r.forEach((o,a)=>{for(const l of a.Sa)l.onError(s)})})(this,new bt(q.ABORTED,"Firestore shutting down"))}}function G_(){return new Pr(e=>RE(e),wh)}async function vN(e,t){const n=Mt(e);let s=3;const i=t.query;let r=n.queries.get(i);r?!r.Da()&&t.va()&&(s=2):(r=new gN,s=t.va()?0:1);try{switch(s){case 0:r.ba=await n.onListen(i,!0);break;case 1:r.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Kp(o,`Initialization of query '${Qr(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,r),r.Sa.push(t),t.Fa(n.onlineState),r.ba&&t.Ma(r.ba)&&Gp(n)}async function _N(e,t){const n=Mt(e),s=t.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(t);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=t.va()?0:1:!r.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function yN(e,t){const n=Mt(e);let s=!1;for(const i of t){const r=i.query,o=n.queries.get(r);if(o){for(const a of o.Sa)a.Ma(i)&&(s=!0);o.ba=i}}s&&Gp(n)}function bN(e,t,n){const s=Mt(e),i=s.queries.get(t);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(t)}function Gp(e){e.Ca.forEach(t=>{t.next()})}var Ad,X_;(X_=Ad||(Ad={})).xa="default",X_.Cache="cache";class wN{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const i of t.docChanges)i.type!==3&&s.push(i);t=new Ao(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Ad.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t){this.key=t}}class p1{constructor(t){this.key=t}}class TN{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Bt(),this.mutatedKeys=Bt(),this.Za=ME(t),this.Xa=new fo(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new K_,i=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,f)=>{const d=i.get(u),p=Th(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;d&&p?d.data.isEqual(p.data)?m!==_&&(s.track({type:3,doc:p}),y=!0):this.ru(d,p)||(s.track({type:2,doc:p}),y=!0,(l&&this.Za(p,l)>0||c&&this.Za(p,c)<0)&&(a=!0)):!d&&p?(s.track({type:0,doc:p}),y=!0):d&&!p&&(s.track({type:1,doc:d}),y=!0,(l||c)&&(a=!0)),y&&(p?(o=o.add(p),r=_?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),s.track({type:1,doc:u})}return{Xa:o,nu:s,Cs:a,mutatedKeys:r}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,i){const r=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const o=t.nu.wa();o.sort((u,f)=>function(p,m){const _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:y})}};return _(p)-_(m)}(u.type,f.type)||this.Za(u.doc,f.doc)),this.iu(s),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,c=l!==this.Ja;return this.Ja=l,o.length!==0||c?{snapshot:new Ao(this.query,t.Xa,r,o,t.mutatedKeys,l===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new K_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Bt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new p1(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new d1(s))}),n}au(t){this.Ha=t.$s,this.Ya=Bt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Ao.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Xp="SyncEngine";class EN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class IN{constructor(t){this.key=t,this.cu=!1}}class SN{constructor(t,n,s,i,r,o){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Pr(a=>RE(a),wh),this.Pu=new Map,this.Tu=new Set,this.Iu=new de(wt.comparator),this.Eu=new Map,this.du=new Fp,this.Au={},this.Ru=new Map,this.Vu=So.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function AN(e,t,n=!0){const s=b1(e);let i;const r=s.hu.get(t);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.uu()):i=await g1(s,t,n,!0),i}async function CN(e,t){const n=b1(e);await g1(n,t,!0,!1)}async function g1(e,t,n,s){const i=await z2(e.localStore,us(t)),r=i.targetId,o=e.sharedClientState.addLocalQueryTarget(r,n);let a;return s&&(a=await xN(e,t,r,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&a1(e.remoteStore,i),a}async function xN(e,t,n,s,i){e.fu=(f,d,p)=>async function(_,y,T,R){let D=y.view.tu(T);D.Cs&&(D=await H_(_.localStore,y.query,!1).then(({documents:E})=>y.view.tu(E,D)));const k=R&&R.targetChanges.get(y.targetId),O=R&&R.targetMismatches.get(y.targetId)!=null,L=y.view.applyChanges(D,_.isPrimaryClient,k,O);return J_(_,y.targetId,L.ou),L.snapshot}(e,f,d,p);const r=await H_(e.localStore,t,!0),o=new TN(t,r.$s),a=o.tu(r.documents),l=Fl.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",i),c=o.applyChanges(a,e.isPrimaryClient,l);J_(e,n,c.ou);const u=new EN(t,n,o);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function PN(e,t,n){const s=Mt(e),i=s.hu.get(t),r=s.Pu.get(i.targetId);if(r.length>1)return s.Pu.set(i.targetId,r.filter(o=>!wh(o,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Id(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&jp(s.remoteStore,i.targetId),Cd(s,i.targetId)}).catch(Ho)):(Cd(s,i.targetId),await Id(s.localStore,i.targetId,!0))}async function kN(e,t){const n=Mt(e),s=n.hu.get(t),i=n.Pu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jp(n.remoteStore,s.targetId))}async function DN(e,t,n){const s=$N(e);try{const i=await function(o,a){const l=Mt(o),c=Ie.now(),u=a.reduce((p,m)=>p.add(m.key),Bt());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=qs(),_=Bt();return l.Bs.getEntries(p,u).next(y=>{m=y,m.forEach((T,R)=>{R.isValidDocument()||(_=_.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(y=>{f=y;const T=[];for(const R of a){const D=zO(R,f.get(R.key).overlayedDocument);D!=null&&T.push(new kr(R.key,D,SE(D.value.mapValue),Us.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,T,a)}).next(y=>{d=y;const T=y.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(p,y.batchId,T)})}).then(()=>({batchId:d.batchId,changes:NE(f)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Au[o.currentUser.toKey()];c||(c=new de($t)),c=c.insert(a,l),o.Au[o.currentUser.toKey()]=c}(s,i.batchId,n),await Ul(s,i.changes),await xh(s.remoteStore)}catch(i){const r=Kp(i,"Failed to persist write");n.reject(r)}}async function m1(e,t){const n=Mt(e);try{const s=await U2(n.localStore,t);t.targetChanges.forEach((i,r)=>{const o=n.Eu.get(r);o&&(Qt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?Qt(o.cu,14607):i.removedDocuments.size>0&&(Qt(o.cu,42227),o.cu=!1))}),await Ul(n,s,t)}catch(s){await Ho(s)}}function Q_(e,t,n){const s=Mt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.hu.forEach((r,o)=>{const a=o.view.Fa(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Mt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const d of f.Sa)d.Fa(a)&&(c=!0)}),c&&Gp(l)}(s.eventManager,t),i.length&&s.lu.Y_(i),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function RN(e,t,n){const s=Mt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const i=s.Eu.get(t),r=i&&i.key;if(r){let o=new de(wt.comparator);o=o.insert(r,Ke.newNoDocument(r,kt.min()));const a=Bt().add(r),l=new Sh(kt.min(),new Map,new de($t),o,a);await m1(s,l),s.Iu=s.Iu.remove(r),s.Eu.delete(t),Qp(s)}else await Id(s.localStore,t,!1).then(()=>Cd(s,t,n)).catch(Ho)}async function MN(e,t){const n=Mt(e),s=t.batch.batchId;try{const i=await B2(n.localStore,t);_1(n,s,null),v1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ul(n,i)}catch(i){await Ho(i)}}async function ON(e,t,n){const s=Mt(e);try{const i=await function(o,a){const l=Mt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Qt(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(s.localStore,t);_1(s,t,n),v1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ul(s,i)}catch(i){await Ho(i)}}function v1(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function _1(e,t,n){const s=Mt(e);let i=s.Au[s.currentUser.toKey()];if(i){const r=i.get(t);r&&(n?r.reject(n):r.resolve(),i=i.remove(t)),s.Au[s.currentUser.toKey()]=i}}function Cd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Pu.get(t))e.hu.delete(s),n&&e.lu.gu(s,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(s=>{e.du.containsKey(s)||y1(e,s)})}function y1(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(jp(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Qp(e))}function J_(e,t,n){for(const s of n)s instanceof d1?(e.du.addReference(s.key,t),NN(e,s)):s instanceof p1?(ut(Xp,"Document no longer in limbo: "+s.key),e.du.removeReference(s.key,t),e.du.containsKey(s.key)||y1(e,s.key)):St(19791,{pu:s})}function NN(e,t){const n=t.key,s=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(s)||(ut(Xp,"New document in limbo: "+n),e.Tu.add(s),Qp(e))}function Qp(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new wt(ge.fromString(t)),s=e.Vu.next();e.Eu.set(s,new IN(n)),e.Iu=e.Iu.insert(n,s),a1(e.remoteStore,new bi(us(Op(n.path)),s,"TargetPurposeLimboResolution",vh.le))}}async function Ul(e,t,n){const s=Mt(e),i=[],r=[],o=[];s.hu.isEmpty()||(s.hu.forEach((a,l)=>{o.push(s.fu(l,t,n).then(c=>{var u;if((c||n)&&s.isPrimaryClient){const f=c?!c.fromCache:(u=n?.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;s.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Up.Rs(l.targetId,c);r.push(f)}}))}),await Promise.all(o),s.lu.Y_(i),await async function(l,c){const u=Mt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(c,d=>j.forEach(d.ds,p=>u.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>j.forEach(d.As,p=>u.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!jo(f))throw f;ut(Hp,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const p=u.xs.get(d),m=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(m);u.xs=u.xs.insert(d,_)}}}(s.localStore,r))}async function LN(e,t){const n=Mt(e);if(!n.currentUser.isEqual(t)){ut(Xp,"User change. New user:",t.toKey());const s=await s1(n.localStore,t);n.currentUser=t,function(r,o){r.Ru.forEach(a=>{a.forEach(l=>{l.reject(new bt(q.CANCELLED,o))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ul(n,s.ks)}}function VN(e,t){const n=Mt(e),s=n.Eu.get(t);if(s&&s.cu)return Bt().add(s.key);{let i=Bt();const r=n.Pu.get(t);if(!r)return i;for(const o of r){const a=n.hu.get(o);i=i.unionWith(a.view.eu)}return i}}function b1(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RN.bind(null,t),t.lu.Y_=yN.bind(null,t.eventManager),t.lu.gu=bN.bind(null,t.eventManager),t}function $N(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ON.bind(null,t),t}class Cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return F2(this.persistence,new L2,t.initialUser,this.serializer)}Su(t){return new n1(Bp.fi,this.serializer)}bu(t){return new Y2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cu.provider={build:()=>new Cu};class FN extends Cu{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Qt(this.persistence.referenceDelegate instanceof Su,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new w2(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new n1(s=>Su.fi(s,n),this.serializer)}}class xd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Q_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LN.bind(null,this.syncEngine),await pN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new mN}()}createDatastore(t){const n=Ah(t.databaseInfo.databaseId),s=function(r){return new Q2(r)}(t.databaseInfo);return function(r,o,a,l){return new eN(r,o,a,l)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,i,r,o,a){return new sN(s,i,r,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Q_(this.syncEngine,n,0),function(){return W_.C()?new W_:new q2}())}createSyncEngine(t,n){return function(i,r,o,a,l,c,u){const f=new SN(i,r,o,a,l,c);return u&&(f.mu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const r=Mt(i);ut(wr,"RemoteStore shutting down."),r.da.add(5),await Bl(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xd.provider={build:()=>new xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ys("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="FirestoreClient";class UN{constructor(t,n,s,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=gE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{ut(Vi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(ut(Vi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Kp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Sf(e,t){e.asyncQueue.verifyOperationInProgress(),ut(Vi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async i=>{s.isEqual(i)||(await s1(t.localStore,i),s=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Z_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await HN(e);ut(Vi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>q_(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>q_(t.remoteStore,i)),e._onlineComponents=t}async function HN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ut(Vi,"Using user provided OfflineComponentProvider");try{await Sf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await Sf(e,new Cu)}}else ut(Vi,"Using default OfflineComponentProvider"),await Sf(e,new FN(void 0));return e._offlineComponents}async function w1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ut(Vi,"Using user provided OnlineComponentProvider"),await Z_(e,e._uninitializedComponentsProvider._online)):(ut(Vi,"Using default OnlineComponentProvider"),await Z_(e,new xd))),e._onlineComponents}function jN(e){return w1(e).then(t=>t.syncEngine)}async function zN(e){const t=await w1(e),n=t.eventManager;return n.onListen=AN.bind(null,t.syncEngine),n.onUnlisten=PN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=CN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kN.bind(null,t.syncEngine),n}function WN(e,t,n={}){const s=new xi;return e.asyncQueue.enqueueAndForget(async()=>function(r,o,a,l,c){const u=new BN({next:d=>{u.xu(),o.enqueueAndForget(()=>_N(r,f));const p=d.docs.has(a);!p&&d.fromCache?c.reject(new bt(q.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?c.reject(new bt(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new wN(Op(a.path),u,{includeMetadataChanges:!0,Qa:!0});return vN(r,f)}(await zN(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(e,t,n){if(!n)throw new bt(q.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qN(e,t,n,s){if(t===!0&&s===!0)throw new bt(q.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ey(e){if(!wt.isDocumentKey(e))throw new bt(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Jp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":St(12329,{type:typeof e})}function ml(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new bt(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jp(e);throw new bt(q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firestore.googleapis.com",ny=!0;class sy{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new bt(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E1,this.ssl=ny}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:ny;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=e1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<y2)throw new bt(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T1((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new bt(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new bt(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new bt(q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zp{constructor(t,n,s,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new bt(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new GM;switch(s.type){case"firstParty":return new ZM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new bt(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=ty.get(n);s&&(ut("ComponentProvider","Removing Datastore"),ty.delete(n),s.terminate())}(this),Promise.resolve()}}function KN(e,t,n,s={}){var i;e=ml(e,Zp);const r=$o(t),o=e._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;r&&(_T(`https://${l}`),yT("Firestore",!0)),o.host!==E1&&o.host!==l&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:r,emulatorOptions:s});if(!mr(c,a)&&(e._setSettings(c),s.mockUserToken)){let u,f;if(typeof s.mockUserToken=="string")u=s.mockUserToken,f=Ye.MOCK_USER;else{u=ok(s.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const d=s.mockUserToken.sub||s.mockUserToken.user_id;if(!d)throw new bt(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ye(d)}e._authCredentials=new XM(new dE(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new tg(this.firestore,t,this._query)}}class Rn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Rn(this.firestore,t,this._key)}}class vl extends tg{constructor(t,n,s){super(t,n,Op(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Rn(this.firestore,null,new wt(t))}withConverter(t){return new vl(this.firestore,t,this._path)}}function iy(e,t,...n){if(e=Ln(e),arguments.length===1&&(t=gE.newId()),YN("doc","path",t),e instanceof Zp){const s=ge.fromString(t,...n);return ey(s),new Rn(e,null,new wt(s))}{if(!(e instanceof Rn||e instanceof vl))throw new bt(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ge.fromString(t,...n));return ey(s),new Rn(e.firestore,e instanceof vl?e.converter:null,new wt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="AsyncQueue";class oy{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new r1(this,"async_queue_retry"),this.rc=()=>{const s=If();s&&ut(ry,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=If();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=If();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new xi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!jo(t))throw t;ut(ry,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Ys("INTERNAL UNHANDLED ERROR: ",ay(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const i=qp.createAndSchedule(this,t,n,s,r=>this.uc(r));return this.Zu.push(i),i}oc(){this.Xu&&St(47125,{cc:ay(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function ay(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class eg extends Zp{constructor(t,n,s,i){super(t,n,s,i),this.type="firestore",this._queue=new oy,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new oy(t),this._firestoreClient=void 0,await t}}}function GN(e,t){const n=typeof e=="object"?e:ET(),s=typeof e=="string"?e:_u,i=_p(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=ik("firestore");r&&KN(i,...r)}return i}function I1(e){if(e._terminated)throw new bt(q.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||XN(e),e._firestoreClient}function XN(e){var t,n,s;const i=e._freezeSettings(),r=function(a,l,c,u){return new pO(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,T1(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new UN(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Co(Be.fromBase64String(t))}catch(n){throw new bt(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Co(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new bt(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new bt(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new bt(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^__.*__$/;class JN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new kr(t,this.data,this.fieldMask,n,this.fieldTransforms):new $l(t,this.data,n,this.fieldTransforms)}}function A1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ic:e})}}class rg{constructor(t,n,s,i,r,o){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new rg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.dc({path:s,Rc:!1});return i.Vc(t),i}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.dc({path:s,Rc:!1});return i.Ec(),i}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return xu(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(A1(this.Ic)&&QN.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class ZN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ah(t)}bc(t,n,s,i=!1){return new rg({Ic:t,methodName:n,wc:s,path:$e.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tL(e){const t=e._freezeSettings(),n=Ah(e._databaseId);return new ZN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function eL(e,t,n,s,i,r={}){const o=e.bc(r.merge||r.mergeFields?2:0,t,n,i);k1("Data must be an object, but it was:",o,s);const a=x1(s,o);let l,c;if(r.merge)l=new zn(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const f of r.mergeFields){const d=nL(t,f,n);if(!o.contains(d))throw new bt(q.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);iL(u,d)||u.push(d)}l=new zn(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new JN(new xn(a),l,c)}function C1(e,t){if(P1(e=Ln(e)))return k1("Unsupported field value:",t,e),x1(e,t);if(e instanceof S1)return function(s,i){if(!A1(i.Ic))throw i.gc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const a of s){let l=C1(a,i.fc(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(e,t)}return function(s,i){if((s=Ln(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $O(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Ie.fromDate(s);return{timestampValue:Iu(i.serializer,r)}}if(s instanceof Ie){const r=new Ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Iu(i.serializer,r)}}if(s instanceof sg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Co)return{bytesValue:KE(i.serializer,s._byteString)};if(s instanceof Rn){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:$p(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof ig)return function(o,a){return{mapValue:{fields:{[EE]:{stringValue:IE},[yu]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.gc("VectorValues must only contain numeric values.");return Np(a.serializer,c)})}}}}}}(s,i);throw i.gc(`Unsupported field value: ${Jp(s)}`)}(e,t)}function x1(e,t){const n={};return vE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xr(e,(s,i)=>{const r=C1(i,t.Ac(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function P1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ie||e instanceof sg||e instanceof Co||e instanceof Rn||e instanceof S1||e instanceof ig)}function k1(e,t,n){if(!P1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const s=Jp(n);throw s==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+s)}}function nL(e,t,n){if((t=Ln(t))instanceof ng)return t._internalPath;if(typeof t=="string")return D1(e,t);throw xu("Field path arguments must be of type string or ",e,!1,void 0,n)}const sL=new RegExp("[~\\*/\\[\\]]");function D1(e,t,n){if(t.search(sL)>=0)throw xu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ng(...t.split("."))._internalPath}catch{throw xu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xu(e,t,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${s}`),o&&(l+=` in document ${i}`),l+=")"),new bt(q.INVALID_ARGUMENT,a+e+l)}function iL(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,n,s,i,r){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(M1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rL extends R1{data(){return super.data()}}function M1(e,t){return typeof t=="string"?D1(e,t):t instanceof ng?t._internalPath:t._delegate._internalPath}class oL{convertValue(t,n="none"){switch(Ni(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Oi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return xr(t,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(t){var n,s,i;const r=(i=(s=(n=t.fields)===null||n===void 0?void 0:n[yu].arrayValue)===null||s===void 0?void 0:s.values)===null||i===void 0?void 0:i.map(o=>ve(o.doubleValue));return new ig(r)}convertGeoPoint(t){return new sg(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=yh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hl(t));default:return null}}convertTimestamp(t){const n=Mi(t);return new Ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ge.fromString(t);Qt(t1(s),9688,{name:t});const i=new fl(s.get(1),s.get(3)),r=new wt(s.popFirst(5));return i.isEqual(n)||Ys(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class O1 extends R1{constructor(t,n,s,i,r,o){super(t,n,s,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new cL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(M1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class cL extends O1{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(e){e=ml(e,Rn);const t=ml(e.firestore,eg);return WN(I1(t),e._key).then(n=>pL(t,e,n))}class hL extends oL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Co(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Rn(this.firestore,null,n)}}function fL(e,t,n){e=ml(e,Rn);const s=ml(e.firestore,eg),i=aL(e.converter,t,n);return dL(s,[eL(tL(s),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Us.none())])}function dL(e,t){return function(s,i){const r=new xi;return s.asyncQueue.enqueueAndForget(async()=>DN(await jN(s),i,r)),r.promise}(I1(e),t)}function pL(e,t,n){const s=n.docs.get(t._key),i=new hL(e);return new O1(e,i,t._key,s,new lL(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Uo=i})(Fo),bo(new vr("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),a=new eg(new QM(s.getProvider("auth-internal")),new tO(o,s.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new bt(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(c.options.projectId,u)}(o,i),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),Ai(f_,d_,t),Ai(f_,d_,"esm2017")})();const gL={apiKey:"AIzaSyDXxGvAaldYqYysPQHlMkQXbOVTpaxnjuA",authDomain:"chikh-counter.firebaseapp.com",projectId:"chikh-counter",storageBucket:"chikh-counter.firebasestorage.app",messagingSenderId:"600153083247",appId:"1:600153083247:web:f214631934a7f62d25ec9a"},N1=TT(gL),Tr=qM(N1),ly=GN(N1),mL={class:"clock-container"},vL={class:"clock-face",viewBox:"-40 -40 280 280"},_L={id:"clock-bg",cx:"50%",cy:"50%",r:"100%"},yL=["stop-color"],bL=["stop-color"],wL={id:"dot-gradient",x1:"0",y1:"0",x2:"1",y2:"1"},TL=["stop-color"],EL=["stop-color"],IL=["x1","y1","x2","y2"],SL=["cx","cy","r","onClick"],AL=["x","y","fill"],CL={__name:"ClockGroups",props:{groups:{type:Array,required:!0}},setup(e){const t=e;function n(f){const d=new Date(f.start);let p=d.getHours()%12,m=d.getMinutes();return p+m/60}function s(f,d){const p=(f-3)/12*2*Math.PI;return{x:100+d*Math.cos(p),y:100+d*Math.sin(p)}}function i(f){return 17}const r=Vt(null),o=Vt({});function a(f,d){r.value=f;const p=d.target.ownerSVGElement.getBoundingClientRect(),m=d.target.getBoundingClientRect();o.value={left:`${m.left-p.left+m.width/2}px`,top:`${m.top-p.top-10}px`},setTimeout(()=>{r.value=null},1500)}function l(f){return{transition:`r 0.5s cubic-bezier(.68,-0.55,.27,1.55) ${(f*.07).toFixed(2)}s`,filter:"drop-shadow(0 2px 8px #43705788)"}}function c(){return getComputedStyle(document.documentElement).getPropertyValue("--primary")}function u(){return getComputedStyle(document.documentElement).getPropertyValue("--accent")}return typeof window<"u"&&(window.addDebugGroup=function(f,d=0,p=1){const m=new Date;m.setHours(f),m.setMinutes(d),m.setSeconds(0),m.setMilliseconds(0);const _={start:m.getTime(),count:p};if(Array.isArray(t.groups))t.groups.push(_);else{const y=qw();y&&y.emit&&y.emit("add-debug-group",_)}return _}),(f,d)=>(lt(),gt("div",mL,[(lt(),gt("svg",vL,[X("defs",null,[X("radialGradient",_L,[X("stop",{offset:"0%","stop-color":u(),"stop-opacity":"0.7"},null,8,yL),X("stop",{offset:"100%","stop-color":c(),"stop-opacity":"1"},null,8,bL)]),X("linearGradient",wL,[X("stop",{offset:"0%","stop-color":u()},null,8,TL),X("stop",{offset:"100%","stop-color":c()},null,8,EL)])]),d[0]||(d[0]=X("circle",{cx:"100",cy:"100",r:"90",fill:"url(#clock-bg)"},null,-1)),d[1]||(d[1]=X("circle",{cx:"100",cy:"100",r:"80",class:"clock-outline",fill:"none"},null,-1)),X("g",null,[(lt(),gt(te,null,pn(12,p=>X("line",{key:p,x1:s(p,120).x,y1:s(p,120).y,x2:s(p,120).x,y2:s(p,120).y,class:"hour-mark"},null,8,IL)),64))]),X("g",null,[(lt(!0),gt(te,null,pn(e.groups,(p,m)=>(lt(),gt("circle",{key:p.start+"-dot",cx:s(n(p),120).x,cy:s(n(p),120).y,r:i(p.count),class:"group-dot",style:Qe(l(m)),onClick:_=>a(m,_),fill:"url(#dot-gradient)"},null,12,SL))),128)),(lt(!0),gt(te,null,pn(e.groups,(p,m)=>(lt(),gt("text",{key:p.start+"-text",x:s(n(p),120).x,y:s(n(p),120).y,"text-anchor":"middle","dominant-baseline":"central","font-size":"12","font-weight":"bold",fill:u(),style:{"pointer-events":"none","user-select":"none"}},Je(p.count),9,AL))),128))]),d[2]||(d[2]=X("circle",{cx:"100",cy:"100",r:"7",fill:"#555555",filter:"url(#centerShadow)"},null,-1))])),xt(uh,{name:"fade"},{default:me(()=>[r.value!==null&&e.groups[r.value]?(lt(),gt("div",{key:0,class:"dot-count",style:Qe(o.value)},Je(e.groups[r.value]?.count),5)):Fe("",!0)]),_:1})]))}},xL=Bi(CL,[["__scopeId","data-v-55f3784c"]]),PL={class:"menu-panel"},kL={__name:"BurgerMenu",setup(e){const t=Vt(!1),n=gp(),s=async()=>{await LR(Tr),t.value=!1,n.push("/auth")};return(i,r)=>{const o=Ms("router-link");return lt(),gt("div",null,[X("button",{class:"burger-btn",onClick:r[0]||(r[0]=a=>t.value=!t.value)},r[5]||(r[5]=[X("span",null,null,-1),X("span",null,null,-1),X("span",null,null,-1)])),xt(uh,{name:"slide"},{default:me(()=>[t.value?(lt(),gt("div",{key:0,class:"menu-overlay",onClick:r[4]||(r[4]=dp(a=>t.value=!1,["self"]))},[X("nav",PL,[xt(o,{to:"/stats",class:"menu-link",onClick:r[1]||(r[1]=a=>t.value=!1),"aria-label":"Статистика"},{default:me(()=>r[6]||(r[6]=[X("svg",{viewBox:"0 0 24 24",width:"28",height:"28",fill:"none"},[X("path",{d:"M4 18V10M9 18V6M15 18V14M20 18V2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1,__:[6]}),xt(o,{to:"/calendar",class:"menu-link",onClick:r[2]||(r[2]=a=>t.value=!1),"aria-label":"Календар"},{default:me(()=>r[7]||(r[7]=[X("svg",{viewBox:"0 0 24 24",width:"28",height:"28",fill:"none"},[X("rect",{x:"3",y:"5",width:"18",height:"16",rx:"2",stroke:"currentColor","stroke-width":"2"}),X("path",{d:"M16 3v4M8 3v4M3 9h18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)])),_:1,__:[7]}),xt(o,{to:"/settings",class:"menu-link",onClick:r[3]||(r[3]=a=>t.value=!1),"aria-label":"Налаштування"},{default:me(()=>r[8]||(r[8]=[X("svg",{viewBox:"0 0 45.973 45.973",width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[X("path",{d:"M43.454,18.443h-2.437c-0.453-1.766-1.16-3.42-2.082-4.933l1.752-1.756c0.473-0.473,0.733-1.104,0.733-1.774 c0-0.669-0.262-1.301-0.733-1.773l-2.92-2.917c-0.947-0.948-2.602-0.947-3.545-0.001l-1.826,1.815 C30.9,6.232,29.296,5.56,27.529,5.128V2.52c0-1.383-1.105-2.52-2.488-2.52h-4.128c-1.383,0-2.471,1.137-2.471,2.52v2.607 c-1.766,0.431-3.38,1.104-4.878,1.977l-1.825-1.815c-0.946-0.948-2.602-0.947-3.551-0.001L5.27,8.205 C4.802,8.672,4.535,9.318,4.535,9.978c0,0.669,0.259,1.299,0.733,1.772l1.752,1.76c-0.921,1.513-1.629,3.167-2.081,4.933H2.501 C1.117,18.443,0,19.555,0,20.935v4.125c0,1.384,1.117,2.471,2.501,2.471h2.438c0.452,1.766,1.159,3.43,2.079,4.943l-1.752,1.763 c-0.474,0.473-0.734,1.106-0.734,1.776s0.261,1.303,0.734,1.776l2.92,2.919c0.474,0.473,1.103,0.733,1.772,0.733 s1.299-0.261,1.773-0.733l1.833-1.816c1.498,0.873,3.112,1.545,4.878,1.978v2.604c0,1.383,1.088,2.498,2.471,2.498h4.128 c1.383,0,2.488-1.115,2.488-2.498v-2.605c1.767-0.432,3.371-1.104,4.869-1.977l1.817,1.812c0.474,0.475,1.104,0.735,1.775,0.735 c0.67,0,1.301-0.261,1.774-0.733l2.92-2.917c0.473-0.472,0.732-1.103,0.734-1.772c0-0.67-0.262-1.299-0.734-1.773l-1.75-1.77 c0.92-1.514,1.627-3.179,2.08-4.943h2.438c1.383,0,2.52-1.087,2.52-2.471v-4.125C45.973,19.555,44.837,18.443,43.454,18.443z M22.976,30.85c-4.378,0-7.928-3.517-7.928-7.852c0-4.338,3.55-7.85,7.928-7.85c4.379,0,7.931,3.512,7.931,7.85 C30.906,27.334,27.355,30.85,22.976,30.85z",fill:"currentColor"})],-1)])),_:1,__:[8]}),r[10]||(r[10]=X("div",{class:"menu-spacer"},null,-1)),X("button",{class:"menu-link logout-link",onClick:s,"aria-label":"Logout"},r[9]||(r[9]=[X("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[X("path",{d:"M16 17L21 12L16 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),X("path",{d:"M21 12H9",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),X("path",{d:"M12 19C7.58172 19 4 15.4183 4 11C4 6.58172 7.58172 3 12 3",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)]))])])):Fe("",!0)]),_:1})])}}},DL=Bi(kL,[["__scopeId","data-v-c253f107"]]),RL={key:0,class:"loader-overlay"},ML={__name:"Home",setup(e){const t=["#2F5249","#1976D2","#D32F2F","#7B1FA2","#F57C00","#388E3C","#455A64","#212121"],n=Vt(localStorage.getItem("color-primary")&&t.includes(localStorage.getItem("color-primary"))?localStorage.getItem("color-primary"):t[0]);function s(D){let k=D.replace("#","");k.length===3&&(k=k.split("").map(L=>L+L).join(""));const O=parseInt(k,16);return[O>>16,O>>8&255,O&255]}function i([D,k,O]){return"#"+[D,k,O].map(L=>L.toString(16).padStart(2,"0")).join("")}function r(D,k){const[O,L,E]=s(D),b=k<0?0:255,w=Math.abs(k);return i([Math.round((b-O)*w+O),Math.round((b-L)*w+L),Math.round((b-E)*w+E)])}const o=G(()=>{const D=n.value,k=r(D,.5),O=r(D,-.3);return`linear-gradient(135deg, ${k} 0%, ${D} 50%, ${O} 100%)`}),a=Vt(0),l=Vt(!1),c=Vt([]),u=Vt({}),f=Vt(!0),d=()=>new Date,p=()=>{const D=d();return`${D.getFullYear()}-${D.getMonth()+1}-${D.getDate()}`};function m(){const D=p();c.value=u.value[D]||[];const k=c.value.reduce((O,L)=>O+L.count,0);a.value!==k&&(l.value=!0,setTimeout(()=>{l.value=!1},250)),a.value=k}async function _(){f.value=!0;const D=Tr.currentUser;if(!D){f.value=!1;return}const k=iy(ly,"users",D.uid),O=await uL(k);O.exists()?u.value=O.data().groups||{}:u.value={},m(),f.value=!1}async function y(){const D=Tr.currentUser;if(!D)return;const k=iy(ly,"users",D.uid);await fL(k,{groups:u.value},{merge:!0})}function T(){localStorage.setItem("groups_"+p(),JSON.stringify(c.value))}async function R(){const D=d().getTime(),k=p();u.value[k]||(u.value[k]=[]);const O=u.value[k];if(O.length===0)O.push({start:D,count:1});else{const L=O[O.length-1];D-L.start<60*1e3?L.count++:O.push({start:D,count:1})}c.value=O,a.value=c.value.reduce((L,E)=>L+E.count,0),u.value[k]=O,T(),await y()}return gp(),ys(()=>{_()}),(D,k)=>(lt(),gt("main",{class:"main-container",style:Qe({background:o.value})},[xt(DL),f.value?(lt(),gt("div",RL,k[0]||(k[0]=[X("div",{class:"loader"},null,-1)]))):Fe("",!0),X("div",{class:se(["counter",{animated:l.value}])},Je(a.value),3),xt(xL,{groups:c.value},null,8,["groups"]),X("button",{class:"tap-btn",onClick:R},"Чіх")],4))}},OL=Bi(ML,[["__scopeId","data-v-958a1d8f"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Hl(e){return e+.5|0}const wi=(e,t,n)=>Math.max(Math.min(e,n),t);function Aa(e){return wi(Hl(e*2.55),0,255)}function Pi(e){return wi(Hl(e*255),0,255)}function Os(e){return wi(Hl(e/2.55)/100,0,1)}function cy(e){return wi(Hl(e*100),0,100)}const An={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pd=[..."0123456789ABCDEF"],NL=e=>Pd[e&15],LL=e=>Pd[(e&240)>>4]+Pd[e&15],vc=e=>(e&240)>>4===(e&15),VL=e=>vc(e.r)&&vc(e.g)&&vc(e.b)&&vc(e.a);function $L(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&An[e[1]]*17,g:255&An[e[2]]*17,b:255&An[e[3]]*17,a:t===5?An[e[4]]*17:255}:(t===7||t===9)&&(n={r:An[e[1]]<<4|An[e[2]],g:An[e[3]]<<4|An[e[4]],b:An[e[5]]<<4|An[e[6]],a:t===9?An[e[7]]<<4|An[e[8]]:255})),n}const FL=(e,t)=>e<255?t(e):"";function BL(e){var t=VL(e)?NL:LL;return e?"#"+t(e.r)+t(e.g)+t(e.b)+FL(e.a,t):void 0}const UL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function L1(e,t,n){const s=t*Math.min(n,1-n),i=(r,o=(r+e/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function HL(e,t,n){const s=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function jL(e,t,n){const s=L1(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function zL(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}function og(e){const n=e.r/255,s=e.g/255,i=e.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=zL(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function ag(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Pi)}function lg(e,t,n){return ag(L1,e,t,n)}function WL(e,t,n){return ag(jL,e,t,n)}function YL(e,t,n){return ag(HL,e,t,n)}function V1(e){return(e%360+360)%360}function qL(e){const t=UL.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Aa(+t[5]):Pi(+t[5]));const i=V1(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=WL(i,r,o):t[1]==="hsv"?s=YL(i,r,o):s=lg(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function KL(e,t){var n=og(e);n[0]=V1(n[0]+t),n=lg(n),e.r=n[0],e.g=n[1],e.b=n[2]}function GL(e){if(!e)return;const t=og(e),n=t[0],s=cy(t[1]),i=cy(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${Os(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const uy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function XL(){const e={},t=Object.keys(hy),n=Object.keys(uy);let s,i,r,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,uy[r]);r=parseInt(hy[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let _c;function QL(e){_c||(_c=XL(),_c.transparent=[0,0,0,0]);const t=_c[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const JL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ZL(e){const t=JL.exec(e);let n=255,s,i,r;if(t){if(t[7]!==s){const o=+t[7];n=t[8]?Aa(o):wi(o*255,0,255)}return s=+t[1],i=+t[3],r=+t[5],s=255&(t[2]?Aa(s):wi(s,0,255)),i=255&(t[4]?Aa(i):wi(i,0,255)),r=255&(t[6]?Aa(r):wi(r,0,255)),{r:s,g:i,b:r,a:n}}}function tV(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Os(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Af=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Wr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function eV(e,t,n){const s=Wr(Os(e.r)),i=Wr(Os(e.g)),r=Wr(Os(e.b));return{r:Pi(Af(s+n*(Wr(Os(t.r))-s))),g:Pi(Af(i+n*(Wr(Os(t.g))-i))),b:Pi(Af(r+n*(Wr(Os(t.b))-r))),a:e.a+n*(t.a-e.a)}}function yc(e,t,n){if(e){let s=og(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=lg(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function $1(e,t){return e&&Object.assign(t||{},e)}function fy(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Pi(e[3]))):(t=$1(e,{r:0,g:0,b:0,a:1}),t.a=Pi(t.a)),t}function nV(e){return e.charAt(0)==="r"?ZL(e):qL(e)}class _l{constructor(t){if(t instanceof _l)return t;const n=typeof t;let s;n==="object"?s=fy(t):n==="string"&&(s=$L(t)||QL(t)||nV(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=$1(this._rgb);return t&&(t.a=Os(t.a)),t}set rgb(t){this._rgb=fy(t)}rgbString(){return this._valid?tV(this._rgb):void 0}hexString(){return this._valid?BL(this._rgb):void 0}hslString(){return this._valid?GL(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,i=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=eV(this._rgb,t._rgb,n)),this}clone(){return new _l(this.rgb)}alpha(t){return this._rgb.a=Pi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Hl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return yc(this._rgb,2,t),this}darken(t){return yc(this._rgb,2,-t),this}saturate(t){return yc(this._rgb,1,t),this}desaturate(t){return yc(this._rgb,1,-t),this}rotate(t){return KL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ps(){}const sV=(()=>{let e=0;return()=>e++})();function oe(e){return e==null}function xe(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Kt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Vn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Zn(e,t){return Vn(e)?e:t}function zt(e,t){return typeof e>"u"?t:e}const iV=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ue(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Jt(e,t,n,s){let i,r,o;if(xe(e))for(r=e.length,i=0;i<r;i++)t.call(n,e[i],i);else if(Kt(e))for(o=Object.keys(e),r=o.length,i=0;i<r;i++)t.call(n,e[o[i]],o[i])}function Pu(e,t){let n,s,i,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],r=t[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function ku(e){if(xe(e))return e.map(ku);if(Kt(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=ku(e[n[i]]);return t}return e}function F1(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function rV(e,t,n,s){if(!F1(e))return;const i=t[e],r=n[e];Kt(i)&&Kt(r)?yl(i,r,s):t[e]=ku(r)}function yl(e,t,n){const s=xe(t)?t:[t],i=s.length;if(!Kt(e))return e;n=n||{};const r=n.merger||rV;let o;for(let a=0;a<i;++a){if(o=s[a],!Kt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function za(e,t){return yl(e,t,{merger:oV})}function oV(e,t,n){if(!F1(e))return;const s=t[e],i=n[e];Kt(s)&&Kt(i)?za(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ku(i))}const dy={"":e=>e,x:e=>e.x,y:e=>e.y};function aV(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function lV(e){const t=aV(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Du(e,t){return(dy[t]||(dy[t]=lV(t)))(e)}function cg(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ru=e=>typeof e<"u",$i=e=>typeof e=="function",py=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function cV(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const De=Math.PI,fs=2*De,uV=fs+De,Mu=Number.POSITIVE_INFINITY,hV=De/180,Wn=De/2,Zi=De/4,gy=De*2/3,B1=Math.log10,xo=Math.sign;function Wa(e,t,n){return Math.abs(e-t)<n}function my(e){const t=Math.round(e);e=Wa(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(B1(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function fV(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((i,r)=>i-r).pop(),t}function dV(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function bl(e){return!dV(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function pV(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function gV(e,t,n){let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function cr(e){return e*(De/180)}function mV(e){return e*(180/De)}function vy(e){if(!Vn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function vV(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*De&&(r+=fs),{angle:r,distance:i}}function kd(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function _V(e,t){return(e-t+uV)%fs-De}function ci(e){return(e%fs+fs)%fs}function U1(e,t,n,s){const i=ci(e),r=ci(t),o=ci(n),a=ci(r-i),l=ci(o-i),c=ci(i-r),u=ci(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function Pn(e,t,n){return Math.max(t,Math.min(n,e))}function yV(e){return Pn(e,-32768,32767)}function Ca(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function ug(e,t,n){n=n||(o=>e[o]<t);let s=e.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const ur=(e,t,n,s)=>ug(e,n,s?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),bV=(e,t,n)=>ug(e,n,s=>e[s][t]>=n);function wV(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)s++;for(;i>s&&e[i-1]>n;)i--;return s>0||i<e.length?e.slice(s,i):e}const H1=["push","pop","shift","splice","unshift"];function TV(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),H1.forEach(n=>{const s="_onData"+cg(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function _y(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(H1.forEach(r=>{delete e[r]}),delete e._chartjs)}function EV(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const j1=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function z1(e,t){let n=[],s=!1;return function(...i){n=i,s||(s=!0,j1.call(window,()=>{s=!1,e.apply(t,n)}))}}function IV(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const hg=e=>e==="start"?"left":e==="end"?"right":"center",We=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,SV=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function AV(e,t,n){const s=t.length;let i=0,r=s;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:f,max:d,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(i=Math.min(ur(l,u,f).lo,n?s:ur(t,u,o.getPixelForValue(f)).lo),c){const _=l.slice(0,i+1).reverse().findIndex(y=>!oe(y[a.axis]));i-=Math.max(0,_)}i=Pn(i,0,s-1)}if(m){let _=Math.max(ur(l,o.axis,d,!0).hi+1,n?0:ur(t,u,o.getPixelForValue(d),!0).hi+1);if(c){const y=l.slice(_-1).findIndex(T=>!oe(T[a.axis]));_+=Math.max(0,y)}r=Pn(_,i,s)-i}else r=s-i}return{start:i,count:r}}function CV(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=i,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const bc=e=>e===0||e===1,yy=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*fs/n)),by=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*fs/n)+1,Ya={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Wn)+1,easeOutSine:e=>Math.sin(e*Wn),easeInOutSine:e=>-.5*(Math.cos(De*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>bc(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>bc(e)?e:yy(e,.075,.3),easeOutElastic:e=>bc(e)?e:by(e,.075,.3),easeInOutElastic(e){return bc(e)?e:e<.5?.5*yy(e*2,.1125,.45):.5+.5*by(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ya.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ya.easeInBounce(e*2)*.5:Ya.easeOutBounce(e*2-1)*.5+.5};function fg(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function wy(e){return fg(e)?e:new _l(e)}function Cf(e){return fg(e)?e:new _l(e).saturate(.5).darken(.1).hexString()}const xV=["x","y","borderWidth","radius","tension"],PV=["color","borderColor","backgroundColor"];function kV(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:PV},numbers:{type:"number",properties:xV}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function DV(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ty=new Map;function RV(e,t){t=t||{};const n=e+JSON.stringify(t);let s=Ty.get(n);return s||(s=new Intl.NumberFormat(e,t),Ty.set(n,s)),s}function W1(e,t,n){return RV(t,n).format(e)}const MV={values(e){return xe(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let i,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=OV(e,n)}const o=B1(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),W1(e,s,l)}};function OV(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Y1={formatters:MV};function NV(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Y1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Er=Object.create(null),Dd=Object.create(null);function qa(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];e=e[r]||(e[r]=Object.create(null))}return e}function xf(e,t,n){return typeof t=="string"?yl(qa(e,t),n):yl(qa(e,""),t)}class LV{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Cf(i.backgroundColor),this.hoverBorderColor=(s,i)=>Cf(i.borderColor),this.hoverColor=(s,i)=>Cf(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return xf(this,t,n)}get(t){return qa(this,t)}describe(t,n){return xf(Dd,t,n)}override(t,n){return xf(Er,t,n)}route(t,n,s,i){const r=qa(this,t),o=qa(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Kt(l)?Object.assign({},c,l):zt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var _e=new LV({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[kV,DV,NV]);function VV(e){return!e||oe(e.size)||oe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ey(e,t,n,s,i){let r=t[i];return r||(r=t[i]=e.measureText(i).width,n.push(i)),r>s&&(s=r),s}function tr(e,t,n){const s=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function Iy(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Rd(e,t,n,s){q1(e,t,n,s,null)}function q1(e,t,n,s,i){let r,o,a,l,c,u,f,d;const p=t.pointStyle,m=t.rotation,_=t.radius;let y=(m||0)*hV;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(y),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(_)||_<=0)){switch(e.beginPath(),p){default:i?e.ellipse(n,s,i/2,_,0,0,fs):e.arc(n,s,_,0,fs),e.closePath();break;case"triangle":u=i?i/2:_,e.moveTo(n+Math.sin(y)*u,s-Math.cos(y)*_),y+=gy,e.lineTo(n+Math.sin(y)*u,s-Math.cos(y)*_),y+=gy,e.lineTo(n+Math.sin(y)*u,s-Math.cos(y)*_),e.closePath();break;case"rectRounded":c=_*.516,l=_-c,o=Math.cos(y+Zi)*l,f=Math.cos(y+Zi)*(i?i/2-c:l),a=Math.sin(y+Zi)*l,d=Math.sin(y+Zi)*(i?i/2-c:l),e.arc(n-f,s-a,c,y-De,y-Wn),e.arc(n+d,s-o,c,y-Wn,y),e.arc(n+f,s+a,c,y,y+Wn),e.arc(n-d,s+o,c,y+Wn,y+De),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*_,u=i?i/2:l,e.rect(n-u,s-l,2*u,2*l);break}y+=Zi;case"rectRot":f=Math.cos(y)*(i?i/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,d=Math.sin(y)*(i?i/2:_),e.moveTo(n-f,s-a),e.lineTo(n+d,s-o),e.lineTo(n+f,s+a),e.lineTo(n-d,s+o),e.closePath();break;case"crossRot":y+=Zi;case"cross":f=Math.cos(y)*(i?i/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,d=Math.sin(y)*(i?i/2:_),e.moveTo(n-f,s-a),e.lineTo(n+f,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"star":f=Math.cos(y)*(i?i/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,d=Math.sin(y)*(i?i/2:_),e.moveTo(n-f,s-a),e.lineTo(n+f,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o),y+=Zi,f=Math.cos(y)*(i?i/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,d=Math.sin(y)*(i?i/2:_),e.moveTo(n-f,s-a),e.lineTo(n+f,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"line":o=i?i/2:Math.cos(y)*_,a=Math.sin(y)*_,e.moveTo(n-o,s-a),e.lineTo(n+o,s+a);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(y)*(i?i/2:_),s+Math.sin(y)*_);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function wl(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function dg(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function pg(e){e.restore()}function $V(e,t,n,s,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else i==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function FV(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function BV(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),oe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function UV(e,t,n,s,i){if(i.strikethrough||i.underline){const r=e.measureText(s),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function HV(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Tl(e,t,n,s,i,r={}){const o=xe(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,BV(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&HV(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),oe(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,s,r.maxWidth)),e.fillText(c,n,s,r.maxWidth),UV(e,n,s,c,r),s+=Number(i.lineHeight);e.restore()}function Md(e,t){const{x:n,y:s,w:i,h:r,radius:o}=t;e.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*De,De,!0),e.lineTo(n,s+r-o.bottomLeft),e.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,De,Wn,!0),e.lineTo(n+i-o.bottomRight,s+r),e.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Wn,0,!0),e.lineTo(n+i,s+o.topRight),e.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Wn,!0),e.lineTo(n+o.topLeft,s)}const jV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function WV(e,t){const n=(""+e).match(jV);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const YV=e=>+e||0;function K1(e,t){const n={},s=Kt(t),i=s?Object.keys(t):t,r=Kt(e)?s?o=>zt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=YV(r(o));return n}function qV(e){return K1(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ka(e){return K1(e,["topLeft","topRight","bottomLeft","bottomRight"])}function $n(e){const t=qV(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Xe(e,t){e=e||{},t=t||_e.font;let n=zt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=zt(e.style,t.style);s&&!(""+s).match(zV)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:zt(e.family,t.family),lineHeight:WV(zt(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:zt(e.weight,t.weight),string:""};return i.string=VV(i),i}function wc(e,t,n,s){let i,r,o;for(i=0,r=e.length;i<r;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function KV(e,t,n){const{min:s,max:i}=e,r=iV(t,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Rr(e,t){return Object.assign(Object.create(e),t)}function gg(e,t=[""],n,s,i=()=>e[0]){const r=n||e;typeof s>"u"&&(s=J1("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>gg([a,...e],t,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return X1(a,l,()=>n$(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Ay(a).includes(l)},ownKeys(a){return Ay(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Po(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:G1(e,s),setContext:r=>Po(e,r,n,s),override:r=>Po(e.override(r),t,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return X1(r,o,()=>XV(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function G1(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:$i(n)?n:()=>n,isIndexable:$i(s)?s:()=>s}}const GV=(e,t)=>e?e+cg(t):t,mg=(e,t)=>Kt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function X1(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function XV(e,t,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=e;let a=s[t];return $i(a)&&o.isScriptable(t)&&(a=QV(t,a,e,n)),xe(a)&&a.length&&(a=JV(t,a,e,o.isIndexable)),mg(t,a)&&(a=Po(a,i,r&&r[t],o)),a}function QV(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||s);return a.delete(e),mg(e,l)&&(l=vg(i._scopes,i,e,l)),l}function JV(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(e))return t[r.index%t.length];if(Kt(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const f=vg(c,i,e,u);t.push(Po(f,r,o&&o[e],a))}}return t}function Q1(e,t,n){return $i(e)?e(t,n):e}const ZV=(e,t)=>e===!0?t:typeof e=="string"?Du(t,e):void 0;function t$(e,t,n,s,i){for(const r of t){const o=ZV(n,r);if(o){e.add(o);const a=Q1(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function vg(e,t,n,s){const i=t._rootScopes,r=Q1(t._fallback,n,s),o=[...e,...i],a=new Set;a.add(s);let l=Sy(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=Sy(a,o,r,l,s),l===null)?!1:gg(Array.from(a),[""],i,r,()=>e$(t,n,s))}function Sy(e,t,n,s,i){for(;n;)n=t$(e,t,n,s,i);return n}function e$(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];return xe(i)&&Kt(n)?n:i||{}}function n$(e,t,n,s){let i;for(const r of t)if(i=J1(GV(r,e),n),typeof i<"u")return mg(e,i)?vg(n,s,e,i):i}function J1(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function Ay(e){let t=e._keys;return t||(t=e._keys=s$(e._scopes)),t}function s$(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}const i$=Number.EPSILON||1e-14,ko=(e,t)=>t<e.length&&!e[t].skip&&e[t],Z1=e=>e==="x"?"y":"x";function r$(e,t,n,s){const i=e.skip?t:e,r=t,o=n.skip?t:n,a=kd(r,i),l=kd(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=s*c,d=s*u;return{previous:{x:r.x-f*(o.x-i.x),y:r.y-f*(o.y-i.y)},next:{x:r.x+d*(o.x-i.x),y:r.y+d*(o.y-i.y)}}}function o$(e,t,n){const s=e.length;let i,r,o,a,l,c=ko(e,0);for(let u=0;u<s-1;++u)if(l=c,c=ko(e,u+1),!(!l||!c)){if(Wa(t[u],0,i$)){n[u]=n[u+1]=0;continue}i=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*t[u],n[u+1]=r*o*t[u])}}function a$(e,t,n="x"){const s=Z1(n),i=e.length;let r,o,a,l=ko(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=ko(e,c+1),!a)continue;const u=a[n],f=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=f-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=f+r*t[c])}}function l$(e,t="x"){const n=Z1(t),s=e.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=ko(e,0);for(o=0;o<s;++o)if(a=l,l=c,c=ko(e,o+1),!!l){if(c){const u=c[t]-l[t];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?xo(i[o-1])!==xo(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}o$(e,i,r),a$(e,r,t)}function Tc(e,t,n){return Math.max(Math.min(e,n),t)}function c$(e,t){let n,s,i,r,o,a=wl(e[0],t);for(n=0,s=e.length;n<s;++n)o=r,r=a,a=n<s-1&&wl(e[n+1],t),r&&(i=e[n],o&&(i.cp1x=Tc(i.cp1x,t.left,t.right),i.cp1y=Tc(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Tc(i.cp2x,t.left,t.right),i.cp2y=Tc(i.cp2y,t.top,t.bottom)))}function u$(e,t,n,s,i){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")l$(e,i);else{let c=s?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=r$(c,a,e[Math.min(r+1,o-(s?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&c$(e,n)}function _g(){return typeof window<"u"&&typeof document<"u"}function yg(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ou(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Ph=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function h$(e,t){return Ph(e).getPropertyValue(t)}const f$=["top","right","bottom","left"];function pr(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=f$[i];s[r]=parseFloat(e[t+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const d$=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function p$(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(d$(i,r,e.target))a=i,l=r;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ir(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=Ph(n),r=i.boxSizing==="border-box",o=pr(i,"padding"),a=pr(i,"border","width"),{x:l,y:c,box:u}=p$(e,n),f=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:p,height:m}=t;return r&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-f)/p*n.width/s),y:Math.round((c-d)/m*n.height/s)}}function g$(e,t,n){let s,i;if(t===void 0||n===void 0){const r=e&&yg(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=Ph(r),l=pr(a,"border","width"),c=pr(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,s=Ou(a.maxWidth,r,"clientWidth"),i=Ou(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:s||Mu,maxHeight:i||Mu}}const Ec=e=>Math.round(e*10)/10;function m$(e,t,n,s){const i=Ph(e),r=pr(i,"margin"),o=Ou(i.maxWidth,e,"clientWidth")||Mu,a=Ou(i.maxHeight,e,"clientHeight")||Mu,l=g$(e,t,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=pr(i,"border","width"),p=pr(i,"padding");c-=p.width+d.width,u-=p.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=Ec(Math.min(c,o,l.maxWidth)),u=Ec(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ec(c/2)),(t!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=Ec(Math.floor(u*s))),{width:c,height:u}}function Cy(e,t,n){const s=t||1,i=Math.floor(e.height*s),r=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(e.currentDevicePixelRatio=s,o.height=i,o.width=r,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const v$=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};_g()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function xy(e,t){const n=h$(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function rr(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function _$(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function y$(e,t,n,s){const i={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=rr(e,i,n),a=rr(i,r,n),l=rr(r,t,n),c=rr(o,a,n),u=rr(a,l,n);return rr(c,u,n)}const b$=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},w$=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function po(e,t,n){return e?b$(t,n):w$()}function tI(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function eI(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function nI(e){return e==="angle"?{between:U1,compare:_V,normalize:ci}:{between:Ca,compare:(t,n)=>t-n,normalize:t=>t}}function Py({start:e,end:t,count:n,loop:s,style:i}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:i}}function T$(e,t,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=nI(s),l=t.length;let{start:c,end:u,loop:f}=e,d,p;if(f){for(c+=l,u+=l,d=0,p=l;d<p&&o(a(t[c%l][s]),i,r);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:e.style}}function E$(e,t,n){if(!n)return[e];const{property:s,start:i,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=nI(s),{start:u,end:f,loop:d,style:p}=T$(e,t,n),m=[];let _=!1,y=null,T,R,D;const k=()=>l(i,D,T)&&a(i,D)!==0,O=()=>a(r,T)===0||l(r,D,T),L=()=>_||k(),E=()=>!_||O();for(let b=u,w=u;b<=f;++b)R=t[b%o],!R.skip&&(T=c(R[s]),T!==D&&(_=l(T,i,r),y===null&&L()&&(y=a(T,i)===0?b:w),y!==null&&E()&&(m.push(Py({start:y,end:b,loop:d,count:o,style:p})),y=null),w=b,D=T));return y!==null&&m.push(Py({start:y,end:f,loop:d,count:o,style:p})),m}function I$(e,t){const n=[],s=e.segments;for(let i=0;i<s.length;i++){const r=E$(s[i],e.points,t);r.length&&n.push(...r)}return n}function S$(e,t,n,s){let i=0,r=t-1;if(n&&!s)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(r+=i);r>i&&e[r%t].skip;)r--;return r%=t,{start:i,end:r}}function A$(e,t,n,s){const i=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:t%i,end:(l-1)%i,loop:s}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%i,end:o%i,loop:s}),r}function C$(e,t){const n=e.points,s=e.options.spanGaps,i=n.length;if(!i)return[];const r=!!e._loop,{start:o,end:a}=S$(n,i,r,s);if(s===!0)return ky(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return ky(e,A$(n,o,l,c),n,t)}function ky(e,t,n,s){return!s||!s.setContext||!n?t:x$(e,t,n,s)}function x$(e,t,n,s){const i=e._chart.getContext(),r=Dy(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,f=t[0].start,d=f;function p(m,_,y,T){const R=a?-1:1;if(m!==_){for(m+=l;n[m%l].skip;)m-=R;for(;n[_%l].skip;)_+=R;m%l!==_%l&&(c.push({start:m%l,end:_%l,loop:y,style:T}),u=T,f=_%l)}}for(const m of t){f=a?f:m.start;let _=n[f%l],y;for(d=f+1;d<=m.end;d++){const T=n[d%l];y=Dy(s.setContext(Rr(i,{type:"segment",p0:_,p1:T,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),P$(y,u)&&p(f,d-1,m.loop,u),_=T,u=y}f<d-1&&p(f,d-1,m.loop,u)}return c}function Dy(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function P$(e,t){if(!t)return!1;const n=[],s=function(i,r){return fg(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function Ic(e,t,n){return e.options.clip?e[n]:t[n]}function k$(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Ic(n,t,"left"),right:Ic(n,t,"right"),top:Ic(s,t,"top"),bottom:Ic(s,t,"bottom")}:t}function D$(e,t){const n=t._clip;if(n.disabled)return!1;const s=k$(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class R${constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=j1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),r.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ks=new R$;const Ry="transparent",M$={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=wy(e||Ry),i=s.valid&&wy(t||Ry);return i&&i.valid?i.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class O${constructor(t,n,s,i){const r=n[s];i=wc([t.to,i,r,t.from]);const o=wc([t.from,r,i]);this._active=!0,this._fn=t.fn||M$[t.type||typeof o],this._easing=Ya[t.easing]||Ya.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=wc([t.to,n,i,t.from]),this._from=wc([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class sI{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Kt(t))return;const n=Object.keys(_e.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Kt(r))return;const o={};for(const a of n)o[a]=r[a];(xe(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,n){const s=n.options,i=L$(t,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&N$(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,n){const s=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const u=n[c];let f=r[c];const d=s.get(c);if(f)if(d&&f.active()){f.update(d,u,a);continue}else f.cancel();if(!d||!d.duration){t[c]=u;continue}r[c]=f=new O$(d,t,c,u),i.push(f)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return ks.add(this._chart,s),!0}}function N$(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const r=e[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function L$(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function My(e,t){const n=e&&e.options||{},s=n.reverse,i=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:s?r:i,end:s?i:r}}function V$(e,t,n){if(n===!1)return!1;const s=My(e,n),i=My(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function $$(e){let t,n,s,i;return Kt(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:e===!1}}function iI(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function Oy(e,t,n,s={}){const i=e.keys,r=s.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=e.values[l],Vn(c)&&(r||t===0||xo(t)===xo(c))&&(t+=c)}return!u&&!s.all?0:t}function F$(e,t){const{iScale:n,vScale:s}=t,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:e[u]};return a}function Pf(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function B$(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function U$(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function H$(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function Ny(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const r=e[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function Ly(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=B$(r,o,s),f=t.length;let d;for(let p=0;p<f;++p){const m=t[p],{[l]:_,[c]:y}=m,T=m._stacks||(m._stacks={});d=T[c]=H$(i,u,_),d[a]=y,d._top=Ny(d,o,!0,s.type),d._bottom=Ny(d,o,!1,s.type);const R=d._visualValues||(d._visualValues={});R[a]=y}}function kf(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function j$(e,t){return Rr(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function z$(e,t,n){return Rr(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function fa(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const i of t){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const Df=e=>e==="reset"||e==="none",Vy=(e,t)=>t?e:Object.assign({},e),W$=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:iI(n,!0),values:null};class rI{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Pf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&fa(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(f,d,p,m)=>f==="x"?d:f==="r"?m:p,r=n.xAxisID=zt(s.xAxisID,kf(t,"x")),o=n.yAxisID=zt(s.yAxisID,kf(t,"y")),a=n.rAxisID=zt(s.rAxisID,kf(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&_y(this._data,this),t._stacked&&fa(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(Kt(n)){const i=this._cachedMeta;this._data=F$(n,i)}else if(s!==n){if(s){_y(s,this);const i=this._cachedMeta;fa(i),i._parsed=[]}n&&Object.isExtensible(n)&&TV(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=Pf(n.vScale,n),n.stack!==s.stack&&(i=!0,fa(n),n.stack=s.stack),this._resyncElements(t),(i||r!==n._stacked)&&(Ly(this,n._parsed),n._stacked=Pf(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=t===0&&n===i.length?!0:s._sorted,c=t>0&&s._parsed[t-1],u,f,d;if(this._parsing===!1)s._parsed=i,s._sorted=!0,d=i;else{xe(i[t])?d=this.parseArrayData(s,i,t,n):Kt(i[t])?d=this.parseObjectData(s,i,t,n):d=this.parsePrimitiveData(s,i,t,n);const p=()=>f[a]===null||c&&f[a]<c[a];for(u=0;u<n;++u)s._parsed[u+t]=f=d[u],l&&(p()&&(l=!1),c=f);s._sorted=l}o&&Ly(this,d)}parsePrimitiveData(t,n,s,i){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,f=new Array(i);let d,p,m;for(d=0,p=i;d<p;++d)m=d+s,f[d]={[a]:u||r.parse(c[m],m),[l]:o.parse(n[m],m)};return f}parseArrayData(t,n,s,i){const{xScale:r,yScale:o}=t,a=new Array(i);let l,c,u,f;for(l=0,c=i;l<c;++l)u=l+s,f=n[u],a[l]={x:r.parse(f[0],u),y:o.parse(f[1],u)};return a}parseObjectData(t,n,s,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,f,d,p;for(u=0,f=i;u<f;++u)d=u+s,p=n[d],c[u]={x:r.parse(Du(p,a),d),y:o.parse(Du(p,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const i=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:iI(i,!0),values:n._stacks[t.axis]._visualValues};return Oy(a,o,r.index,{mode:s})}updateRangeFromParsed(t,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=Oy(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&t===s.iScale,o=i.length,a=this._getOtherScale(t),l=W$(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=U$(a);let d,p;function m(){p=i[d];const _=p[a.axis];return!Vn(p[t.axis])||u>_||f<_}for(d=0;d<o&&!(!m()&&(this.updateRangeFromParsed(c,t,p,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][t.axis],Vn(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=$$(zt(this.options.clip,V$(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const f=i[u];f.hidden||(f.active&&c?o.push(f):f.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=z$(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=j$(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&Ru(s);if(a)return Vy(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),f=i?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),p=Object.keys(_e.elements[t]),m=()=>this.getContext(s,i,n),_=c.resolveNamedOptions(d,p,m,f);return _.$shared&&(_.$shared=l,r[o]=Object.freeze(Vy(_,l))),_}_resolveAnimations(t,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(d,this.getContext(t,s,n))}const c=new sI(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Df(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(t,n,s,i){Df(i)?Object.assign(t,s):this._resolveAnimations(n,i).update(t,s)}updateSharedOptions(t,n,s){t&&!Df(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,i){t.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,n,s=!0){const i=this._cachedMeta,r=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),s&&this.updateElements(r,t,n,"reset")}updateElements(t,n,s,i){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,n);s._stacked&&fa(s,i)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,i]=t;this[n](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Y$ extends rI{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=AV(n,i,o);this._drawStart=a,this._drawCount=l,CV(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,i),d=o.axis,p=a.axis,{spanGaps:m,segment:_}=this.options,y=bl(m)?m:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||r||i==="none",R=n+s,D=t.length;let k=n>0&&this.getParsed(n-1);for(let O=0;O<D;++O){const L=t[O],E=T?L:{};if(O<n||O>=R){E.skip=!0;continue}const b=this.getParsed(O),w=oe(b[p]),A=E[d]=o.getPixelForValue(b[d],O),x=E[p]=r||w?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,b,l):b[p],O);E.skip=isNaN(A)||isNaN(x)||w,E.stop=O>0&&Math.abs(b[d]-k[d])>y,_&&(E.parsed=b,E.raw=c.data[O]),f&&(E.options=u||this.resolveDataElementOptions(O,L.active?"active":i)),T||this.updateElement(L,O,E,i),k=b}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function er(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class bg{static override(t){Object.assign(bg.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return er()}parse(){return er()}format(){return er()}add(){return er()}diff(){return er()}startOf(){return er()}endOf(){return er()}}var q$={_date:bg};function K$(e,t,n,s){const{controller:i,data:r,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?bV:ur;if(s){if(i._sharedOptions){const u=r[0],f=typeof u.getRange=="function"&&u.getRange(t);if(f){const d=c(r,t,n-f),p=c(r,t,n+f);return{lo:d.lo,hi:p.hi}}}}else{const u=c(r,t,n);if(l){const{vScale:f}=i._cachedMeta,{_parsed:d}=e,p=d.slice(0,u.lo+1).reverse().findIndex(_=>!oe(_[f.axis]));u.lo-=Math.max(0,p);const m=d.slice(u.hi).findIndex(_=>!oe(_[f.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:r.length-1}}function kh(e,t,n,s,i){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:f,hi:d}=K$(r[a],t,o,i);for(let p=f;p<=d;++p){const m=u[p];m.skip||s(m,c,p)}}}function G$(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,i){const r=t?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Rf(e,t,n,s,i){const r=[];return!i&&!e.isPointInArea(t)||kh(e,n,t,function(a,l,c){!i&&!wl(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function X$(e,t,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:f}=vV(o,{x:t.x,y:t.y});U1(f,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return kh(e,n,t,r),i}function Q$(e,t,n,s,i,r){let o=[];const a=G$(n);let l=Number.POSITIVE_INFINITY;function c(u,f,d){const p=u.inRange(t.x,t.y,i);if(s&&!p)return;const m=u.getCenterPoint(i);if(!(!!r||e.isPointInArea(m))&&!p)return;const y=a(t,m);y<l?(o=[{element:u,datasetIndex:f,index:d}],l=y):y===l&&o.push({element:u,datasetIndex:f,index:d})}return kh(e,n,t,c),o}function Mf(e,t,n,s,i,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!s?X$(e,t,n,i):Q$(e,t,n,s,i,r)}function $y(e,t,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return kh(e,n,t,(l,c,u)=>{l[o]&&l[o](t[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),s&&!a?[]:r}var J$={modes:{index(e,t,n,s){const i=ir(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Rf(e,i,r,s,o):Mf(e,i,r,!1,s,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,s){const i=ir(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Rf(e,i,r,s,o):Mf(e,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,s){const i=ir(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Rf(e,i,r,s,o)},nearest(e,t,n,s){const i=ir(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Mf(e,i,r,n.intersect,s,o)},x(e,t,n,s){const i=ir(t,e);return $y(e,i,"x",n.intersect,s)},y(e,t,n,s){const i=ir(t,e);return $y(e,i,"y",n.intersect,s)}}};const oI=["left","top","right","bottom"];function da(e,t){return e.filter(n=>n.pos===t)}function Fy(e,t){return e.filter(n=>oI.indexOf(n.pos)===-1&&n.box.axis===t)}function pa(e,t){return e.sort((n,s)=>{const i=t?s:n,r=t?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function Z$(e){const t=[];let n,s,i,r,o,a;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return t}function tF(e){const t={};for(const n of e){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!oI.includes(i))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function eF(e,t){const n=tF(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&t.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&t.availableHeight)}return n}function nF(e){const t=Z$(e),n=pa(t.filter(c=>c.box.fullSize),!0),s=pa(da(t,"left"),!0),i=pa(da(t,"right")),r=pa(da(t,"top"),!0),o=pa(da(t,"bottom")),a=Fy(t,"x"),l=Fy(t,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:da(t,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function By(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function aI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function sF(e,t,n,s){const{pos:i,box:r}=n,o=e.maxPadding;if(!Kt(i)){n.size&&(e[i]-=n.size);const f=s[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?r.height:r.width),n.size=f.size/f.count,e[i]+=n.size}r.getPadding&&aI(o,r.getPadding());const a=Math.max(0,t.outerWidth-By(o,e,"left","right")),l=Math.max(0,t.outerHeight-By(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function iF(e){const t=e.maxPadding;function n(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function rF(e,t){const n=t.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return s(e?["left","right"]:["top","bottom"])}function xa(e,t,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,rF(a.horizontal,t));const{same:f,other:d}=sF(t,n,a,s);c|=f&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&xa(i,t,n,s)||u}function Sc(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function Uy(e,t,n,s){const i=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const f=t.w*u,d=c.size||l.height;Ru(c.start)&&(o=c.start),l.fullSize?Sc(l,i.left,o,n.outerWidth-i.right-i.left,d):Sc(l,t.left+c.placed,o,f,d),c.start=o,c.placed+=f,o=l.bottom}else{const f=t.h*u,d=c.size||l.width;Ru(c.start)&&(r=c.start),l.fullSize?Sc(l,r,i.top,d,n.outerHeight-i.bottom-i.top):Sc(l,r,t.top+c.placed,d,f),c.start=r,c.placed+=f,r=l.right}}t.x=r,t.y=o}var kn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=$n(e.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=nF(e.boxes),l=a.vertical,c=a.horizontal;Jt(e.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const u=l.reduce((_,y)=>y.box.options&&y.box.options.display===!1?_:_+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);aI(d,$n(s));const p=Object.assign({maxPadding:d,w:r,h:o,x:i.left,y:i.top},i),m=eF(l.concat(c),f);xa(a.fullSize,p,f,m),xa(l,p,f,m),xa(c,p,f,m)&&xa(l,p,f,m),iF(p),Uy(a.leftAndTop,p,f,m),p.x+=p.w,p.y+=p.h,Uy(a.rightAndBottom,p,f,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Jt(a.chartArea,_=>{const y=_.box;Object.assign(y,e.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class lI{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,i){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(t){return!0}updateConfig(t){}}class oF extends lI{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Kc="$chartjs",aF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Hy=e=>e===null||e==="";function lF(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[Kc]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Hy(i)){const r=xy(e,"width");r!==void 0&&(e.width=r)}if(Hy(s))if(e.style.height==="")e.height=e.width/(t||2);else{const r=xy(e,"height");r!==void 0&&(e.height=r)}return e}const cI=v$?{passive:!0}:!1;function cF(e,t,n){e&&e.addEventListener(t,n,cI)}function uF(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,cI)}function hF(e,t){const n=aF[e.type]||e.type,{x:s,y:i}=ir(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Nu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function fF(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Nu(a.addedNodes,s),o=o&&!Nu(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function dF(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Nu(a.removedNodes,s),o=o&&!Nu(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const El=new Map;let jy=0;function uI(){const e=window.devicePixelRatio;e!==jy&&(jy=e,El.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function pF(e,t){El.size||window.addEventListener("resize",uI),El.set(e,t)}function gF(e){El.delete(e),El.size||window.removeEventListener("resize",uI)}function mF(e,t,n){const s=e.canvas,i=s&&yg(s);if(!i)return;const r=z1((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),pF(e,r),o}function Of(e,t,n){n&&n.disconnect(),t==="resize"&&gF(e)}function vF(e,t,n){const s=e.canvas,i=z1(r=>{e.ctx!==null&&n(hF(r,e))},e);return cF(s,t,i),i}class _F extends lI{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(lF(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Kc])return!1;const s=n[Kc].initial;["height","width"].forEach(r=>{const o=s[r];oe(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Kc],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:fF,detach:dF,resize:mF}[n]||vF;i[n]=o(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),i=s[n];if(!i)return;({attach:Of,detach:Of,resize:Of}[n]||uF)(t,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,i){return m$(t,n,s,i)}isAttached(t){const n=t&&yg(t);return!!(n&&n.isConnected)}}function yF(e){return!_g()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?oF:_F}let Mr=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return bl(this.x)&&bl(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const i={};return t.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function bF(e,t){const n=e.options.ticks,s=wF(e),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?EF(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return IF(t,c,r,o/i),c;const u=TF(r,t,i);if(o>0){let f,d;const p=o>1?Math.round((l-a)/(o-1)):null;for(Ac(t,c,u,oe(p)?0:a-p,a),f=0,d=o-1;f<d;f++)Ac(t,c,u,r[f],r[f+1]);return Ac(t,c,u,l,oe(p)?t.length:l+p),c}return Ac(t,c,u),c}function wF(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}function TF(e,t,n){const s=SF(e),i=t.length/n;if(!s)return Math.max(i,1);const r=fV(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function EF(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function IF(e,t,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===r&&(t.push(e[o]),i++,r=n[i*s])}function Ac(e,t,n,s,i){const r=zt(s,0),o=Math.min(zt(i,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function SF(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const AF=e=>e==="left"?"right":e==="right"?"left":e,zy=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Wy=(e,t)=>Math.min(t||e,e);function Yy(e,t){const n=[],s=e.length/t,i=e.length;let r=0;for(;r<i;r+=s)n.push(e[Math.floor(r)]);return n}function CF(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<r-a||l>o+a)))return l}function xF(e,t){Jt(e,n=>{const s=n.gc,i=s.length/2;let r;if(i>t){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function ga(e){return e.drawTicks?e.tickLength:0}function qy(e,t){if(!e.display)return 0;const n=Xe(e.font,t),s=$n(e.padding);return(xe(e.text)?e.text.length:1)*n.lineHeight+s.height}function PF(e,t){return Rr(e,{scale:t,type:"scale"})}function kF(e,t,n){return Rr(e,{tick:n,index:t,type:"tick"})}function DF(e,t,n){let s=hg(e);return(n&&t!=="right"||!n&&t==="right")&&(s=AF(s)),s}function RF(e,t,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let f=0,d,p,m;const _=o-i,y=a-r;if(e.isHorizontal()){if(p=We(s,r,a),Kt(n)){const T=Object.keys(n)[0],R=n[T];m=u[T].getPixelForValue(R)+_-t}else n==="center"?m=(c.bottom+c.top)/2+_-t:m=zy(e,n,t);d=a-r}else{if(Kt(n)){const T=Object.keys(n)[0],R=n[T];p=u[T].getPixelForValue(R)-y+t}else n==="center"?p=(c.left+c.right)/2-y+t:p=zy(e,n,t);m=We(s,o,i),f=n==="left"?-Wn:Wn}return{titleX:p,titleY:m,maxWidth:d,rotation:f}}class Wo extends Mr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return t=Zn(t,Number.POSITIVE_INFINITY),n=Zn(n,Number.NEGATIVE_INFINITY),s=Zn(s,Number.POSITIVE_INFINITY),i=Zn(i,Number.NEGATIVE_INFINITY),{min:Zn(t,s),max:Zn(n,i),minDefined:Vn(t),maxDefined:Vn(n)}}getMinMax(t){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Zn(n,Zn(s,n)),max:Zn(s,Zn(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ue(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=KV(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Yy(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=bF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ue(this.options.afterUpdate,[this])}beforeSetDimensions(){ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ue(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ue(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s],r.label=ue(n.callback,[r.value,s,t],this)}afterTickToLabelConversion(){ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=Wy(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),f=u.widest.width,d=u.highest.height,p=Pn(this.chart.width-f,0,this.maxWidth);a=t.offset?this.maxWidth/s:p/(s-1),f+6>a&&(a=p/(s-(t.offset?.5:1)),l=this.maxHeight-ga(t.grid)-n.padding-qy(t.title,this.chart.options.font),c=Math.sqrt(f*f+d*d),o=mV(Math.min(Math.asin(Pn((u.highest.height+6)/a,-1,1)),Math.asin(Pn(l/c,-1,1))-Math.asin(Pn(d/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ue(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=qy(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=ga(r)+l):(t.height=this.maxHeight,t.width=ga(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:d}=this._getLabelSizes(),p=s.padding*2,m=cr(this.labelRotation),_=Math.cos(m),y=Math.sin(m);if(a){const T=s.mirror?0:y*f.width+_*d.height;t.height=Math.min(this.maxHeight,t.height+T+p)}else{const T=s.mirror?0:_*f.width+y*d.height;t.width=Math.min(this.maxWidth,t.width+T+p)}this._calculatePadding(c,u,y,_)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,p=0;l?c?(d=i*t.width,p=s*n.height):(d=s*t.height,p=i*n.width):r==="start"?p=n.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,p=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let u=n.height/2,f=t.height/2;r==="start"?(u=0,f=t.height):r==="end"&&(u=n.height,f=0),this.paddingTop=u+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ue(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)oe(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Yy(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Wy(n,s));let c=0,u=0,f,d,p,m,_,y,T,R,D,k,O;for(f=0;f<n;f+=l){if(m=t[f].label,_=this._resolveTickFontOptions(f),i.font=y=_.string,T=r[y]=r[y]||{data:{},gc:[]},R=_.lineHeight,D=k=0,!oe(m)&&!xe(m))D=Ey(i,T.data,T.gc,D,m),k=R;else if(xe(m))for(d=0,p=m.length;d<p;++d)O=m[d],!oe(O)&&!xe(O)&&(D=Ey(i,T.data,T.gc,D,O),k+=R);o.push(D),a.push(k),c=Math.max(D,c),u=Math.max(k,u)}xF(r,n);const L=o.indexOf(c),E=a.indexOf(u),b=w=>({width:o[w]||0,height:a[w]||0});return{first:b(0),last:b(n-1),widest:b(L),highest:b(E),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return yV(this._alignToPixels?tr(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=kF(this.getContext(),t,s))}return this.$context||(this.$context=PF(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=cr(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),d=ga(r),p=[],m=a.setContext(this.getContext()),_=m.display?m.width:0,y=_/2,T=function(at){return tr(s,at,_)};let R,D,k,O,L,E,b,w,A,x,C,S;if(o==="top")R=T(this.bottom),E=this.bottom-d,w=R-y,x=T(t.top)+y,S=t.bottom;else if(o==="bottom")R=T(this.top),x=t.top,S=T(t.bottom)-y,E=R+y,w=this.top+d;else if(o==="left")R=T(this.right),L=this.right-d,b=R-y,A=T(t.left)+y,C=t.right;else if(o==="right")R=T(this.left),A=t.left,C=T(t.right)-y,L=R+y,b=this.left+d;else if(n==="x"){if(o==="center")R=T((t.top+t.bottom)/2+.5);else if(Kt(o)){const at=Object.keys(o)[0],ot=o[at];R=T(this.chart.scales[at].getPixelForValue(ot))}x=t.top,S=t.bottom,E=R+y,w=E+d}else if(n==="y"){if(o==="center")R=T((t.left+t.right)/2);else if(Kt(o)){const at=Object.keys(o)[0],ot=o[at];R=T(this.chart.scales[at].getPixelForValue(ot))}L=R-y,b=L-d,A=t.left,C=t.right}const dt=zt(i.ticks.maxTicksLimit,f),Q=Math.max(1,Math.ceil(f/dt));for(D=0;D<f;D+=Q){const at=this.getContext(D),ot=r.setContext(at),mt=a.setContext(at),Nt=ot.lineWidth,z=ot.color,At=mt.dash||[],et=mt.dashOffset,Pt=ot.tickWidth,Rt=ot.tickColor,Wt=ot.tickBorderDash||[],Ut=ot.tickBorderDashOffset;k=CF(this,D,l),k!==void 0&&(O=tr(s,k,Nt),c?L=b=A=C=O:E=w=x=S=O,p.push({tx1:L,ty1:E,tx2:b,ty2:w,x1:A,y1:x,x2:C,y2:S,width:Nt,color:z,borderDash:At,borderDashOffset:et,tickWidth:Pt,tickColor:Rt,tickBorderDash:Wt,tickBorderDashOffset:Ut}))}return this._ticksLength=f,this._borderValue=R,p}_computeLabelItems(t){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=r,d=ga(s.grid),p=d+u,m=f?-u:p,_=-cr(this.labelRotation),y=[];let T,R,D,k,O,L,E,b,w,A,x,C,S="middle";if(i==="top")L=this.bottom-m,E=this._getXAxisLabelAlignment();else if(i==="bottom")L=this.top+m,E=this._getXAxisLabelAlignment();else if(i==="left"){const Q=this._getYAxisLabelAlignment(d);E=Q.textAlign,O=Q.x}else if(i==="right"){const Q=this._getYAxisLabelAlignment(d);E=Q.textAlign,O=Q.x}else if(n==="x"){if(i==="center")L=(t.top+t.bottom)/2+p;else if(Kt(i)){const Q=Object.keys(i)[0],at=i[Q];L=this.chart.scales[Q].getPixelForValue(at)+p}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")O=(t.left+t.right)/2-p;else if(Kt(i)){const Q=Object.keys(i)[0],at=i[Q];O=this.chart.scales[Q].getPixelForValue(at)}E=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?S="top":l==="end"&&(S="bottom"));const dt=this._getLabelSizes();for(T=0,R=a.length;T<R;++T){D=a[T],k=D.label;const Q=r.setContext(this.getContext(T));b=this.getPixelForTick(T)+r.labelOffset,w=this._resolveTickFontOptions(T),A=w.lineHeight,x=xe(k)?k.length:1;const at=x/2,ot=Q.color,mt=Q.textStrokeColor,Nt=Q.textStrokeWidth;let z=E;o?(O=b,E==="inner"&&(T===R-1?z=this.options.reverse?"left":"right":T===0?z=this.options.reverse?"right":"left":z="center"),i==="top"?c==="near"||_!==0?C=-x*A+A/2:c==="center"?C=-dt.highest.height/2-at*A+A:C=-dt.highest.height+A/2:c==="near"||_!==0?C=A/2:c==="center"?C=dt.highest.height/2-at*A:C=dt.highest.height-x*A,f&&(C*=-1),_!==0&&!Q.showLabelBackdrop&&(O+=A/2*Math.sin(_))):(L=b,C=(1-x)*A/2);let At;if(Q.showLabelBackdrop){const et=$n(Q.backdropPadding),Pt=dt.heights[T],Rt=dt.widths[T];let Wt=C-et.top,Ut=0-et.left;switch(S){case"middle":Wt-=Pt/2;break;case"bottom":Wt-=Pt;break}switch(E){case"center":Ut-=Rt/2;break;case"right":Ut-=Rt;break;case"inner":T===R-1?Ut-=Rt:T>0&&(Ut-=Rt/2);break}At={left:Ut,top:Wt,width:Rt+et.width,height:Pt+et.height,color:Q.backdropColor}}y.push({label:k,font:w,textOffset:C,options:{rotation:_,color:ot,strokeColor:mt,strokeWidth:Nt,textAlign:z,textBaseline:S,translation:[O,L],backdrop:At}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-cr(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,i,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,f,d;this.isHorizontal()?(c=tr(t,this.left,o)-o/2,u=tr(t,this.right,a)+a/2,f=d=l):(f=tr(t,this.top,o)-o/2,d=tr(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,f),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&dg(s,i);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Tl(s,c,0,u,l,a)}i&&pg(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=Xe(s.font),o=$n(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||Kt(n)?(l+=o.bottom,xe(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:f,rotation:d}=RF(this,l,n,a);Tl(t,s.text,0,0,r,{color:s.color,maxWidth:f,rotation:d,textAlign:DF(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=zt(t.grid&&t.grid.z,-1),i=zt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Wo.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Xe(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Cc{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;NF(n)&&(s=this.register(n));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,MF(t,o,s),this.override&&_e.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,i=this.scope;s in n&&delete n[s],i&&s in _e[i]&&(delete _e[i][s],this.override&&delete Er[s])}}function MF(e,t,n){const s=yl(Object.create(null),[n?_e.get(n):{},_e.get(t),e.defaults]);_e.set(t,s),e.defaultRoutes&&OF(t,e.defaultRoutes),e.descriptors&&_e.describe(t,e.descriptors)}function OF(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),i=s.pop(),r=[e].concat(s).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");_e.route(r,i,l,a)})}function NF(e){return"id"in e&&"defaults"in e}class LF{constructor(){this.controllers=new Cc(rI,"datasets",!0),this.elements=new Cc(Mr,"elements"),this.plugins=new Cc(Object,"plugins"),this.scales=new Cc(Wo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):Jt(i,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,s){const i=cg(t);ue(s["before"+i],[],s),n[t](s),ue(s["after"+i],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var ns=new LF;class VF{constructor(){this._init=[]}notify(t,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,n,s);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,s,i){i=i||{};for(const r of t){const o=r.plugin,a=o[s],l=[n,i,r.options];if(ue(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,i=zt(s.options&&s.options.plugins,{}),r=$F(s);return i===!1&&!n?[]:BF(t,r,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),t,"stop"),this._notify(i(s,n),t,"start")}}function $F(e){const t={},n=[],s=Object.keys(ns.plugins.items);for(let r=0;r<s.length;r++)n.push(ns.getPlugin(s[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function FF(e,t){return!t&&e===!1?null:e===!0?{}:e}function BF(e,{plugins:t,localIds:n},s,i){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=FF(s[l],i);c!==null&&r.push({plugin:a,options:UF(e.config,{plugin:a,local:n[l]},c,o)})}return r}function UF(e,{plugin:t,local:n},s,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(s,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Od(e,t){const n=_e.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function HF(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function jF(e,t){return e===t?"_index_":"_value_"}function Ky(e){if(e==="x"||e==="y"||e==="r")return e}function zF(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Nd(e,...t){if(Ky(e))return e;for(const n of t){const s=n.axis||zF(n.position)||e.length>1&&Ky(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Gy(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function WF(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return Gy(e,"x",n[0])||Gy(e,"y",n[0])}return{}}function YF(e,t){const n=Er[e.type]||{scales:{}},s=t.scales||{},i=Od(e.type,t),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!Kt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Nd(o,a,WF(o,e),_e.scales[a.type]),c=jF(l,i),u=n.scales||{};r[o]=za(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Od(a,t),u=(Er[a]||{}).scales||{};Object.keys(u).forEach(f=>{const d=HF(f,l),p=o[d+"AxisID"]||d;r[p]=r[p]||Object.create(null),za(r[p],[{axis:d},s[p],u[f]])})}),Object.keys(r).forEach(o=>{const a=r[o];za(a,[_e.scales[a.type],_e.scale])}),r}function hI(e){const t=e.options||(e.options={});t.plugins=zt(t.plugins,{}),t.scales=YF(e,t)}function fI(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function qF(e){return e=e||{},e.data=fI(e.data),hI(e),e}const Xy=new Map,dI=new Set;function xc(e,t){let n=Xy.get(e);return n||(n=t(),Xy.set(e,n),dI.add(n)),n}const ma=(e,t,n)=>{const s=Du(t,n);s!==void 0&&e.add(s)};class KF{constructor(t){this._config=qF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=fI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),hI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return xc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return xc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return xc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return xc(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let i=s.get(t);return(!i||n)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,n,s){const{options:i,type:r}=this,o=this._cachedScopes(t,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(f=>ma(l,t,f))),u.forEach(f=>ma(l,i,f)),u.forEach(f=>ma(l,Er[r]||{},f)),u.forEach(f=>ma(l,_e,f)),u.forEach(f=>ma(l,Dd,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),dI.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Er[n]||{},_e.datasets[n]||{},{type:n},_e,Dd]}resolveNamedOptions(t,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Qy(this._resolverCache,t,i);let l=o;if(XF(o,n)){r.$shared=!1,s=$i(s)?s():s;const c=this.createResolver(t,s,a);l=Po(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,s=[""],i){const{resolver:r}=Qy(this._resolverCache,t,s);return Kt(n)?Po(r,n,void 0,i):r}}function Qy(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let r=s.get(i);return r||(r={resolver:gg(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const GF=e=>Kt(e)&&Object.getOwnPropertyNames(e).some(t=>$i(e[t]));function XF(e,t){const{isScriptable:n,isIndexable:s}=G1(e);for(const i of t){const r=n(i),o=s(i),a=(o||r)&&e[i];if(r&&($i(a)||GF(a))||o&&xe(a))return!0}return!1}var QF="4.5.0";const JF=["top","bottom","left","right","chartArea"];function Jy(e,t){return e==="top"||e==="bottom"||JF.indexOf(e)===-1&&t==="x"}function Zy(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function tb(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),ue(n&&n.onComplete,[e],t)}function ZF(e){const t=e.chart,n=t.options.animation;ue(n&&n.onProgress,[e],t)}function pI(e){return _g()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Gc={},eb=e=>{const t=pI(e);return Object.values(Gc).filter(n=>n.canvas===t).pop()};function t4(e,t,n){const s=Object.keys(e);for(const i of s){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}function e4(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}let Dh=class{static defaults=_e;static instances=Gc;static overrides=Er;static registry=ns;static version=QF;static getChart=eb;static register(...t){ns.add(...t),nb()}static unregister(...t){ns.remove(...t),nb()}constructor(t,n){const s=this.config=new KF(n),i=pI(t),r=eb(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||yF(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=sV(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new VF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=IV(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Gc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ks.listen(this,"complete",tb),ks.listen(this,"progress",ZF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return oe(t)?n&&r?r:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ns}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Cy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Iy(this.canvas,this.ctx),this}stop(){return ks.stop(this),this}resize(t,n){ks.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Cy(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ue(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Jt(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Nd(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Jt(r,o=>{const a=o.options,l=a.id,c=Nd(l,a),u=zt(a.type,o.dtype);(a.position===void 0||Jy(a.position,c)!==Jy(o.dposition))&&(a.position=o.dposition),i[l]=!0;let f=null;if(l in s&&s[l].type===u)f=s[l];else{const d=ns.getScale(u);f=new d({id:l,type:u,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(a,t)}),Jt(i,(o,a)=>{o||delete s[a]}),Jt(s,o=>{kn.configure(this,o,o.options),kn.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(Zy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Od(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=ns.getController(a),{datasetElementType:c,dataElementType:u}=_e.datasets[a];Object.assign(l,{dataElementType:ns.getElement(u),datasetElementType:c&&ns.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Jt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),d=!i&&r.indexOf(f)===-1;f.buildOrUpdateElements(d),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Jt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Zy("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Jt(this.scales,t=>{kn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!py(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;t4(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!py(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kn.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Jt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,$i(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ks.has(this)?this.attached&&!ks.running(this)&&ks.start(this):(this.draw(),tb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=D$(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&dg(n,i),t.controller.draw(),i&&pg(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return wl(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,i){const r=J$.modes[n];return typeof r=="function"?r(this,t,s,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Rr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);Ru(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),ks.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Iy(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Gc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Jt(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Jt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Jt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Pu(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),o=r(n,t),a=s?t:r(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(t,i,s,o),l=cV(t),c=e4(t,this._lastEvent,s,l);s&&(this._lastEvent=null,ue(r.onHover,[t,a,this],this),l&&ue(r.onClick,[t,a,this],this));const u=!Pu(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(t,n,s,i){if(t.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}};function nb(){return Jt(Dh.instances,e=>e._plugins.invalidate())}function gI(e,t,n=t){e.lineCap=zt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(zt(n.borderDash,t.borderDash)),e.lineDashOffset=zt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=zt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=zt(n.borderWidth,t.borderWidth),e.strokeStyle=zt(n.borderColor,t.borderColor)}function n4(e,t,n){e.lineTo(n.x,n.y)}function s4(e){return e.stepped?$V:e.tension||e.cubicInterpolationMode==="monotone"?FV:n4}function mI(e,t,n={}){const s=e.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:t.loop,ilen:c<l&&!u?s+c-l:c-l}}function i4(e,t,n,s){const{points:i,options:r}=t,{count:o,start:a,loop:l,ilen:c}=mI(i,n,s),u=s4(r);let{move:f=!0,reverse:d}=s||{},p,m,_;for(p=0;p<=c;++p)m=i[(a+(d?c-p:p))%o],!m.skip&&(f?(e.moveTo(m.x,m.y),f=!1):u(e,_,m,d,r.stepped),_=m);return l&&(m=i[(a+(d?c:0))%o],u(e,_,m,d,r.stepped)),!!l}function r4(e,t,n,s){const i=t.points,{count:r,start:o,ilen:a}=mI(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,f=0,d,p,m,_,y,T;const R=k=>(o+(c?a-k:k))%r,D=()=>{_!==y&&(e.lineTo(u,y),e.lineTo(u,_),e.lineTo(u,T))};for(l&&(p=i[R(0)],e.moveTo(p.x,p.y)),d=0;d<=a;++d){if(p=i[R(d)],p.skip)continue;const k=p.x,O=p.y,L=k|0;L===m?(O<_?_=O:O>y&&(y=O),u=(f*u+k)/++f):(D(),e.lineTo(k,O),m=L,f=0,_=y=O),T=O}D()}function Ld(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?r4:i4}function o4(e){return e.stepped?_$:e.tension||e.cubicInterpolationMode==="monotone"?y$:rr}function a4(e,t,n,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,s)&&i.closePath()),gI(e,t.options),e.stroke(i)}function l4(e,t,n,s){const{segments:i,options:r}=t,o=Ld(t);for(const a of i)gI(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const c4=typeof Path2D=="function";function u4(e,t,n,s){c4&&!t.options.segment?a4(e,t,n,s):l4(e,t,n,s)}class h4 extends Mr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;u$(this._points,s,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=C$(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,i=t[n],r=this.points,o=I$(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=o4(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:f,end:d}=o[c],p=r[f],m=r[d];if(p===m){a.push(p);continue}const _=Math.abs((i-p[n])/(m[n]-p[n])),y=l(p,m,_,s.stepped);y[n]=t[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(t,n,s){return Ld(this)(t,this,n,s)}path(t,n,s){const i=this.segments,r=Ld(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(t,this,a,{start:n,end:n+s-1});return!!o}draw(t,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),u4(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function sb(e,t,n,s){const i=e.options,{[n]:r}=e.getProps([n],s);return Math.abs(t-r)<i.radius+i.hitRadius}class f4 extends Mr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(t-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return sb(this,t,"x",n)}inYRange(t,n){return sb(this,t,"y",n)}getCenterPoint(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const s=n&&t.borderWidth||0;return(n+s)*2}draw(t,n){const s=this.options;this.skip||s.radius<.1||!wl(this,n,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,Rd(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}const ib=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},d4=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class rb extends Mr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=ue(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=Xe(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=ib(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let f=t;r.textAlign="left",r.textBaseline="middle";let d=-1,p=-u;return this.legendItems.forEach((m,_)=>{const y=s+n/2+r.measureText(m.text).width;(_===0||c[c.length-1]+y+2*a>o)&&(f+=u,c[c.length-(_>0?0:1)]=0,p+=u,d++),l[_]={left:0,top:p,row:d,width:y,height:i},c[c.length-1]+=y+a}),f}_fitCols(t,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let f=a,d=0,p=0,m=0,_=0;return this.legendItems.forEach((y,T)=>{const{itemWidth:R,itemHeight:D}=p4(s,n,r,y,i);T>0&&p+D+2*a>u&&(f+=d+a,c.push({width:d,height:p}),m+=d+a,_++,d=p=0),l[T]={left:m,top:p,col:_,width:R,height:D},d=Math.max(d,R),p+=D+a}),f+=d,c.push({width:d,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=po(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=We(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=We(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=We(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=We(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;dg(t,this),this._draw(),pg(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=t,a=_e.color,l=po(t.rtl,this.left,this.width),c=Xe(o.font),{padding:u}=o,f=c.size,d=f/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:_,itemHeight:y}=ib(o,f),T=function(L,E,b){if(isNaN(m)||m<=0||isNaN(_)||_<0)return;i.save();const w=zt(b.lineWidth,1);if(i.fillStyle=zt(b.fillStyle,a),i.lineCap=zt(b.lineCap,"butt"),i.lineDashOffset=zt(b.lineDashOffset,0),i.lineJoin=zt(b.lineJoin,"miter"),i.lineWidth=w,i.strokeStyle=zt(b.strokeStyle,a),i.setLineDash(zt(b.lineDash,[])),o.usePointStyle){const A={radius:_*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:w},x=l.xPlus(L,m/2),C=E+d;q1(i,A,x,C,o.pointStyleWidth&&m)}else{const A=E+Math.max((f-_)/2,0),x=l.leftForLtr(L,m),C=Ka(b.borderRadius);i.beginPath(),Object.values(C).some(S=>S!==0)?Md(i,{x,y:A,w:m,h:_,radius:C}):i.rect(x,A,m,_),i.fill(),w!==0&&i.stroke()}i.restore()},R=function(L,E,b){Tl(i,b.text,L,E+y/2,c,{strikethrough:b.hidden,textAlign:l.textAlign(b.textAlign)})},D=this.isHorizontal(),k=this._computeTitleHeight();D?p={x:We(r,this.left+u,this.right-s[0]),y:this.top+u+k,line:0}:p={x:this.left+u,y:We(r,this.top+k+u,this.bottom-n[0].height),line:0},tI(this.ctx,t.textDirection);const O=y+u;this.legendItems.forEach((L,E)=>{i.strokeStyle=L.fontColor,i.fillStyle=L.fontColor;const b=i.measureText(L.text).width,w=l.textAlign(L.textAlign||(L.textAlign=o.textAlign)),A=m+d+b;let x=p.x,C=p.y;l.setWidth(this.width),D?E>0&&x+A+u>this.right&&(C=p.y+=O,p.line++,x=p.x=We(r,this.left+u,this.right-s[p.line])):E>0&&C+O>this.bottom&&(x=p.x=x+n[p.line].width+u,p.line++,C=p.y=We(r,this.top+k+u,this.bottom-n[p.line].height));const S=l.x(x);if(T(S,C,L),x=SV(w,x+m+d,D?x+A:this.right,t.rtl),R(l.x(x),C,L),D)p.x+=A+u;else if(typeof L.text!="string"){const dt=c.lineHeight;p.y+=vI(L,dt)+u}else p.y+=O}),eI(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Xe(n.font),i=$n(n.padding);if(!n.display)return;const r=po(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,f=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,f=We(t.align,f,this.right-d);else{const m=this.columnSizes.reduce((_,y)=>Math.max(_,y.height),0);u=c+We(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=We(a,f,f+d);o.textAlign=r.textAlign(hg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Tl(o,n.text,p,u,s)}_computeTitleHeight(){const t=this.options.title,n=Xe(t.font),s=$n(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,i,r;if(Ca(t,this.left,this.right)&&Ca(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Ca(t,i.left,i.left+i.width)&&Ca(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!v4(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=d4(i,s);i&&!r&&ue(n.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!r&&ue(n.onHover,[t,s,this],this)}else s&&ue(n.onClick,[t,s,this],this)}}function p4(e,t,n,s,i){const r=g4(s,e,t,n),o=m4(i,s,t.lineHeight);return{itemWidth:r,itemHeight:o}}function g4(e,t,n,s){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+s.measureText(i).width}function m4(e,t,n){let s=e;return typeof t.text!="string"&&(s=vI(t,n)),s}function vI(e,t){const n=e.text?e.text.length:0;return t*n}function v4(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var _4={id:"legend",_element:rb,start(e,t,n){const s=e.legend=new rb({ctx:e.ctx,options:n,chart:e});kn.configure(e,s,n),kn.addBox(e,s)},stop(e){kn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;kn.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=$n(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class _I extends Mr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=xe(s.text)?s.text.length:1;this._padding=$n(s.padding);const r=i*Xe(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,f;return this.isHorizontal()?(u=We(a,s,r),f=n+t,c=r-s):(o.position==="left"?(u=s+t,f=We(a,i,n),l=De*-.5):(u=r-t,f=We(a,n,i),l=De*.5),c=i-n),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Xe(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Tl(t,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:hg(n.align),textBaseline:"middle",translation:[o,a]})}}function y4(e,t){const n=new _I({ctx:e.ctx,options:t,chart:e});kn.configure(e,n,t),kn.addBox(e,n),e.titleBlock=n}var b4={id:"title",_element:_I,start(e,t,n){y4(e,n)},stop(e){const t=e.titleBlock;kn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;kn.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pa={average(e){if(!e.length)return!1;let t,n,s=new Set,i=0,r=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=kd(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function ts(e,t){return t&&(xe(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ds(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function w4(e,t){const{element:n,datasetIndex:s,index:i}=t,r=e.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:e,label:o,parsed:r.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function ob(e,t){const n=e.chart.ctx,{body:s,footer:i,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=Xe(t.bodyFont),c=Xe(t.titleFont),u=Xe(t.footerFont),f=r.length,d=i.length,p=s.length,m=$n(t.padding);let _=m.height,y=0,T=s.reduce((k,O)=>k+O.before.length+O.lines.length+O.after.length,0);if(T+=e.beforeBody.length+e.afterBody.length,f&&(_+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),T){const k=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=p*k+(T-p)*l.lineHeight+(T-1)*t.bodySpacing}d&&(_+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let R=0;const D=function(k){y=Math.max(y,n.measureText(k).width+R)};return n.save(),n.font=c.string,Jt(e.title,D),n.font=l.string,Jt(e.beforeBody.concat(e.afterBody),D),R=t.displayColors?o+2+t.boxPadding:0,Jt(s,k=>{Jt(k.before,D),Jt(k.lines,D),Jt(k.after,D)}),R=0,n.font=u.string,Jt(e.footer,D),n.restore(),y+=m.width,{width:y,height:_}}function T4(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function E4(e,t,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(e==="left"&&i+r+o>t.width||e==="right"&&i-r-o<0)return!0}function I4(e,t,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),E4(c,e,t,n)&&(c="center"),c}function ab(e,t,n){const s=n.yAlign||t.yAlign||T4(e,n);return{xAlign:n.xAlign||t.xAlign||I4(e,t,n,s),yAlign:s}}function S4(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function A4(e,t,n){let{y:s,height:i}=e;return t==="top"?s+=n:t==="bottom"?s-=i+n:s-=i/2,s}function lb(e,t,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:f,bottomLeft:d,bottomRight:p}=Ka(o);let m=S4(t,a);const _=A4(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,d)+i:a==="right"&&(m+=Math.max(f,p)+i),{x:Pn(m,0,s.width-t.width),y:Pn(_,0,s.height-t.height)}}function Pc(e,t,n){const s=$n(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function cb(e){return ts([],Ds(e))}function C4(e,t,n){return Rr(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function ub(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const yI={beforeTitle:Ps,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Ps,beforeBody:Ps,beforeLabel:Ps,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return oe(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ps,afterBody:Ps,beforeFooter:Ps,footer:Ps,afterFooter:Ps};function un(e,t,n,s){const i=e[t].call(n,s);return typeof i>"u"?yI[t].call(n,s):i}class hb extends Mr{static positioners=Pa;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new sI(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=C4(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,i=un(s,"beforeTitle",this,t),r=un(s,"title",this,t),o=un(s,"afterTitle",this,t);let a=[];return a=ts(a,Ds(i)),a=ts(a,Ds(r)),a=ts(a,Ds(o)),a}getBeforeBody(t,n){return cb(un(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,i=[];return Jt(t,r=>{const o={before:[],lines:[],after:[]},a=ub(s,r);ts(o.before,Ds(un(a,"beforeLabel",this,r))),ts(o.lines,un(a,"label",this,r)),ts(o.after,Ds(un(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,n){return cb(un(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,i=un(s,"beforeFooter",this,t),r=un(s,"footer",this,t),o=un(s,"afterFooter",this,t);let a=[];return a=ts(a,Ds(i)),a=ts(a,Ds(r)),a=ts(a,Ds(o)),a}_createItems(t){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(w4(this.chart,n[l]));return t.filter&&(a=a.filter((u,f,d)=>t.filter(u,f,d,s))),t.itemSort&&(a=a.sort((u,f)=>t.itemSort(u,f,s))),Jt(a,u=>{const f=ub(t.callbacks,u);i.push(un(f,"labelColor",this,u)),r.push(un(f,"labelPointStyle",this,u)),o.push(un(f,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Pa[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=ob(this,s),c=Object.assign({},a,l),u=ab(this.chart,s,c),f=lb(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,i){const r=this.getCaretPosition(t,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=Ka(a),{x:d,y:p}=t,{width:m,height:_}=n;let y,T,R,D,k,O;return r==="center"?(k=p+_/2,i==="left"?(y=d,T=y-o,D=k+o,O=k-o):(y=d+m,T=y+o,D=k-o,O=k+o),R=y):(i==="left"?T=d+Math.max(l,u)+o:i==="right"?T=d+m-Math.max(c,f)-o:T=this.caretX,r==="top"?(D=p,k=D-o,y=T-o,R=T+o):(D=p+_,k=D+o,y=T+o,R=T-o),O=D),{x1:y,x2:T,x3:R,y1:D,y2:k,y3:O}}drawTitle(t,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=po(s.rtl,this.x,this.width);for(t.x=Pc(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=Xe(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=Xe(r.bodyFont),f=Pc(this,"left",r),d=i.x(f),p=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+p;if(r.usePointStyle){const _={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(d,c)+c/2,T=m+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Rd(t,_,y,T),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Rd(t,_,y,T)}else{t.lineWidth=Kt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(d,c),y=i.leftForLtr(i.xPlus(d,1),c-2),T=Ka(o.borderRadius);Object.values(T).some(R=>R!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Md(t,{x:_,y:m,w:c,h:l,radius:T}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Md(t,{x:y,y:m+1,w:c-2,h:l-2,radius:T}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(_,m,c,l),t.strokeRect(_,m,c,l),t.fillStyle=o.backgroundColor,t.fillRect(y,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,f=Xe(s.bodyFont);let d=f.lineHeight,p=0;const m=po(s.rtl,this.x,this.width),_=function(b){n.fillText(b,m.x(t.x+p),t.y+d/2),t.y+=d+r},y=m.textAlign(o);let T,R,D,k,O,L,E;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=Pc(this,y,s),n.fillStyle=s.bodyColor,Jt(this.beforeBody,_),p=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,k=0,L=i.length;k<L;++k){for(T=i[k],R=this.labelTextColors[k],n.fillStyle=R,Jt(T.before,_),D=T.lines,a&&D.length&&(this._drawColorBox(n,t,k,m,s),d=Math.max(f.lineHeight,l)),O=0,E=D.length;O<E;++O)_(D[O]),d=f.lineHeight;Jt(T.after,_)}p=0,d=f.lineHeight,Jt(this.afterBody,_),t.y-=r}drawFooter(t,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=po(s.rtl,this.x,this.width);for(t.x=Pc(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=Xe(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=s,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:m}=Ka(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(t,n,s,i),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,n,s,i),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(t,n,s,i),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&r==="left"&&this.drawCaret(t,n,s,i),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Pa[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=ob(this,t),l=Object.assign({},o,this._size),c=ab(n,t,l),u=lb(t,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=$n(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,i,n),tI(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),eI(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Pu(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,s),a=this._positionChanged(o,t),l=n||!Pu(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,s,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:s,caretY:i,options:r}=this,o=Pa[r.position].call(this,t,n);return o!==!1&&(s!==o.x||i!==o.y)}}var x4={id:"tooltip",_element:hb,positioners:Pa,afterInit(e,t,n){n&&(e.tooltip=new hb({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const P4=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function k4(e,t,n,s){const i=e.indexOf(t);if(i===-1)return P4(e,t,n,s);const r=e.lastIndexOf(t);return i!==r?n:i}const D4=(e,t)=>e===null?null:Pn(Math.round(e),0,t);function fb(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class R4 extends Wo{static id="category";static defaults={ticks:{callback:fb}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(oe(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:k4(s,t,zt(n,t),this._addedLabels),D4(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return fb.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function M4(e,t){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:d}=e,p=r||1,m=u-1,{min:_,max:y}=t,T=!oe(o),R=!oe(a),D=!oe(c),k=(y-_)/(f+1);let O=my((y-_)/m/p)*p,L,E,b,w;if(O<1e-14&&!T&&!R)return[{value:_},{value:y}];w=Math.ceil(y/O)-Math.floor(_/O),w>m&&(O=my(w*O/m/p)*p),oe(l)||(L=Math.pow(10,l),O=Math.ceil(O*L)/L),i==="ticks"?(E=Math.floor(_/O)*O,b=Math.ceil(y/O)*O):(E=_,b=y),T&&R&&r&&pV((a-o)/r,O/1e3)?(w=Math.round(Math.min((a-o)/O,u)),O=(a-o)/w,E=o,b=a):D?(E=T?o:E,b=R?a:b,w=c-1,O=(b-E)/w):(w=(b-E)/O,Wa(w,Math.round(w),O/1e3)?w=Math.round(w):w=Math.ceil(w));const A=Math.max(vy(O),vy(E));L=Math.pow(10,oe(l)?A:l),E=Math.round(E*L)/L,b=Math.round(b*L)/L;let x=0;for(T&&(d&&E!==o?(n.push({value:o}),E<o&&x++,Wa(Math.round((E+x*O)*L)/L,o,db(o,k,e))&&x++):E<o&&x++);x<w;++x){const C=Math.round((E+x*O)*L)/L;if(R&&C>a)break;n.push({value:C})}return R&&d&&b!==a?n.length&&Wa(n[n.length-1].value,a,db(a,k,e))?n[n.length-1].value=a:n.push({value:a}):(!R||b===a)&&n.push({value:b}),n}function db(e,t,{horizontal:n,minRotation:s}){const i=cr(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class O4 extends Wo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return oe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(t){const l=xo(i),c=xo(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(i-l)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=M4(i,r);return t.bounds==="ticks"&&gV(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-n)/Math.max(t.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return W1(t,this.chart.options.locale,this.options.ticks.format)}}class N4 extends O4{static id="linear";static defaults={ticks:{callback:Y1.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Vn(t)?t:0,this.max=Vn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=cr(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Rh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dn=Object.keys(Rh);function pb(e,t){return e-t}function gb(e,t){if(oe(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:r}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),Vn(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(bl(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function mb(e,t,n,s){const i=dn.length;for(let r=dn.indexOf(e);r<i-1;++r){const o=Rh[dn[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=s)return dn[r]}return dn[i-1]}function L4(e,t,n,s,i){for(let r=dn.length-1;r>=dn.indexOf(n);r--){const o=dn[r];if(Rh[o].common&&e._adapter.diff(i,s,o)>=t-1)return o}return dn[n?dn.indexOf(n):0]}function V4(e){for(let t=dn.indexOf(e)+1,n=dn.length;t<n;++t)if(Rh[dn[t]].common)return dn[t]}function vb(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:i}=ug(n,t),r=n[s]>=t?n[s]:n[i];e[r]=!0}}function $4(e,t,n,s){const i=e._adapter,r=+i.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(t[l].major=!0);return t}function _b(e,t,n){const s=[],i={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:$4(e,s,i,n)}class yb extends Wo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),i=this._adapter=new q$._date(t.adapters.date);i.init(n),za(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:gb(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Vn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Vn(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=wV(i,r,o);return this._unit=n.unit||(s.autoSkip?mb(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):L4(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:V4(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),_b(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Pn(n,0,o),s=Pn(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||mb(r.minUnit,n,s,this._getLabelCapacity(n)),a=zt(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=bl(l)||l===!0,u={};let f=n,d,p;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":o),t.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(d=f,p=0;d<s;d=+t.add(d,a,o),p++)vb(u,d,m);return(d===s||i.bounds==="ticks"||p===1)&&vb(u,d,m),Object.keys(u).sort(pb).map(_=>+_)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return ue(o,[t,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],f=c&&a[c],d=s[n],p=c&&f&&d&&d.major;return this._adapter.format(t,i||(p?f:u))}generateTickLabels(t){let n,s,i;for(n=0,s=t.length;n<s;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,i=cr(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(t,0,_b(this,[t],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)t.push(gb(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return EV(t.sort(pb))}}function kc(e,t,n){let s=0,i=e.length-1,r,o,a,l;n?(t>=e[s].pos&&t<=e[i].pos&&({lo:s,hi:i}=ur(e,"pos",t)),{pos:r,time:a}=e[s],{pos:o,time:l}=e[i]):(t>=e[s].time&&t<=e[i].time&&({lo:s,hi:i}=ur(e,"time",t)),{time:r,pos:a}=e[s],{time:o,pos:l}=e[i]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class JX extends yb{static id="timeseries";static defaults=yb.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=kc(n,this.min),this._tableRange=kc(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(kc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return kc(this._table,s*this._tableRange+this._minPos,!0)}}const bI={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},F4={ariaLabel:{type:String},ariaDescribedby:{type:String}},B4={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...bI,...F4},U4=Xw[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function Yr(e){return xl(e)?Ht(e):e}function H4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return xl(t)?new Proxy(e,{}):e}function j4(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function wI(e,t){e.labels=t}function TI(e,t,n){const s=[];e.datasets=t.map(i=>{const r=e.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function z4(e,t){const n={labels:[],datasets:[]};return wI(n,e.labels),TI(n,e.datasets,t),n}const W4=tn({props:B4,setup(e,t){let{expose:n,slots:s}=t;const i=Vt(null),r=rp(null);n({chart:r});const o=()=>{if(!i.value)return;const{type:c,data:u,options:f,plugins:d,datasetIdKey:p}=e,m=z4(u,p),_=H4(m,u);r.value=new Dh(i.value,{type:c,data:_,options:{...f},plugins:d})},a=()=>{const c=Ht(r.value);c&&(e.destroyDelay>0?setTimeout(()=>{c.destroy(),r.value=null},e.destroyDelay):(c.destroy(),r.value=null))},l=c=>{c.update(e.updateMode)};return ys(o),Vo(a),an([()=>e.options,()=>e.data],(c,u)=>{let[f,d]=c,[p,m]=u;const _=Ht(r.value);if(!_)return;let y=!1;if(f){const T=Yr(f),R=Yr(p);T&&T!==R&&(j4(_,T),y=!0)}if(d){const T=Yr(d.labels),R=Yr(m.labels),D=Yr(d.datasets),k=Yr(m.datasets);T!==R&&(wI(_.config.data,T),y=!0),D&&D!==k&&(TI(_.config.data,D,e.datasetIdKey),y=!0)}y&&mo(()=>{l(_)})},{deep:!0}),()=>vo("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:i},[vo("p",{},[s.default?s.default():""])])}});function Y4(e,t){return Dh.register(t),tn({props:bI,setup(n,s){let{expose:i}=s;const r=rp(null),o=a=>{r.value=a?.chart};return i({chart:r}),()=>vo(W4,U4({ref:o},{type:e,...n}))}})}const q4=Y4("line",Y$),K4={class:"statistics-container"},G4={class:"toggle-segment"},X4={class:"stats-chart"},Q4={__name:"Statistics",setup(e){Dh.register(h4,f4,N4,b4,R4,x4,_4);const t=Vt("week"),n=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function i(){const c={};for(let u=0;u<localStorage.length;u++){const f=localStorage.key(u);if(f&&f.startsWith("groups_")){const d=f.replace("groups_",""),[p,m,_]=d.split("-").map(Number),T=JSON.parse(localStorage.getItem(f)||"[]").reduce((R,D)=>R+D.count,0);c[d]={year:p,month:m,day:_,count:T}}}return c}const r=Vt({});ys(()=>{r.value=i()});const o=G(()=>{const c=new Date;if(t.value==="week"){const u=[],f=[];for(let d=6;d>=0;d--){const p=new Date(c);p.setDate(c.getDate()-d);const m=n[p.getDay()===0?6:p.getDay()-1];u.push(m);const _=`${p.getFullYear()}-${p.getMonth()+1}-${p.getDate()}`,y=r.value[_];f.push(y?y.count:0)}return{labels:u,datasets:[{label:"Clicks",data:f,fill:!1,borderColor:"#fff",backgroundColor:"#fff",tension:.4,pointRadius:5,pointBackgroundColor:"#fff",pointBorderColor:"#42b883",pointHoverRadius:7}]}}else{const u=c.getFullYear(),f=Array(12).fill(0);return Object.values(r.value).forEach(d=>{d.year===u&&(f[d.month-1]+=d.count)}),{labels:s,datasets:[{label:"Clicks",data:f,fill:!1,borderColor:"#fff",backgroundColor:"#fff",tension:.4,pointRadius:5,pointBackgroundColor:"#fff",pointBorderColor:"#42b883",pointHoverRadius:7}]}}}),a={responsive:!0,plugins:{legend:{display:!1},title:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#e0e0e0",font:{size:14}}},y:{grid:{color:"#e0e0e0"},ticks:{color:"#e0e0e0",font:{size:14}}}}},l=q4;return(c,u)=>(lt(),gt("div",K4,[X("button",{class:"back-btn",onClick:u[0]||(u[0]=f=>c.$router.push("/")),"aria-label":"Back"},u[3]||(u[3]=[X("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},[X("path",{d:"M15 19l-7-7 7-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),X("div",G4,[X("button",{class:se(["toggle-btn",{active:t.value==="week"}]),onClick:u[1]||(u[1]=f=>t.value="week")}," Week ",2),X("button",{class:se(["toggle-btn",{active:t.value==="month"}]),onClick:u[2]||(u[2]=f=>t.value="month")}," Month ",2)]),X("div",X4,[xt(ft(l),{data:o.value,options:a},null,8,["data"])])]))}},J4=Bi(Q4,[["__scopeId","data-v-28cf7a17"]]),Z4={key:0,class:"auth-error"},t3={__name:"Auth",setup(e){const t=["#2F5249","#1976D2","#D32F2F","#7B1FA2","#F57C00","#388E3C","#455A64","#212121"],n=Vt(localStorage.getItem("color-primary")&&t.includes(localStorage.getItem("color-primary"))?localStorage.getItem("color-primary"):t[0]);function s(m){let _=m.replace("#","");_.length===3&&(_=_.split("").map(T=>T+T).join(""));const y=parseInt(_,16);return[y>>16,y>>8&255,y&255]}function i([m,_,y]){return"#"+[m,_,y].map(T=>T.toString(16).padStart(2,"0")).join("")}function r(m,_){const[y,T,R]=s(m),D=_<0?0:255,k=Math.abs(_);return i([Math.round((D-y)*k+y),Math.round((D-T)*k+T),Math.round((D-R)*k+R)])}const o=G(()=>{const m=n.value,_=r(m,.5),y=r(m,-.3);return`linear-gradient(135deg, ${_} 0%, ${m} 50%, ${y} 100%)`}),a=Vt(""),l=Vt(""),c=Vt(""),u=gp(),f=async()=>{c.value="";try{await MR(Tr,a.value,l.value),u.push("/")}catch(m){c.value=m.message}},d=async()=>{c.value="";try{await RR(Tr,a.value,l.value),u.push("/")}catch(m){c.value=m.message}},p=()=>{f()};return(m,_)=>(lt(),gt("div",{class:"auth-container",style:Qe({background:o.value})},[_[2]||(_[2]=X("h2",null,"Sign In / Register",-1)),X("form",{onSubmit:dp(p,["prevent"])},[ou(X("input",{"onUpdate:modelValue":_[0]||(_[0]=y=>a.value=y),type:"email",placeholder:"Email",required:""},null,512),[[gv,a.value]]),ou(X("input",{"onUpdate:modelValue":_[1]||(_[1]=y=>l.value=y),type:"password",placeholder:"Password",required:""},null,512),[[gv,l.value]]),X("div",{class:"auth-actions"},[X("button",{type:"button",onClick:f},"Login"),X("button",{type:"button",onClick:d},"Register")]),c.value?(lt(),gt("div",Z4,Je(c.value),1)):Fe("",!0)],32)],4))}},e3=Bi(t3,[["__scopeId","data-v-0ddc495f"]]),n3={class:"palette-section"},s3={class:"palette-scroll-mask"},i3={class:"palette-options"},r3=["onClick"],o3={class:"palette-section"},a3={class:"palette-scroll-mask"},l3={class:"palette-options"},c3=["onClick"],u3={__name:"Settings",setup(e){const t=["#ffffff","#2F5249","#1976D2","#D32F2F","#7B1FA2","#F57C00","#388E3C","#455A64","#212121"],n=["#ffffff","#E3DE61","#64B5F6","#F44336","#BA68C8","#FFB74D","#81C784","#90A4AE","#FFF176"],s=Vt(t[0]),i=Vt(n[0]);function r(d){s.value=d,a()}function o(d){i.value=d,a()}function a(){document.documentElement.style.setProperty("--primary",s.value),document.documentElement.style.setProperty("--accent",i.value),localStorage.setItem("color-primary",s.value),localStorage.setItem("color-accent",i.value)}ys(()=>{const d=localStorage.getItem("color-primary"),p=localStorage.getItem("color-accent");d&&t.includes(d)&&(s.value=d),p&&n.includes(p)&&(i.value=p),a()});function l(d){let p=d.replace("#","");p.length===3&&(p=p.split("").map(_=>_+_).join(""));const m=parseInt(p,16);return[m>>16,m>>8&255,m&255]}function c([d,p,m]){return"#"+[d,p,m].map(_=>_.toString(16).padStart(2,"0")).join("")}function u(d,p){const[m,_,y]=l(d),T=p<0?0:255,R=Math.abs(p);return c([Math.round((T-m)*R+m),Math.round((T-_)*R+_),Math.round((T-y)*R+y)])}const f=G(()=>{const d=s.value,p=u(d,.5),m=u(d,-.3);return`linear-gradient(135deg, ${p} 0%, ${d} 50%, ${m} 100%)`});return(d,p)=>(lt(),gt("div",{class:"settings-container",style:Qe({background:f.value})},[X("button",{class:"back-btn",onClick:p[0]||(p[0]=m=>d.$router.push("/")),"aria-label":"Back"},p[1]||(p[1]=[X("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},[X("path",{d:"M15 19l-7-7 7-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),p[4]||(p[4]=X("h2",null,"Налаштування кольорів",-1)),X("div",n3,[p[2]||(p[2]=X("div",{class:"palette-label"},"Основний колір:",-1)),X("div",s3,[X("div",i3,[(lt(),gt(te,null,pn(t,m=>X("button",{key:m,style:Qe({background:m}),class:se({selected:m===s.value}),onClick:_=>r(m)},null,14,r3)),64))])])]),X("div",o3,[p[3]||(p[3]=X("div",{class:"palette-label"},"Акцент:",-1)),X("div",a3,[X("div",l3,[(lt(),gt(te,null,pn(n,m=>X("button",{key:m,style:Qe({background:m}),class:se({selected:m===i.value}),onClick:_=>o(m)},null,14,c3)),64))])])])],4))}},h3=Bi(u3,[["__scopeId","data-v-ec1c089e"]]);var mn="top",Fn="bottom",Bn="right",vn="left",wg="auto",jl=[mn,Fn,Bn,vn],Do="start",Il="end",f3="clippingParents",EI="viewport",va="popper",d3="reference",bb=jl.reduce(function(e,t){return e.concat([t+"-"+Do,t+"-"+Il])},[]),II=[].concat(jl,[wg]).reduce(function(e,t){return e.concat([t,t+"-"+Do,t+"-"+Il])},[]),p3="beforeRead",g3="read",m3="afterRead",v3="beforeMain",_3="main",y3="afterMain",b3="beforeWrite",w3="write",T3="afterWrite",E3=[p3,g3,m3,v3,_3,y3,b3,w3,T3];function vs(e){return e?(e.nodeName||"").toLowerCase():null}function Tn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ir(e){var t=Tn(e).Element;return e instanceof t||e instanceof Element}function Mn(e){var t=Tn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Tg(e){if(typeof ShadowRoot>"u")return!1;var t=Tn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function I3(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var s=t.styles[n]||{},i=t.attributes[n]||{},r=t.elements[n];!Mn(r)||!vs(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var a=i[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function S3(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(s){var i=t.elements[s],r=t.attributes[s]||{},o=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:n[s]),a=o.reduce(function(l,c){return l[c]="",l},{});!Mn(i)||!vs(i)||(Object.assign(i.style,a),Object.keys(r).forEach(function(l){i.removeAttribute(l)}))})}}const A3={name:"applyStyles",enabled:!0,phase:"write",fn:I3,effect:S3,requires:["computeStyles"]};function ds(e){return e.split("-")[0]}var gr=Math.max,Lu=Math.min,Ro=Math.round;function Vd(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function SI(){return!/^((?!chrome|android).)*safari/i.test(Vd())}function Mo(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var s=e.getBoundingClientRect(),i=1,r=1;t&&Mn(e)&&(i=e.offsetWidth>0&&Ro(s.width)/e.offsetWidth||1,r=e.offsetHeight>0&&Ro(s.height)/e.offsetHeight||1);var o=Ir(e)?Tn(e):window,a=o.visualViewport,l=!SI()&&n,c=(s.left+(l&&a?a.offsetLeft:0))/i,u=(s.top+(l&&a?a.offsetTop:0))/r,f=s.width/i,d=s.height/r;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function Eg(e){var t=Mo(e),n=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:s}}function AI(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Tg(n)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ks(e){return Tn(e).getComputedStyle(e)}function C3(e){return["table","td","th"].indexOf(vs(e))>=0}function ji(e){return((Ir(e)?e.ownerDocument:e.document)||window.document).documentElement}function Mh(e){return vs(e)==="html"?e:e.assignedSlot||e.parentNode||(Tg(e)?e.host:null)||ji(e)}function wb(e){return!Mn(e)||Ks(e).position==="fixed"?null:e.offsetParent}function x3(e){var t=/firefox/i.test(Vd()),n=/Trident/i.test(Vd());if(n&&Mn(e)){var s=Ks(e);if(s.position==="fixed")return null}var i=Mh(e);for(Tg(i)&&(i=i.host);Mn(i)&&["html","body"].indexOf(vs(i))<0;){var r=Ks(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function zl(e){for(var t=Tn(e),n=wb(e);n&&C3(n)&&Ks(n).position==="static";)n=wb(n);return n&&(vs(n)==="html"||vs(n)==="body"&&Ks(n).position==="static")?t:n||x3(e)||t}function Ig(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ga(e,t,n){return gr(e,Lu(t,n))}function P3(e,t,n){var s=Ga(e,t,n);return s>n?n:s}function CI(){return{top:0,right:0,bottom:0,left:0}}function xI(e){return Object.assign({},CI(),e)}function PI(e,t){return t.reduce(function(n,s){return n[s]=e,n},{})}var k3=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,xI(typeof t!="number"?t:PI(t,jl))};function D3(e){var t,n=e.state,s=e.name,i=e.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ds(n.placement),l=Ig(a),c=[vn,Bn].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!o)){var f=k3(i.padding,n),d=Eg(r),p=l==="y"?mn:vn,m=l==="y"?Fn:Bn,_=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],y=o[l]-n.rects.reference[l],T=zl(r),R=T?l==="y"?T.clientHeight||0:T.clientWidth||0:0,D=_/2-y/2,k=f[p],O=R-d[u]-f[m],L=R/2-d[u]/2+D,E=Ga(k,L,O),b=l;n.modifiersData[s]=(t={},t[b]=E,t.centerOffset=E-L,t)}}function R3(e){var t=e.state,n=e.options,s=n.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||AI(t.elements.popper,i)&&(t.elements.arrow=i))}const M3={name:"arrow",enabled:!0,phase:"main",fn:D3,effect:R3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Oo(e){return e.split("-")[1]}var O3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function N3(e,t){var n=e.x,s=e.y,i=t.devicePixelRatio||1;return{x:Ro(n*i)/i||0,y:Ro(s*i)/i||0}}function Tb(e){var t,n=e.popper,s=e.popperRect,i=e.placement,r=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,d=o.x,p=d===void 0?0:d,m=o.y,_=m===void 0?0:m,y=typeof u=="function"?u({x:p,y:_}):{x:p,y:_};p=y.x,_=y.y;var T=o.hasOwnProperty("x"),R=o.hasOwnProperty("y"),D=vn,k=mn,O=window;if(c){var L=zl(n),E="clientHeight",b="clientWidth";if(L===Tn(n)&&(L=ji(n),Ks(L).position!=="static"&&a==="absolute"&&(E="scrollHeight",b="scrollWidth")),L=L,i===mn||(i===vn||i===Bn)&&r===Il){k=Fn;var w=f&&L===O&&O.visualViewport?O.visualViewport.height:L[E];_-=w-s.height,_*=l?1:-1}if(i===vn||(i===mn||i===Fn)&&r===Il){D=Bn;var A=f&&L===O&&O.visualViewport?O.visualViewport.width:L[b];p-=A-s.width,p*=l?1:-1}}var x=Object.assign({position:a},c&&O3),C=u===!0?N3({x:p,y:_},Tn(n)):{x:p,y:_};if(p=C.x,_=C.y,l){var S;return Object.assign({},x,(S={},S[k]=R?"0":"",S[D]=T?"0":"",S.transform=(O.devicePixelRatio||1)<=1?"translate("+p+"px, "+_+"px)":"translate3d("+p+"px, "+_+"px, 0)",S))}return Object.assign({},x,(t={},t[k]=R?_+"px":"",t[D]=T?p+"px":"",t.transform="",t))}function L3(e){var t=e.state,n=e.options,s=n.gpuAcceleration,i=s===void 0?!0:s,r=n.adaptive,o=r===void 0?!0:r,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:ds(t.placement),variation:Oo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Tb(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Tb(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const V3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:L3,data:{}};var Dc={passive:!0};function $3(e){var t=e.state,n=e.instance,s=e.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,a=o===void 0?!0:o,l=Tn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",n.update,Dc)}),a&&l.addEventListener("resize",n.update,Dc),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Dc)}),a&&l.removeEventListener("resize",n.update,Dc)}}const F3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$3,data:{}};var B3={left:"right",right:"left",bottom:"top",top:"bottom"};function Xc(e){return e.replace(/left|right|bottom|top/g,function(t){return B3[t]})}var U3={start:"end",end:"start"};function Eb(e){return e.replace(/start|end/g,function(t){return U3[t]})}function Sg(e){var t=Tn(e),n=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:n,scrollTop:s}}function Ag(e){return Mo(ji(e)).left+Sg(e).scrollLeft}function H3(e,t){var n=Tn(e),s=ji(e),i=n.visualViewport,r=s.clientWidth,o=s.clientHeight,a=0,l=0;if(i){r=i.width,o=i.height;var c=SI();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:r,height:o,x:a+Ag(e),y:l}}function j3(e){var t,n=ji(e),s=Sg(e),i=(t=e.ownerDocument)==null?void 0:t.body,r=gr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=gr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-s.scrollLeft+Ag(e),l=-s.scrollTop;return Ks(i||n).direction==="rtl"&&(a+=gr(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function Cg(e){var t=Ks(e),n=t.overflow,s=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+s)}function kI(e){return["html","body","#document"].indexOf(vs(e))>=0?e.ownerDocument.body:Mn(e)&&Cg(e)?e:kI(Mh(e))}function Xa(e,t){var n;t===void 0&&(t=[]);var s=kI(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),r=Tn(s),o=i?[r].concat(r.visualViewport||[],Cg(s)?s:[]):s,a=t.concat(o);return i?a:a.concat(Xa(Mh(o)))}function $d(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function z3(e,t){var n=Mo(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Ib(e,t,n){return t===EI?$d(H3(e,n)):Ir(t)?z3(t,n):$d(j3(ji(e)))}function W3(e){var t=Xa(Mh(e)),n=["absolute","fixed"].indexOf(Ks(e).position)>=0,s=n&&Mn(e)?zl(e):e;return Ir(s)?t.filter(function(i){return Ir(i)&&AI(i,s)&&vs(i)!=="body"}):[]}function Y3(e,t,n,s){var i=t==="clippingParents"?W3(e):[].concat(t),r=[].concat(i,[n]),o=r[0],a=r.reduce(function(l,c){var u=Ib(e,c,s);return l.top=gr(u.top,l.top),l.right=Lu(u.right,l.right),l.bottom=Lu(u.bottom,l.bottom),l.left=gr(u.left,l.left),l},Ib(e,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function DI(e){var t=e.reference,n=e.element,s=e.placement,i=s?ds(s):null,r=s?Oo(s):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case mn:l={x:o,y:t.y-n.height};break;case Fn:l={x:o,y:t.y+t.height};break;case Bn:l={x:t.x+t.width,y:a};break;case vn:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?Ig(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case Do:l[c]=l[c]-(t[u]/2-n[u]/2);break;case Il:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function Sl(e,t){t===void 0&&(t={});var n=t,s=n.placement,i=s===void 0?e.placement:s,r=n.strategy,o=r===void 0?e.strategy:r,a=n.boundary,l=a===void 0?f3:a,c=n.rootBoundary,u=c===void 0?EI:c,f=n.elementContext,d=f===void 0?va:f,p=n.altBoundary,m=p===void 0?!1:p,_=n.padding,y=_===void 0?0:_,T=xI(typeof y!="number"?y:PI(y,jl)),R=d===va?d3:va,D=e.rects.popper,k=e.elements[m?R:d],O=Y3(Ir(k)?k:k.contextElement||ji(e.elements.popper),l,u,o),L=Mo(e.elements.reference),E=DI({reference:L,element:D,placement:i}),b=$d(Object.assign({},D,E)),w=d===va?b:L,A={top:O.top-w.top+T.top,bottom:w.bottom-O.bottom+T.bottom,left:O.left-w.left+T.left,right:w.right-O.right+T.right},x=e.modifiersData.offset;if(d===va&&x){var C=x[i];Object.keys(A).forEach(function(S){var dt=[Bn,Fn].indexOf(S)>=0?1:-1,Q=[mn,Fn].indexOf(S)>=0?"y":"x";A[S]+=C[Q]*dt})}return A}function q3(e,t){t===void 0&&(t={});var n=t,s=n.placement,i=n.boundary,r=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?II:l,u=Oo(s),f=u?a?bb:bb.filter(function(m){return Oo(m)===u}):jl,d=f.filter(function(m){return c.indexOf(m)>=0});d.length===0&&(d=f);var p=d.reduce(function(m,_){return m[_]=Sl(e,{placement:_,boundary:i,rootBoundary:r,padding:o})[ds(_)],m},{});return Object.keys(p).sort(function(m,_){return p[m]-p[_]})}function K3(e){if(ds(e)===wg)return[];var t=Xc(e);return[Eb(e),t,Eb(t)]}function G3(e){var t=e.state,n=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,_=n.allowedAutoPlacements,y=t.options.placement,T=ds(y),R=T===y,D=l||(R||!m?[Xc(y)]:K3(y)),k=[y].concat(D).reduce(function(Rt,Wt){return Rt.concat(ds(Wt)===wg?q3(t,{placement:Wt,boundary:u,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:_}):Wt)},[]),O=t.rects.reference,L=t.rects.popper,E=new Map,b=!0,w=k[0],A=0;A<k.length;A++){var x=k[A],C=ds(x),S=Oo(x)===Do,dt=[mn,Fn].indexOf(C)>=0,Q=dt?"width":"height",at=Sl(t,{placement:x,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),ot=dt?S?Bn:vn:S?Fn:mn;O[Q]>L[Q]&&(ot=Xc(ot));var mt=Xc(ot),Nt=[];if(r&&Nt.push(at[C]<=0),a&&Nt.push(at[ot]<=0,at[mt]<=0),Nt.every(function(Rt){return Rt})){w=x,b=!1;break}E.set(x,Nt)}if(b)for(var z=m?3:1,At=function(Wt){var Ut=k.find(function(F){var st=E.get(F);if(st)return st.slice(0,Wt).every(function(Z){return Z})});if(Ut)return w=Ut,"break"},et=z;et>0;et--){var Pt=At(et);if(Pt==="break")break}t.placement!==w&&(t.modifiersData[s]._skip=!0,t.placement=w,t.reset=!0)}}const X3={name:"flip",enabled:!0,phase:"main",fn:G3,requiresIfExists:["offset"],data:{_skip:!1}};function Sb(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ab(e){return[mn,Bn,Fn,vn].some(function(t){return e[t]>=0})}function Q3(e){var t=e.state,n=e.name,s=t.rects.reference,i=t.rects.popper,r=t.modifiersData.preventOverflow,o=Sl(t,{elementContext:"reference"}),a=Sl(t,{altBoundary:!0}),l=Sb(o,s),c=Sb(a,i,r),u=Ab(l),f=Ab(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const J3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Q3};function Z3(e,t,n){var s=ds(e),i=[vn,mn].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=r[0],a=r[1];return o=o||0,a=(a||0)*i,[vn,Bn].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function t5(e){var t=e.state,n=e.options,s=e.name,i=n.offset,r=i===void 0?[0,0]:i,o=II.reduce(function(u,f){return u[f]=Z3(f,t.rects,r),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[s]=o}const e5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:t5};function n5(e){var t=e.state,n=e.name;t.modifiersData[n]=DI({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const s5={name:"popperOffsets",enabled:!0,phase:"read",fn:n5,data:{}};function i5(e){return e==="x"?"y":"x"}function r5(e){var t=e.state,n=e.options,s=e.name,i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,d=n.tether,p=d===void 0?!0:d,m=n.tetherOffset,_=m===void 0?0:m,y=Sl(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),T=ds(t.placement),R=Oo(t.placement),D=!R,k=Ig(T),O=i5(k),L=t.modifiersData.popperOffsets,E=t.rects.reference,b=t.rects.popper,w=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,A=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(L){if(r){var S,dt=k==="y"?mn:vn,Q=k==="y"?Fn:Bn,at=k==="y"?"height":"width",ot=L[k],mt=ot+y[dt],Nt=ot-y[Q],z=p?-b[at]/2:0,At=R===Do?E[at]:b[at],et=R===Do?-b[at]:-E[at],Pt=t.elements.arrow,Rt=p&&Pt?Eg(Pt):{width:0,height:0},Wt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:CI(),Ut=Wt[dt],F=Wt[Q],st=Ga(0,E[at],Rt[at]),Z=D?E[at]/2-z-st-Ut-A.mainAxis:At-st-Ut-A.mainAxis,ct=D?-E[at]/2+z+st+F+A.mainAxis:et+st+F+A.mainAxis,Ot=t.elements.arrow&&zl(t.elements.arrow),P=Ot?k==="y"?Ot.clientTop||0:Ot.clientLeft||0:0,M=(S=x?.[k])!=null?S:0,N=ot+Z-M-P,B=ot+ct-M,H=Ga(p?Lu(mt,N):mt,ot,p?gr(Nt,B):Nt);L[k]=H,C[k]=H-ot}if(a){var U,it=k==="x"?mn:vn,J=k==="x"?Fn:Bn,K=L[O],W=O==="y"?"height":"width",pt=K+y[it],nt=K-y[J],ht=[mn,vn].indexOf(T)!==-1,yt=(U=x?.[O])!=null?U:0,vt=ht?pt:K-E[W]-b[W]-yt+A.altAxis,It=ht?K+E[W]+b[W]-yt-A.altAxis:nt,Lt=p&&ht?P3(vt,K,It):Ga(p?vt:pt,K,p?It:nt);L[O]=Lt,C[O]=Lt-K}t.modifiersData[s]=C}}const o5={name:"preventOverflow",enabled:!0,phase:"main",fn:r5,requiresIfExists:["offset"]};function a5(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function l5(e){return e===Tn(e)||!Mn(e)?Sg(e):a5(e)}function c5(e){var t=e.getBoundingClientRect(),n=Ro(t.width)/e.offsetWidth||1,s=Ro(t.height)/e.offsetHeight||1;return n!==1||s!==1}function u5(e,t,n){n===void 0&&(n=!1);var s=Mn(t),i=Mn(t)&&c5(t),r=ji(t),o=Mo(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&((vs(t)!=="body"||Cg(r))&&(a=l5(t)),Mn(t)?(l=Mo(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=Ag(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function h5(e){var t=new Map,n=new Set,s=[];e.forEach(function(r){t.set(r.name,r)});function i(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),s.push(r)}return e.forEach(function(r){n.has(r.name)||i(r)}),s}function f5(e){var t=h5(e);return E3.reduce(function(n,s){return n.concat(t.filter(function(i){return i.phase===s}))},[])}function d5(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function p5(e){var t=e.reduce(function(n,s){var i=n[s.name];return n[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,n},{});return Object.keys(t).map(function(n){return t[n]})}var Cb={placement:"bottom",modifiers:[],strategy:"absolute"};function xb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function g5(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,s=n===void 0?[]:n,i=t.defaultOptions,r=i===void 0?Cb:i;return function(a,l,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cb,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,p={state:u,setOptions:function(T){var R=typeof T=="function"?T(u.options):T;_(),u.options=Object.assign({},r,u.options,R),u.scrollParents={reference:Ir(a)?Xa(a):a.contextElement?Xa(a.contextElement):[],popper:Xa(l)};var D=f5(p5([].concat(s,u.options.modifiers)));return u.orderedModifiers=D.filter(function(k){return k.enabled}),m(),p.update()},forceUpdate:function(){if(!d){var T=u.elements,R=T.reference,D=T.popper;if(xb(R,D)){u.rects={reference:u5(R,zl(D),u.options.strategy==="fixed"),popper:Eg(D)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(A){return u.modifiersData[A.name]=Object.assign({},A.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var O=u.orderedModifiers[k],L=O.fn,E=O.options,b=E===void 0?{}:E,w=O.name;typeof L=="function"&&(u=L({state:u,options:b,name:w,instance:p})||u)}}}},update:d5(function(){return new Promise(function(y){p.forceUpdate(),y(u)})}),destroy:function(){_(),d=!0}};if(!xb(a,l))return p;p.setOptions(c).then(function(y){!d&&c.onFirstUpdate&&c.onFirstUpdate(y)});function m(){u.orderedModifiers.forEach(function(y){var T=y.name,R=y.options,D=R===void 0?{}:R,k=y.effect;if(typeof k=="function"){var O=k({state:u,name:T,instance:p,options:D}),L=function(){};f.push(O||L)}})}function _(){f.forEach(function(y){return y()}),f=[]}return p}}var m5=[F3,s5,V3,A3,e5,X3,o5,M3,J3],v5=g5({defaultModifiers:m5}),_5=Object.defineProperty,y5=(e,t,n)=>t in e?_5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_t=(e,t,n)=>(y5(e,typeof t!="symbol"?t+"":t,n),n),Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var b5=Object.prototype,w5=b5.hasOwnProperty;function T5(e,t){return e!=null&&w5.call(e,t)}var E5=T5,I5=Array.isArray,Xn=I5,S5=typeof Rc=="object"&&Rc&&Rc.Object===Object&&Rc,MI=S5,A5=MI,C5=typeof self=="object"&&self&&self.Object===Object&&self,x5=A5||C5||Function("return this")(),bs=x5,P5=bs,k5=P5.Symbol,Oh=k5,Pb=Oh,OI=Object.prototype,D5=OI.hasOwnProperty,R5=OI.toString,_a=Pb?Pb.toStringTag:void 0;function M5(e){var t=D5.call(e,_a),n=e[_a];try{e[_a]=void 0;var s=!0}catch{}var i=R5.call(e);return s&&(t?e[_a]=n:delete e[_a]),i}var O5=M5,N5=Object.prototype,L5=N5.toString;function V5(e){return L5.call(e)}var $5=V5,kb=Oh,F5=O5,B5=$5,U5="[object Null]",H5="[object Undefined]",Db=kb?kb.toStringTag:void 0;function j5(e){return e==null?e===void 0?H5:U5:Db&&Db in Object(e)?F5(e):B5(e)}var ws=j5;function z5(e){return e!=null&&typeof e=="object"}var Qn=z5,W5=ws,Y5=Qn,q5="[object Symbol]";function K5(e){return typeof e=="symbol"||Y5(e)&&W5(e)==q5}var xg=K5,G5=Xn,X5=xg,Q5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J5=/^\w*$/;function Z5(e,t){if(G5(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||X5(e)?!0:J5.test(e)||!Q5.test(e)||t!=null&&e in Object(t)}var Pg=Z5;function t6(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zs=t6,e6=ws,n6=Zs,s6="[object AsyncFunction]",i6="[object Function]",r6="[object GeneratorFunction]",o6="[object Proxy]";function a6(e){if(!n6(e))return!1;var t=e6(e);return t==i6||t==r6||t==s6||t==o6}var Or=a6,l6=bs,c6=l6["__core-js_shared__"],u6=c6,Nf=u6,Rb=function(){var e=/[^.]+$/.exec(Nf&&Nf.keys&&Nf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function h6(e){return!!Rb&&Rb in e}var f6=h6,d6=Function.prototype,p6=d6.toString;function g6(e){if(e!=null){try{return p6.call(e)}catch{}try{return e+""}catch{}}return""}var NI=g6,m6=Or,v6=f6,_6=Zs,y6=NI,b6=/[\\^$.*+?()[\]{}|]/g,w6=/^\[object .+?Constructor\]$/,T6=Function.prototype,E6=Object.prototype,I6=T6.toString,S6=E6.hasOwnProperty,A6=RegExp("^"+I6.call(S6).replace(b6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C6(e){if(!_6(e)||v6(e))return!1;var t=m6(e)?A6:w6;return t.test(y6(e))}var x6=C6;function P6(e,t){return e?.[t]}var k6=P6,D6=x6,R6=k6;function M6(e,t){var n=R6(e,t);return D6(n)?n:void 0}var Nr=M6,O6=Nr,N6=O6(Object,"create"),Nh=N6,Mb=Nh;function L6(){this.__data__=Mb?Mb(null):{},this.size=0}var V6=L6;function $6(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var F6=$6,B6=Nh,U6="__lodash_hash_undefined__",H6=Object.prototype,j6=H6.hasOwnProperty;function z6(e){var t=this.__data__;if(B6){var n=t[e];return n===U6?void 0:n}return j6.call(t,e)?t[e]:void 0}var W6=z6,Y6=Nh,q6=Object.prototype,K6=q6.hasOwnProperty;function G6(e){var t=this.__data__;return Y6?t[e]!==void 0:K6.call(t,e)}var X6=G6,Q6=Nh,J6="__lodash_hash_undefined__";function Z6(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Q6&&t===void 0?J6:t,this}var tB=Z6,eB=V6,nB=F6,sB=W6,iB=X6,rB=tB;function Yo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Yo.prototype.clear=eB;Yo.prototype.delete=nB;Yo.prototype.get=sB;Yo.prototype.has=iB;Yo.prototype.set=rB;var oB=Yo;function aB(){this.__data__=[],this.size=0}var lB=aB;function cB(e,t){return e===t||e!==e&&t!==t}var qo=cB,uB=qo;function hB(e,t){for(var n=e.length;n--;)if(uB(e[n][0],t))return n;return-1}var Lh=hB,fB=Lh,dB=Array.prototype,pB=dB.splice;function gB(e){var t=this.__data__,n=fB(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():pB.call(t,n,1),--this.size,!0}var mB=gB,vB=Lh;function _B(e){var t=this.__data__,n=vB(t,e);return n<0?void 0:t[n][1]}var yB=_B,bB=Lh;function wB(e){return bB(this.__data__,e)>-1}var TB=wB,EB=Lh;function IB(e,t){var n=this.__data__,s=EB(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}var SB=IB,AB=lB,CB=mB,xB=yB,PB=TB,kB=SB;function Ko(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Ko.prototype.clear=AB;Ko.prototype.delete=CB;Ko.prototype.get=xB;Ko.prototype.has=PB;Ko.prototype.set=kB;var Vh=Ko,DB=Nr,RB=bs,MB=DB(RB,"Map"),kg=MB,Ob=oB,OB=Vh,NB=kg;function LB(){this.size=0,this.__data__={hash:new Ob,map:new(NB||OB),string:new Ob}}var VB=LB;function $B(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var FB=$B,BB=FB;function UB(e,t){var n=e.__data__;return BB(t)?n[typeof t=="string"?"string":"hash"]:n.map}var $h=UB,HB=$h;function jB(e){var t=HB(this,e).delete(e);return this.size-=t?1:0,t}var zB=jB,WB=$h;function YB(e){return WB(this,e).get(e)}var qB=YB,KB=$h;function GB(e){return KB(this,e).has(e)}var XB=GB,QB=$h;function JB(e,t){var n=QB(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}var ZB=JB,tU=VB,eU=zB,nU=qB,sU=XB,iU=ZB;function Go(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}Go.prototype.clear=tU;Go.prototype.delete=eU;Go.prototype.get=nU;Go.prototype.has=sU;Go.prototype.set=iU;var Dg=Go,LI=Dg,rU="Expected a function";function Rg(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(rU);var n=function(){var s=arguments,i=t?t.apply(this,s):s[0],r=n.cache;if(r.has(i))return r.get(i);var o=e.apply(this,s);return n.cache=r.set(i,o)||r,o};return n.cache=new(Rg.Cache||LI),n}Rg.Cache=LI;var oU=Rg,aU=oU,lU=500;function cU(e){var t=aU(e,function(s){return n.size===lU&&n.clear(),s}),n=t.cache;return t}var uU=cU,hU=uU,fU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dU=/\\(\\)?/g,pU=hU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(fU,function(n,s,i,r){t.push(i?r.replace(dU,"$1"):s||n)}),t}),gU=pU;function mU(e,t){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}var vU=mU,Nb=Oh,_U=vU,yU=Xn,bU=xg,Lb=Nb?Nb.prototype:void 0,Vb=Lb?Lb.toString:void 0;function VI(e){if(typeof e=="string")return e;if(yU(e))return _U(e,VI)+"";if(bU(e))return Vb?Vb.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var wU=VI,TU=wU;function EU(e){return e==null?"":TU(e)}var IU=EU,SU=Xn,AU=Pg,CU=gU,xU=IU;function PU(e,t){return SU(e)?e:AU(e,t)?[e]:CU(xU(e))}var $I=PU,kU=ws,DU=Qn,RU="[object Arguments]";function MU(e){return DU(e)&&kU(e)==RU}var OU=MU,$b=OU,NU=Qn,FI=Object.prototype,LU=FI.hasOwnProperty,VU=FI.propertyIsEnumerable,$U=$b(function(){return arguments}())?$b:function(e){return NU(e)&&LU.call(e,"callee")&&!VU.call(e,"callee")},Mg=$U,FU=9007199254740991,BU=/^(?:0|[1-9]\d*)$/;function UU(e,t){var n=typeof e;return t=t??FU,!!t&&(n=="number"||n!="symbol"&&BU.test(e))&&e>-1&&e%1==0&&e<t}var Og=UU,HU=9007199254740991;function jU(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=HU}var Ng=jU,zU=xg;function WU(e){if(typeof e=="string"||zU(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Fh=WU,YU=$I,qU=Mg,KU=Xn,GU=Og,XU=Ng,QU=Fh;function JU(e,t,n){t=YU(t,e);for(var s=-1,i=t.length,r=!1;++s<i;){var o=QU(t[s]);if(!(r=e!=null&&n(e,o)))break;e=e[o]}return r||++s!=i?r:(i=e==null?0:e.length,!!i&&XU(i)&&GU(o,i)&&(KU(e)||qU(e)))}var BI=JU,ZU=E5,t9=BI;function e9(e,t){return e!=null&&t9(e,t,ZU)}var UI=e9,n9=ws,s9=Qn,i9="[object Date]";function r9(e){return s9(e)&&n9(e)==i9}var o9=r9;function a9(e){return function(t){return e(t)}}var HI=a9,Al={},l9={get exports(){return Al},set exports(e){Al=e}};(function(e,t){var n=MI,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,r=i&&i.exports===s,o=r&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a})(l9,Al);var c9=o9,u9=HI,Fb=Al,Bb=Fb&&Fb.isDate,h9=Bb?u9(Bb):c9,f9=h9,d9=ws,p9=Xn,g9=Qn,m9="[object String]";function v9(e){return typeof e=="string"||!p9(e)&&g9(e)&&d9(e)==m9}var Fs=v9;function _9(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}var jI=_9,y9=Vh;function b9(){this.__data__=new y9,this.size=0}var w9=b9;function T9(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var E9=T9;function I9(e){return this.__data__.get(e)}var S9=I9;function A9(e){return this.__data__.has(e)}var C9=A9,x9=Vh,P9=kg,k9=Dg,D9=200;function R9(e,t){var n=this.__data__;if(n instanceof x9){var s=n.__data__;if(!P9||s.length<D9-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new k9(s)}return n.set(e,t),this.size=n.size,this}var M9=R9,O9=Vh,N9=w9,L9=E9,V9=S9,$9=C9,F9=M9;function Xo(e){var t=this.__data__=new O9(e);this.size=t.size}Xo.prototype.clear=N9;Xo.prototype.delete=L9;Xo.prototype.get=V9;Xo.prototype.has=$9;Xo.prototype.set=F9;var Lg=Xo,B9="__lodash_hash_undefined__";function U9(e){return this.__data__.set(e,B9),this}var H9=U9;function j9(e){return this.__data__.has(e)}var z9=j9,W9=Dg,Y9=H9,q9=z9;function Vu(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new W9;++t<n;)this.add(e[t])}Vu.prototype.add=Vu.prototype.push=Y9;Vu.prototype.has=q9;var K9=Vu;function G9(e,t){return e.has(t)}var X9=G9,Q9=K9,J9=jI,Z9=X9,tH=1,eH=2;function nH(e,t,n,s,i,r){var o=n&tH,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(e),u=r.get(t);if(c&&u)return c==t&&u==e;var f=-1,d=!0,p=n&eH?new Q9:void 0;for(r.set(e,t),r.set(t,e);++f<a;){var m=e[f],_=t[f];if(s)var y=o?s(_,m,f,t,e,r):s(m,_,f,e,t,r);if(y!==void 0){if(y)continue;d=!1;break}if(p){if(!J9(t,function(T,R){if(!Z9(p,R)&&(m===T||i(m,T,n,s,r)))return p.push(R)})){d=!1;break}}else if(!(m===_||i(m,_,n,s,r))){d=!1;break}}return r.delete(e),r.delete(t),d}var zI=nH,sH=bs,iH=sH.Uint8Array,WI=iH;function rH(e){var t=-1,n=Array(e.size);return e.forEach(function(s,i){n[++t]=[i,s]}),n}var oH=rH;function aH(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var lH=aH,Ub=Oh,Hb=WI,cH=qo,uH=zI,hH=oH,fH=lH,dH=1,pH=2,gH="[object Boolean]",mH="[object Date]",vH="[object Error]",_H="[object Map]",yH="[object Number]",bH="[object RegExp]",wH="[object Set]",TH="[object String]",EH="[object Symbol]",IH="[object ArrayBuffer]",SH="[object DataView]",jb=Ub?Ub.prototype:void 0,Lf=jb?jb.valueOf:void 0;function AH(e,t,n,s,i,r,o){switch(n){case SH:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case IH:return!(e.byteLength!=t.byteLength||!r(new Hb(e),new Hb(t)));case gH:case mH:case yH:return cH(+e,+t);case vH:return e.name==t.name&&e.message==t.message;case bH:case TH:return e==t+"";case _H:var a=hH;case wH:var l=s&dH;if(a||(a=fH),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;s|=pH,o.set(e,t);var u=uH(a(e),a(t),s,i,r,o);return o.delete(e),u;case EH:if(Lf)return Lf.call(e)==Lf.call(t)}return!1}var CH=AH;function xH(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}var PH=xH,kH=PH,DH=Xn;function RH(e,t,n){var s=t(e);return DH(e)?s:kH(s,n(e))}var MH=RH;function OH(e,t){for(var n=-1,s=e==null?0:e.length,i=0,r=[];++n<s;){var o=e[n];t(o,n,e)&&(r[i++]=o)}return r}var NH=OH;function LH(){return[]}var VH=LH,$H=NH,FH=VH,BH=Object.prototype,UH=BH.propertyIsEnumerable,zb=Object.getOwnPropertySymbols,HH=zb?function(e){return e==null?[]:(e=Object(e),$H(zb(e),function(t){return UH.call(e,t)}))}:FH,jH=HH;function zH(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}var WH=zH,No={},YH={get exports(){return No},set exports(e){No=e}};function qH(){return!1}var KH=qH;(function(e,t){var n=bs,s=KH,i=t&&!t.nodeType&&t,r=i&&!0&&e&&!e.nodeType&&e,o=r&&r.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||s;e.exports=c})(YH,No);var GH=ws,XH=Ng,QH=Qn,JH="[object Arguments]",ZH="[object Array]",tj="[object Boolean]",ej="[object Date]",nj="[object Error]",sj="[object Function]",ij="[object Map]",rj="[object Number]",oj="[object Object]",aj="[object RegExp]",lj="[object Set]",cj="[object String]",uj="[object WeakMap]",hj="[object ArrayBuffer]",fj="[object DataView]",dj="[object Float32Array]",pj="[object Float64Array]",gj="[object Int8Array]",mj="[object Int16Array]",vj="[object Int32Array]",_j="[object Uint8Array]",yj="[object Uint8ClampedArray]",bj="[object Uint16Array]",wj="[object Uint32Array]",ce={};ce[dj]=ce[pj]=ce[gj]=ce[mj]=ce[vj]=ce[_j]=ce[yj]=ce[bj]=ce[wj]=!0;ce[JH]=ce[ZH]=ce[hj]=ce[tj]=ce[fj]=ce[ej]=ce[nj]=ce[sj]=ce[ij]=ce[rj]=ce[oj]=ce[aj]=ce[lj]=ce[cj]=ce[uj]=!1;function Tj(e){return QH(e)&&XH(e.length)&&!!ce[GH(e)]}var Ej=Tj,Ij=Ej,Sj=HI,Wb=Al,Yb=Wb&&Wb.isTypedArray,Aj=Yb?Sj(Yb):Ij,Vg=Aj,Cj=WH,xj=Mg,Pj=Xn,kj=No,Dj=Og,Rj=Vg,Mj=Object.prototype,Oj=Mj.hasOwnProperty;function Nj(e,t){var n=Pj(e),s=!n&&xj(e),i=!n&&!s&&kj(e),r=!n&&!s&&!i&&Rj(e),o=n||s||i||r,a=o?Cj(e.length,String):[],l=a.length;for(var c in e)(t||Oj.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Dj(c,l)))&&a.push(c);return a}var YI=Nj,Lj=Object.prototype;function Vj(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Lj;return e===n}var $g=Vj;function $j(e,t){return function(n){return e(t(n))}}var qI=$j,Fj=qI,Bj=Fj(Object.keys,Object),Uj=Bj,Hj=$g,jj=Uj,zj=Object.prototype,Wj=zj.hasOwnProperty;function Yj(e){if(!Hj(e))return jj(e);var t=[];for(var n in Object(e))Wj.call(e,n)&&n!="constructor"&&t.push(n);return t}var qj=Yj,Kj=Or,Gj=Ng;function Xj(e){return e!=null&&Gj(e.length)&&!Kj(e)}var Wl=Xj,Qj=YI,Jj=qj,Zj=Wl;function tz(e){return Zj(e)?Qj(e):Jj(e)}var Fg=tz,ez=MH,nz=jH,sz=Fg;function iz(e){return ez(e,sz,nz)}var rz=iz,qb=rz,oz=1,az=Object.prototype,lz=az.hasOwnProperty;function cz(e,t,n,s,i,r){var o=n&oz,a=qb(e),l=a.length,c=qb(t),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var d=a[f];if(!(o?d in t:lz.call(t,d)))return!1}var p=r.get(e),m=r.get(t);if(p&&m)return p==t&&m==e;var _=!0;r.set(e,t),r.set(t,e);for(var y=o;++f<l;){d=a[f];var T=e[d],R=t[d];if(s)var D=o?s(R,T,d,t,e,r):s(T,R,d,e,t,r);if(!(D===void 0?T===R||i(T,R,n,s,r):D)){_=!1;break}y||(y=d=="constructor")}if(_&&!y){var k=e.constructor,O=t.constructor;k!=O&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof O=="function"&&O instanceof O)&&(_=!1)}return r.delete(e),r.delete(t),_}var uz=cz,hz=Nr,fz=bs,dz=hz(fz,"DataView"),pz=dz,gz=Nr,mz=bs,vz=gz(mz,"Promise"),_z=vz,yz=Nr,bz=bs,wz=yz(bz,"Set"),Tz=wz,Ez=Nr,Iz=bs,Sz=Ez(Iz,"WeakMap"),Az=Sz,Fd=pz,Bd=kg,Ud=_z,Hd=Tz,jd=Az,KI=ws,Qo=NI,Kb="[object Map]",Cz="[object Object]",Gb="[object Promise]",Xb="[object Set]",Qb="[object WeakMap]",Jb="[object DataView]",xz=Qo(Fd),Pz=Qo(Bd),kz=Qo(Ud),Dz=Qo(Hd),Rz=Qo(jd),or=KI;(Fd&&or(new Fd(new ArrayBuffer(1)))!=Jb||Bd&&or(new Bd)!=Kb||Ud&&or(Ud.resolve())!=Gb||Hd&&or(new Hd)!=Xb||jd&&or(new jd)!=Qb)&&(or=function(e){var t=KI(e),n=t==Cz?e.constructor:void 0,s=n?Qo(n):"";if(s)switch(s){case xz:return Jb;case Pz:return Kb;case kz:return Gb;case Dz:return Xb;case Rz:return Qb}return t});var Mz=or,Vf=Lg,Oz=zI,Nz=CH,Lz=uz,Zb=Mz,t0=Xn,e0=No,Vz=Vg,$z=1,n0="[object Arguments]",s0="[object Array]",Mc="[object Object]",Fz=Object.prototype,i0=Fz.hasOwnProperty;function Bz(e,t,n,s,i,r){var o=t0(e),a=t0(t),l=o?s0:Zb(e),c=a?s0:Zb(t);l=l==n0?Mc:l,c=c==n0?Mc:c;var u=l==Mc,f=c==Mc,d=l==c;if(d&&e0(e)){if(!e0(t))return!1;o=!0,u=!1}if(d&&!u)return r||(r=new Vf),o||Vz(e)?Oz(e,t,n,s,i,r):Nz(e,t,l,n,s,i,r);if(!(n&$z)){var p=u&&i0.call(e,"__wrapped__"),m=f&&i0.call(t,"__wrapped__");if(p||m){var _=p?e.value():e,y=m?t.value():t;return r||(r=new Vf),i(_,y,n,s,r)}}return d?(r||(r=new Vf),Lz(e,t,n,s,i,r)):!1}var Uz=Bz,Hz=Uz,r0=Qn;function GI(e,t,n,s,i){return e===t?!0:e==null||t==null||!r0(e)&&!r0(t)?e!==e&&t!==t:Hz(e,t,n,s,GI,i)}var XI=GI,jz=Lg,zz=XI,Wz=1,Yz=2;function qz(e,t,n,s){var i=n.length,r=i,o=!s;if(e==null)return!r;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<r;){a=n[i];var l=a[0],c=e[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in e))return!1}else{var f=new jz;if(s)var d=s(c,u,l,e,t,f);if(!(d===void 0?zz(u,c,Wz|Yz,s,f):d))return!1}}return!0}var Kz=qz,Gz=Zs;function Xz(e){return e===e&&!Gz(e)}var QI=Xz,Qz=QI,Jz=Fg;function Zz(e){for(var t=Jz(e),n=t.length;n--;){var s=t[n],i=e[s];t[n]=[s,i,Qz(i)]}return t}var tW=Zz;function eW(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var JI=eW,nW=Kz,sW=tW,iW=JI;function rW(e){var t=sW(e);return t.length==1&&t[0][2]?iW(t[0][0],t[0][1]):function(n){return n===e||nW(n,e,t)}}var oW=rW,aW=$I,lW=Fh;function cW(e,t){t=aW(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[lW(t[n++])];return n&&n==s?e:void 0}var ZI=cW,uW=ZI;function hW(e,t,n){var s=e==null?void 0:uW(e,t);return s===void 0?n:s}var hr=hW;function fW(e,t){return e!=null&&t in Object(e)}var dW=fW,pW=dW,gW=BI;function mW(e,t){return e!=null&&gW(e,t,pW)}var vW=mW,_W=XI,yW=hr,bW=vW,wW=Pg,TW=QI,EW=JI,IW=Fh,SW=1,AW=2;function CW(e,t){return wW(e)&&TW(t)?EW(IW(e),t):function(n){var s=yW(n,e);return s===void 0&&s===t?bW(n,e):_W(t,s,SW|AW)}}var xW=CW;function PW(e){return e}var Bg=PW;function kW(e){return function(t){return t?.[e]}}var DW=kW,RW=ZI;function MW(e){return function(t){return RW(t,e)}}var OW=MW,NW=DW,LW=OW,VW=Pg,$W=Fh;function FW(e){return VW(e)?NW($W(e)):LW(e)}var BW=FW,UW=oW,HW=xW,jW=Bg,zW=Xn,WW=BW;function YW(e){return typeof e=="function"?e:e==null?jW:typeof e=="object"?zW(e)?HW(e[0],e[1]):UW(e):WW(e)}var tS=YW;function qW(e){return function(t,n,s){for(var i=-1,r=Object(t),o=s(t),a=o.length;a--;){var l=o[e?a:++i];if(n(r[l],l,r)===!1)break}return t}}var KW=qW,GW=KW,XW=GW(),eS=XW,QW=eS,JW=Fg;function ZW(e,t){return e&&QW(e,t,JW)}var nS=ZW,t7=Wl;function e7(e,t){return function(n,s){if(n==null)return n;if(!t7(n))return e(n,s);for(var i=n.length,r=t?i:-1,o=Object(n);(t?r--:++r<i)&&s(o[r],r,o)!==!1;);return n}}var n7=e7,s7=nS,i7=n7,r7=i7(s7),o7=r7,a7=o7;function l7(e,t){var n;return a7(e,function(s,i,r){return n=t(s,i,r),!n}),!!n}var c7=l7,u7=qo,h7=Wl,f7=Og,d7=Zs;function p7(e,t,n){if(!d7(n))return!1;var s=typeof t;return(s=="number"?h7(n)&&f7(t,n.length):s=="string"&&t in n)?u7(n[t],e):!1}var Ug=p7,g7=jI,m7=tS,v7=c7,_7=Xn,y7=Ug;function b7(e,t,n){var s=_7(e)?g7:v7;return n&&y7(e,t,n)&&(t=void 0),s(e,m7(t))}var w7=b7,T7=ws,E7=Qn,I7="[object Boolean]";function S7(e){return e===!0||e===!1||E7(e)&&T7(e)==I7}var A7=S7,C7=ws,x7=Qn,P7="[object Number]";function k7(e){return typeof e=="number"||x7(e)&&C7(e)==P7}var _s=k7,D7=Nr,R7=function(){try{var e=D7(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sS=R7,o0=sS;function M7(e,t,n){t=="__proto__"&&o0?o0(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Bh=M7,O7=Bh,N7=qo,L7=Object.prototype,V7=L7.hasOwnProperty;function $7(e,t,n){var s=e[t];(!(V7.call(e,t)&&N7(s,n))||n===void 0&&!(t in e))&&O7(e,t,n)}var F7=$7,B7=Bh,U7=nS,H7=tS;function j7(e,t){var n={};return t=H7(t),U7(e,function(s,i,r){B7(n,i,t(s,i,r))}),n}var z7=j7;function W7(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var iS=W7,Y7=iS,a0=Math.max;function q7(e,t,n){return t=a0(t===void 0?e.length-1:t,0),function(){for(var s=arguments,i=-1,r=a0(s.length-t,0),o=Array(r);++i<r;)o[i]=s[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=s[i];return a[t]=n(o),Y7(e,this,a)}}var K7=q7;function G7(e){return function(){return e}}var X7=G7,Q7=X7,l0=sS,J7=Bg,Z7=l0?function(e,t){return l0(e,"toString",{configurable:!0,enumerable:!1,value:Q7(t),writable:!0})}:J7,tY=Z7,eY=800,nY=16,sY=Date.now;function iY(e){var t=0,n=0;return function(){var s=sY(),i=nY-(s-n);if(n=s,i>0){if(++t>=eY)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var rY=iY,oY=tY,aY=rY,lY=aY(oY),cY=lY,uY=Bg,hY=K7,fY=cY;function dY(e,t){return fY(hY(e,t,uY),e+"")}var Hg=dY;function pY(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var gY=pY,mY=Zs,vY=$g,_Y=gY,yY=Object.prototype,bY=yY.hasOwnProperty;function wY(e){if(!mY(e))return _Y(e);var t=vY(e),n=[];for(var s in e)s=="constructor"&&(t||!bY.call(e,s))||n.push(s);return n}var TY=wY,EY=YI,IY=TY,SY=Wl;function AY(e){return SY(e)?EY(e,!0):IY(e)}var jg=AY,CY=Hg,xY=qo,PY=Ug,kY=jg,rS=Object.prototype,DY=rS.hasOwnProperty,RY=CY(function(e,t){e=Object(e);var n=-1,s=t.length,i=s>2?t[2]:void 0;for(i&&PY(t[0],t[1],i)&&(s=1);++n<s;)for(var r=t[n],o=kY(r),a=-1,l=o.length;++a<l;){var c=o[a],u=e[c];(u===void 0||xY(u,rS[c])&&!DY.call(e,c))&&(e[c]=r[c])}return e}),c0=RY,MY=Bh,OY=qo;function NY(e,t,n){(n!==void 0&&!OY(e[t],n)||n===void 0&&!(t in e))&&MY(e,t,n)}var oS=NY,$u={},LY={get exports(){return $u},set exports(e){$u=e}};(function(e,t){var n=bs,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,r=i&&i.exports===s,o=r?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,d=a?a(f):new c.constructor(f);return c.copy(d),d}e.exports=l})(LY,$u);var u0=WI;function VY(e){var t=new e.constructor(e.byteLength);return new u0(t).set(new u0(e)),t}var $Y=VY,FY=$Y;function BY(e,t){var n=t?FY(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var UY=BY;function HY(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}var jY=HY,zY=Zs,h0=Object.create,WY=function(){function e(){}return function(t){if(!zY(t))return{};if(h0)return h0(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),YY=WY,qY=qI,KY=qY(Object.getPrototypeOf,Object),aS=KY,GY=YY,XY=aS,QY=$g;function JY(e){return typeof e.constructor=="function"&&!QY(e)?GY(XY(e)):{}}var ZY=JY,t8=Wl,e8=Qn;function n8(e){return e8(e)&&t8(e)}var s8=n8,i8=ws,r8=aS,o8=Qn,a8="[object Object]",l8=Function.prototype,c8=Object.prototype,lS=l8.toString,u8=c8.hasOwnProperty,h8=lS.call(Object);function f8(e){if(!o8(e)||i8(e)!=a8)return!1;var t=r8(e);if(t===null)return!0;var n=u8.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&lS.call(n)==h8}var d8=f8;function p8(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var cS=p8,g8=F7,m8=Bh;function v8(e,t,n,s){var i=!n;n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],l=s?s(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?m8(n,a,l):g8(n,a,l)}return n}var _8=v8,y8=_8,b8=jg;function w8(e){return y8(e,b8(e))}var T8=w8,f0=oS,E8=$u,I8=UY,S8=jY,A8=ZY,d0=Mg,p0=Xn,C8=s8,x8=No,P8=Or,k8=Zs,D8=d8,R8=Vg,g0=cS,M8=T8;function O8(e,t,n,s,i,r,o){var a=g0(e,n),l=g0(t,n),c=o.get(l);if(c){f0(e,n,c);return}var u=r?r(a,l,n+"",e,t,o):void 0,f=u===void 0;if(f){var d=p0(l),p=!d&&x8(l),m=!d&&!p&&R8(l);u=l,d||p||m?p0(a)?u=a:C8(a)?u=S8(a):p?(f=!1,u=E8(l,!0)):m?(f=!1,u=I8(l,!0)):u=[]:D8(l)||d0(l)?(u=a,d0(a)?u=M8(a):(!k8(a)||P8(a))&&(u=A8(l))):f=!1}f&&(o.set(l,u),i(u,l,s,r,o),o.delete(l)),f0(e,n,u)}var N8=O8,L8=Lg,V8=oS,$8=eS,F8=N8,B8=Zs,U8=jg,H8=cS;function uS(e,t,n,s,i){e!==t&&$8(t,function(r,o){if(i||(i=new L8),B8(r))F8(e,t,o,n,uS,s,i);else{var a=s?s(H8(e,o),r,o+"",e,t,i):void 0;a===void 0&&(a=r),V8(e,o,a)}},U8)}var hS=uS,j8=hS,m0=Zs;function fS(e,t,n,s,i,r){return m0(e)&&m0(t)&&(r.set(t,e),j8(e,t,void 0,fS,r),r.delete(t)),e}var z8=fS,W8=Hg,Y8=Ug;function q8(e){return W8(function(t,n){var s=-1,i=n.length,r=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(r=e.length>3&&typeof r=="function"?(i--,r):void 0,o&&Y8(n[0],n[1],o)&&(r=i<3?void 0:r,i=1),t=Object(t);++s<i;){var a=n[s];a&&e(t,a,s,r)}return t})}var K8=q8,G8=hS,X8=K8,Q8=X8(function(e,t,n,s){G8(e,t,n,s)}),J8=Q8,Z8=iS,tq=Hg,eq=z8,nq=J8,sq=tq(function(e){return e.push(void 0,eq),Z8(nq,void 0,e)}),Fu=sq;function iq(e){return e&&e.length?e[0]:void 0}var dS=iq;function rq(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var no=rq;const oq=e=>Object.prototype.toString.call(e).slice(8,-1),zd=e=>f9(e)&&!isNaN(e.getTime()),Sr=e=>oq(e)==="Object",pS=UI,v0=(e,t)=>w7(t,n=>UI(e,n)),Zt=(e,t,n="0")=>{for(e=e!=null?String(e):"",t=t||2;e.length<t;)e=`${n}${e}`;return e},ps=e=>Array.isArray(e),fr=e=>ps(e)&&e.length>0,Bu=e=>e==null?null:document&&Fs(e)?document.querySelector(e):e.$el??e,_i=(e,t,n,s=void 0)=>{e.removeEventListener(t,n,s)},yi=(e,t,n,s=void 0)=>(e.addEventListener(t,n,s),()=>_i(e,t,n,s)),Qc=(e,t)=>!!e&&!!t&&(e===t||e.contains(t)),Oc=(e,t)=>{(e.key===" "||e.key==="Enter")&&(t(e),e.preventDefault())},aq=(e,...t)=>{const n={};let s;for(s in e)t.includes(s)||(n[s]=e[s]);return n},gS=(e,t)=>{const n={};return t.forEach(s=>{s in e&&(n[s]=e[s])}),n};function lq(e,t,n){return Math.min(Math.max(e,t),n)}var Uu={},cq={get exports(){return Uu},set exports(e){Uu=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(s){if(s===null||s===!0||s===!1)return NaN;var i=Number(s);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}e.exports=t.default})(cq,Uu);const uq=RI(Uu);var Hu={},hq={get exports(){return Hu},set exports(e){Hu=e}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(s){var i=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return i.setUTCFullYear(s.getFullYear()),s.getTime()-i.getTime()}e.exports=t.default})(hq,Hu);const _0=RI(Hu);function fq(e,t){var n=mq(t);return n.formatToParts?pq(n,e):gq(n,e)}var dq={year:0,month:1,day:2,hour:3,minute:4,second:5};function pq(e,t){try{for(var n=e.formatToParts(t),s=[],i=0;i<n.length;i++){var r=dq[n[i].type];r>=0&&(s[r]=parseInt(n[i].value,10))}return s}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function gq(e,t){var n=e.format(t).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[s[3],s[1],s[2],s[4],s[5],s[6]]}var $f={};function mq(e){if(!$f[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";$f[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return $f[e]}function mS(e,t,n,s,i,r,o){var a=new Date(0);return a.setUTCFullYear(e,t,n),a.setUTCHours(s,i,r,o),a}var y0=36e5,vq=6e4,Ff={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function _q(e,t,n){var s,i;if(!e||(s=Ff.timezoneZ.exec(e),s))return 0;var r;if(s=Ff.timezoneHH.exec(e),s)return r=parseInt(s[1],10),b0(r)?-(r*y0):NaN;if(s=Ff.timezoneHHMM.exec(e),s){r=parseInt(s[1],10);var o=parseInt(s[2],10);return b0(r,o)?(i=Math.abs(r)*y0+o*vq,r>0?-i:i):NaN}if(wq(e)){t=new Date(t||Date.now());var a=yq(t),l=Wd(a,e),c=bq(t,l,e);return-c}return NaN}function yq(e){return mS(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Wd(e,t){var n=fq(e,t),s=mS(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=e.getTime(),r=i%1e3;return i-=r>=0?r:1e3+r,s-i}function bq(e,t,n){var s=e.getTime(),i=s-t,r=Wd(new Date(i),n);if(t===r)return t;i-=r-t;var o=Wd(new Date(i),n);return r===o?r:Math.max(r,o)}function b0(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var w0={};function wq(e){if(w0[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),w0[e]=!0,!0}catch{return!1}}var Tq=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const Eq=Tq;var Bf=36e5,T0=6e4,Iq=2,ln={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Eq};function Sq(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n=t||{},s=n.additionalDigits==null?Iq:uq(n.additionalDigits);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=Aq(e),r=Cq(i.date,s),o=r.year,a=r.restDateString,l=xq(a,o);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),u=0,f;if(i.time&&(u=Pq(i.time),isNaN(u)))return new Date(NaN);if(i.timeZone||n.timeZone){if(f=_q(i.timeZone||n.timeZone,new Date(c+u)),isNaN(f))return new Date(NaN)}else f=_0(new Date(c+u)),f=_0(new Date(c+u+f));return new Date(c+u+f)}else return new Date(NaN)}function Aq(e){var t={},n=ln.dateTimePattern.exec(e),s;if(n?(t.date=n[1],s=n[3]):(n=ln.datePattern.exec(e),n?(t.date=n[1],s=n[2]):(t.date=null,s=e)),s){var i=ln.timeZone.exec(s);i?(t.time=s.replace(i[1],""),t.timeZone=i[1].trim()):t.time=s}return t}function Cq(e,t){var n=ln.YYY[t],s=ln.YYYYY[t],i;if(i=ln.YYYY.exec(e)||s.exec(e),i){var r=i[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(i=ln.YY.exec(e)||n.exec(e),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}return{year:null}}function xq(e,t){if(t===null)return null;var n,s,i,r;if(e.length===0)return s=new Date(0),s.setUTCFullYear(t),s;if(n=ln.MM.exec(e),n)return s=new Date(0),i=parseInt(n[1],10)-1,I0(t,i)?(s.setUTCFullYear(t,i),s):new Date(NaN);if(n=ln.DDD.exec(e),n){s=new Date(0);var o=parseInt(n[1],10);return Rq(t,o)?(s.setUTCFullYear(t,0,o),s):new Date(NaN)}if(n=ln.MMDD.exec(e),n){s=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return I0(t,i,a)?(s.setUTCFullYear(t,i,a),s):new Date(NaN)}if(n=ln.Www.exec(e),n)return r=parseInt(n[1],10)-1,S0(t,r)?E0(t,r):new Date(NaN);if(n=ln.WwwD.exec(e),n){r=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return S0(t,r,l)?E0(t,r,l):new Date(NaN)}return null}function Pq(e){var t,n,s;if(t=ln.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),Uf(n)?n%24*Bf:NaN;if(t=ln.HHMM.exec(e),t)return n=parseInt(t[1],10),s=parseFloat(t[2].replace(",",".")),Uf(n,s)?n%24*Bf+s*T0:NaN;if(t=ln.HHMMSS.exec(e),t){n=parseInt(t[1],10),s=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return Uf(n,s,i)?n%24*Bf+s*T0+i*1e3:NaN}return null}function E0(e,t,n){t=t||0,n=n||0;var s=new Date(0);s.setUTCFullYear(e,0,4);var i=s.getUTCDay()||7,r=t*7+n+1-i;return s.setUTCDate(s.getUTCDate()+r),s}var kq=[31,28,31,30,31,30,31,31,30,31,30,31],Dq=[31,29,31,30,31,30,31,31,30,31,30,31];function vS(e){return e%400===0||e%4===0&&e%100!==0}function I0(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var s=vS(e);if(s&&n>Dq[t]||!s&&n>kq[t])return!1}return!0}function Rq(e,t){if(t<1)return!1;var n=vS(e);return!(n&&t>366||!n&&t>365)}function S0(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function Uf(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function en(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Jc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jc=function(n){return typeof n}:Jc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jc(e)}function ti(e){en(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Jc(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Jo(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var Mq={};function zg(){return Mq}function Ar(e,t){var n,s,i,r,o,a,l,c;en(1,arguments);var u=zg(),f=Jo((n=(s=(i=(r=t?.weekStartsOn)!==null&&r!==void 0?r:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=ti(e),p=d.getDay(),m=(p<f?7:0)+p-f;return d.setDate(d.getDate()-m),d.setHours(0,0,0,0),d}function A0(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Oq=6048e5;function Nq(e,t,n){en(2,arguments);var s=Ar(e,n),i=Ar(t,n),r=s.getTime()-A0(s),o=i.getTime()-A0(i);return Math.round((r-o)/Oq)}function Lq(e){en(1,arguments);var t=ti(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Vq(e){en(1,arguments);var t=ti(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $q(e,t){return en(1,arguments),Nq(Lq(e),Vq(e),t)+1}function Fq(e,t){var n,s,i,r,o,a,l,c;en(1,arguments);var u=ti(e),f=u.getFullYear(),d=zg(),p=Jo((n=(s=(i=(r=t?.firstWeekContainsDate)!==null&&r!==void 0?r:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&s!==void 0?s:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setFullYear(f+1,0,p),m.setHours(0,0,0,0);var _=Ar(m,t),y=new Date(0);y.setFullYear(f,0,p),y.setHours(0,0,0,0);var T=Ar(y,t);return u.getTime()>=_.getTime()?f+1:u.getTime()>=T.getTime()?f:f-1}function Bq(e,t){var n,s,i,r,o,a,l,c;en(1,arguments);var u=zg(),f=Jo((n=(s=(i=(r=t?.firstWeekContainsDate)!==null&&r!==void 0?r:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=Fq(e,t),p=new Date(0);p.setFullYear(d,0,f),p.setHours(0,0,0,0);var m=Ar(p,t);return m}var Uq=6048e5;function Hq(e,t){en(1,arguments);var n=ti(e),s=Ar(n,t).getTime()-Bq(n,t).getTime();return Math.round(s/Uq)+1}function ju(e){return en(1,arguments),Ar(e,{weekStartsOn:1})}function jq(e){en(1,arguments);var t=ti(e),n=t.getFullYear(),s=new Date(0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);var i=ju(s),r=new Date(0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);var o=ju(r);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function zq(e){en(1,arguments);var t=jq(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var s=ju(n);return s}var Wq=6048e5;function Yq(e){en(1,arguments);var t=ti(e),n=ju(t).getTime()-zq(t).getTime();return Math.round(n/Wq)+1}function on(e,t){en(2,arguments);var n=ti(e),s=Jo(t);return isNaN(s)?new Date(NaN):(s&&n.setDate(n.getDate()+s),n)}function zu(e,t){en(2,arguments);var n=ti(e),s=Jo(t);if(isNaN(s))return new Date(NaN);if(!s)return n;var i=n.getDate(),r=new Date(n.getTime());r.setMonth(n.getMonth()+s+1,0);var o=r.getDate();return i>=o?r:(n.setFullYear(r.getFullYear(),r.getMonth(),i),n)}function C0(e,t){en(2,arguments);var n=Jo(t);return zu(e,n*12)}const qq={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function Kq({monthComps:e,prevMonthComps:t,nextMonthComps:n},s){const i=[],{firstDayOfWeek:r,firstWeekday:o,isoWeeknumbers:a,weeknumbers:l,numDays:c,numWeeks:u}=e,f=o+(o<r?ze:0)-r;let d=!0,p=!1,m=!1,_=0;const y=new Intl.DateTimeFormat(s.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let T=t.numDays-f+1,R=t.numDays-T+1,D=Math.floor((T-1)/ze+1),k=1,O=t.numWeeks,L=1,E=t.month,b=t.year;const w=new Date,A=w.getDate(),x=w.getMonth()+1,C=w.getFullYear();for(let S=1;S<=UK;S++){for(let dt=1,Q=r;dt<=ze;dt++,Q+=Q===ze?1-ze:1){d&&Q===o&&(T=1,R=e.numDays,D=Math.floor((T-1)/ze+1),k=Math.floor((c-T)/ze+1),O=1,L=u,E=e.month,b=e.year,d=!1,p=!0);const at=s.getDateFromParams(b,E,T,0,0,0,0),ot=s.getDateFromParams(b,E,T,12,0,0,0),mt=s.getDateFromParams(b,E,T,23,59,59,999),Nt=at,z=`${Zt(b,4)}-${Zt(E,2)}-${Zt(T,2)}`,At=dt,et=ze-dt,Pt=l[S-1],Rt=a[S-1],Wt=T===A&&E===x&&b===C,Ut=p&&T===1,F=p&&T===c,st=S===1,Z=S===u,ct=dt===1,Ot=dt===ze,P=xS(b,E,T);i.push({locale:s,id:z,position:++_,label:T.toString(),ariaLabel:y.format(new Date(b,E-1,T)),day:T,dayFromEnd:R,weekday:Q,weekdayPosition:At,weekdayPositionFromEnd:et,weekdayOrdinal:D,weekdayOrdinalFromEnd:k,week:O,weekFromEnd:L,weekPosition:S,weeknumber:Pt,isoWeeknumber:Rt,month:E,year:b,date:Nt,startDate:at,endDate:mt,noonDate:ot,dayIndex:P,isToday:Wt,isFirstDay:Ut,isLastDay:F,isDisabled:!p,isFocusable:!p,isFocused:!1,inMonth:p,inPrevMonth:d,inNextMonth:m,onTop:st,onBottom:Z,onLeft:ct,onRight:Ot,classes:[`id-${z}`,`day-${T}`,`day-from-end-${R}`,`weekday-${Q}`,`weekday-position-${At}`,`weekday-ordinal-${D}`,`weekday-ordinal-from-end-${k}`,`week-${O}`,`week-from-end-${L}`,{"is-today":Wt,"is-first-day":Ut,"is-last-day":F,"in-month":p,"in-prev-month":d,"in-next-month":m,"on-top":st,"on-bottom":Z,"on-left":ct,"on-right":Ot}]}),p&&F?(p=!1,m=!0,T=1,R=c,D=1,k=Math.floor((c-T)/ze+1),O=1,L=n.numWeeks,E=n.month,b=n.year):(T++,R--,D=Math.floor((T-1)/ze+1),k=Math.floor((c-T)/ze+1))}O++,L--}return i}function Gq(e,t,n,s){const i=e.reduce((r,o,a)=>{const l=Math.floor(a/7);let c=r[l];return c||(c={id:`week-${l+1}`,title:"",week:o.week,weekPosition:o.weekPosition,weeknumber:o.weeknumber,isoWeeknumber:o.isoWeeknumber,weeknumberDisplay:t?o.weeknumber:n?o.isoWeeknumber:void 0,days:[]},r[l]=c),c.days.push(o),r},Array(e.length/ze));return i.forEach(r=>{const o=r.days[0],a=r.days[r.days.length-1];o.month===a.month?r.title=`${s.formatDate(o.date,"MMMM YYYY")}`:o.year===a.year?r.title=`${s.formatDate(o.date,"MMM")} - ${s.formatDate(a.date,"MMM YYYY")}`:r.title=`${s.formatDate(o.date,"MMM YYYY")} - ${s.formatDate(a.date,"MMM YYYY")}`}),i}function Xq(e,t){return e.days.map(n=>({label:t.formatDate(n.date,t.masks.weekdays),weekday:n.weekday}))}function Qq(e,t){return`${t}.${Zt(e,2)}`}function Jq(e,t,n){return gS(n.getDateParts(n.toDate(e)),qq[t])}function _S({day:e,week:t,month:n,year:s},i,r,o){if(r==="daily"&&e){const a=new Date(s,n-1,e),l=on(a,i);return{day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()}}else if(r==="weekly"&&t){const l=o.getMonthParts(n,s).firstDayOfMonth,c=on(l,(t-1+i)*7),u=o.getDateParts(c);return{week:u.week,month:u.month,year:u.year}}else{const a=new Date(s,n-1,1),l=zu(a,i);return{month:l.getMonth()+1,year:l.getFullYear()}}}function rs(e){return e!=null&&e.month!=null&&e.year!=null}function Yd(e,t){return!rs(e)||!rs(t)?!1:(e=e,t=t,e.year!==t.year?e.year<t.year:e.month&&t.month&&e.month!==t.month?e.month<t.month:e.week&&t.week&&e.week!==t.week?e.week<t.week:e.day&&t.day&&e.day!==t.day?e.day<t.day:!1)}function Wu(e,t){return!rs(e)||!rs(t)?!1:(e=e,t=t,e.year!==t.year?e.year>t.year:e.month&&t.month&&e.month!==t.month?e.month>t.month:e.week&&t.week&&e.week!==t.week?e.week>t.week:e.day&&t.day&&e.day!==t.day?e.day>t.day:!1)}function Zq(e,t,n){return(e||!1)&&!Yd(e,t)&&!Wu(e,n)}function tK(e,t){return!e&&t||e&&!t?!1:!e&&!t?!0:(e=e,t=t,e.year===t.year&&e.month===t.month&&e.week===t.week&&e.day===t.day)}function eK(e,t,n,s){if(!rs(e)||!rs(t))return[];const i=[];for(;!Wu(e,t);)i.push(e),e=_S(e,1,n,s);return i}function yS(e){const{day:t,week:n,month:s,year:i}=e;let r=`${i}-${Zt(s,2)}`;return n&&(r=`${r}-w${n}`),t&&(r=`${r}-${Zt(t,2)}`),r}function nK(e,t){const{month:n,year:s,showWeeknumbers:i,showIsoWeeknumbers:r}=e,o=new Date(s,n-1,15),a=t.getMonthParts(n,s),l=t.getPrevMonthParts(n,s),c=t.getNextMonthParts(n,s),u=Kq({monthComps:a,prevMonthComps:l,nextMonthComps:c},t),f=Gq(u,i,r,t),d=Xq(f[0],t);return{id:yS(e),month:n,year:s,monthTitle:t.formatDate(o,t.masks.title),shortMonthLabel:t.formatDate(o,"MMM"),monthLabel:t.formatDate(o,"MMMM"),shortYearLabel:s.toString().substring(2),yearLabel:s.toString(),monthComps:a,prevMonthComps:l,nextMonthComps:c,days:u,weeks:f,weekdays:d}}function sK(e,t){const{day:n,week:s,view:i,trimWeeks:r}=e,o={...t,...e,title:"",viewDays:[],viewWeeks:[]};switch(i){case"daily":{let a=o.days.find(c=>c.inMonth);n?a=o.days.find(c=>c.day===n&&c.inMonth)||a:s&&(a=o.days.find(c=>c.week===s&&c.inMonth));const l=o.weeks[a.week-1];o.viewWeeks=[l],o.viewDays=[a],o.week=a.week,o.weekTitle=l.title,o.day=a.day,o.dayTitle=a.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=s||1;const a=o.weeks[o.week-1];o.viewWeeks=[a],o.viewDays=a.days,o.weekTitle=a.title,o.title=o.weekTitle;break}default:{o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,r?o.monthComps.numWeeks:void 0),o.viewDays=o.days;break}}return o}class x0{constructor(t,n,s){_t(this,"keys",[]),_t(this,"store",{}),this.size=t,this.createKey=n,this.createItem=s}get(...t){const n=this.createKey(...t);return this.store[n]}getOrSet(...t){const n=this.createKey(...t);if(this.store[n])return this.store[n];const s=this.createItem(...t);if(this.keys.length>=this.size){const i=this.keys.shift();i!=null&&delete this.store[i]}return this.keys.push(n),this.store[n]=s,s}}class go{constructor(t,n=new Yu){_t(this,"order"),_t(this,"locale"),_t(this,"start",null),_t(this,"end",null),_t(this,"repeat",null);var s;this.locale=n;const{start:i,end:r,span:o,order:a,repeat:l}=t;zd(i)&&(this.start=n.getDateParts(i)),zd(r)?this.end=n.getDateParts(r):this.start!=null&&o&&(this.end=n.getDateParts(on(this.start.date,o-1))),this.order=a??0,l&&(this.repeat=new qu({from:(s=this.start)==null?void 0:s.date,...l},{locale:this.locale}))}static fromMany(t,n){return(ps(t)?t:[t]).filter(s=>s).map(s=>go.from(s,n))}static from(t,n){if(t instanceof go)return t;const s={start:null,end:null};return t!=null&&(ps(t)?(s.start=t[0]??null,s.end=t[1]??null):Sr(t)?Object.assign(s,t):(s.start=t,s.end=t)),s.start!=null&&(s.start=new Date(s.start)),s.end!=null&&(s.end=new Date(s.end)),new go(s,n)}get opts(){const{order:t,locale:n}=this;return{order:t,locale:n}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:t,end:n}=this;return t&&n&&t.year===n.year&&t.month===n.month&&t.day===n.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(t){var n,s;return((n=this.start)==null?void 0:n.dayIndex)===t.dayIndex||!!((s=this.repeat)!=null&&s.passes(t))}intersectsDay(t){return this.intersectsDayRange(t,t)}intersectsRange(t){var n,s;return this.intersectsDayRange(((n=t.start)==null?void 0:n.dayIndex)??-1/0,((s=t.end)==null?void 0:s.dayIndex)??1/0)}intersectsDayRange(t,n){return!(this.start&&this.start.dayIndex>n||this.end&&this.end.dayIndex<t)}}class iK{constructor(){_t(this,"records",{})}render(t,n,s){var i,r,o,a;let l=null;const c=s[0].dayIndex,u=s[s.length-1].dayIndex;return n.hasRepeat?s.forEach(f=>{var d,p;if(n.startsOnDay(f)){const m=n.daySpan<1/0?n.daySpan:1;l={startDay:f.dayIndex,startTime:((d=n.start)==null?void 0:d.time)??0,endDay:f.dayIndex+m-1,endTime:((p=n.end)==null?void 0:p.time)??Zc},this.getRangeRecords(t).push(l)}}):n.intersectsDayRange(c,u)&&(l={startDay:((i=n.start)==null?void 0:i.dayIndex)??-1/0,startTime:((r=n.start)==null?void 0:r.time)??-1/0,endDay:((o=n.end)==null?void 0:o.dayIndex)??1/0,endTime:((a=n.end)==null?void 0:a.time)??1/0},this.getRangeRecords(t).push(l)),l}getRangeRecords(t){let n=this.records[t.key];return n||(n={ranges:[],data:t},this.records[t.key]=n),n.ranges}getCell(t,n){return this.getCells(n).find(r=>r.data.key===t)}cellExists(t,n){const s=this.records[t];return s==null?!1:s.ranges.some(i=>i.startDay<=n&&i.endDay>=n)}getCells(t){const n=Object.values(this.records),s=[],{dayIndex:i}=t;return n.forEach(({data:r,ranges:o})=>{o.filter(a=>a.startDay<=i&&a.endDay>=i).forEach(a=>{const l=i===a.startDay,c=i===a.endDay,u=l?a.startTime:0,f=new Date(t.startDate.getTime()+u),d=c?a.endTime:Zc,p=new Date(t.endDate.getTime()+d),m=u===0&&d===Zc,_=r.order||0;s.push({...a,data:r,onStart:l,onEnd:c,startTime:u,startDate:f,endTime:d,endDate:p,allDay:m,order:_})})}),s.sort((r,o)=>r.order-o.order),s}}const Gs={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};Gs.en=Gs["en-US"];Gs.es=Gs["es-ES"];Gs.no=Gs.nb;Gs.zh=Gs["zh-CN"];const rK=Object.entries(Gs).reduce((e,[t,{dow:n,L:s}])=>(e[t]={id:t,firstDayOfWeek:n,masks:{L:s}},e),{}),oK="MMMM YYYY",aK="W",lK="MMM",cK="h A",uK=["L","YYYY-MM-DD","YYYY/MM/DD"],hK=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],fK=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],dK=["h:mm A"],pK=["HH:mm"],gK="WWW, MMM D, YYYY",mK=["L","YYYY-MM-DD","YYYY/MM/DD"],vK="iso",_K="YYYY-MM-DDTHH:mm:ss.SSSZ",yK={title:oK,weekdays:aK,navMonths:lK,hours:cK,input:uK,inputDateTime:hK,inputDateTime24hr:fK,inputTime:dK,inputTime24hr:pK,dayPopover:gK,data:mK,model:vK,iso:_K},bK=300,wK=60,TK=80,EK={maxSwipeTime:bK,minHorizontalSwipeDistance:wK,maxVerticalSwipeDistance:TK},IK={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:EK,masks:yK,locales:rK,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},qd=Lo(IK),SK=G(()=>z7(qd.locales,e=>(e.masks=Fu(e.masks,qd.masks),e))),Cl=e=>typeof window<"u"&&pS(window.__vcalendar__,e)?hr(window.__vcalendar__,e):hr(qd,e),AK=12,CK=5;function xK(e,t){const n=new Intl.DateTimeFormat().resolvedOptions().locale;let s;Fs(e)?s=e:pS(e,"id")&&(s=e.id),s=(s||n).toLowerCase();const i=Object.keys(t),r=l=>i.find(c=>c.toLowerCase()===l);s=r(s)||r(s.substring(0,2))||n;const o={...t["en-IE"],...t[s],id:s,monthCacheSize:AK,pageCacheSize:CK};return Sr(e)?Fu(e,o):o}class Yu{constructor(t=void 0,n){_t(this,"id"),_t(this,"daysInWeek"),_t(this,"firstDayOfWeek"),_t(this,"masks"),_t(this,"timezone"),_t(this,"hourLabels"),_t(this,"dayNames"),_t(this,"dayNamesShort"),_t(this,"dayNamesShorter"),_t(this,"dayNamesNarrow"),_t(this,"monthNames"),_t(this,"monthNamesShort"),_t(this,"relativeTimeNames"),_t(this,"amPm",["am","pm"]),_t(this,"monthCache"),_t(this,"pageCache");const{id:s,firstDayOfWeek:i,masks:r,monthCacheSize:o,pageCacheSize:a}=xK(t,SK.value);this.monthCache=new x0(o,JK,ZK),this.pageCache=new x0(a,yS,nK),this.id=s,this.daysInWeek=ze,this.firstDayOfWeek=lq(i,1,ze),this.masks=r,this.timezone=n||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=Hf("long",this.id),this.dayNamesShort=Hf("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(l=>l.substring(0,2)),this.dayNamesNarrow=Hf("narrow",this.id),this.monthNames=O0("long",this.id),this.monthNamesShort=O0("short",this.id),this.relativeTimeNames=nG(this.id)}formatDate(t,n){return aG(t,n,this)}parseDate(t,n){return N0(t,n,this)}toDate(t,n={}){const s=new Date(NaN);let i=s;const{fillDate:r,mask:o,patch:a,rules:l}=n;if(_s(t)?(n.type="number",i=new Date(+t)):Fs(t)?(n.type="string",i=t?N0(t,o||"iso",this):s):zd(t)?(n.type="date",i=new Date(t.getTime())):KK(t)&&(n.type="object",i=this.getDateFromParts(t)),i&&(a||l)){let c=this.getDateParts(i);if(a&&r!=null){const u=this.getDateParts(this.toDate(r));c=this.getDateParts(this.toDate({...u,...gS(c,BK[a])}))}l&&(c=oG(c,l)),i=this.getDateFromParts(c)}return i||s}toDateOrNull(t,n={}){const s=this.toDate(t,n);return isNaN(s.getTime())?null:s}fromDate(t,{type:n,mask:s}={}){switch(n){case"number":return t?t.getTime():NaN;case"string":return t?this.formatDate(t,s||"iso"):"";case"object":return t?this.getDateParts(t):null;default:return t?new Date(t):null}}range(t){return go.from(t,this)}ranges(t){return go.fromMany(t,this)}getDateParts(t){return QK(t,this)}getDateFromParts(t){return kS(t,this.timezone)}getDateFromParams(t,n,s,i,r,o,a){return this.getDateFromParts({year:t,month:n,day:s,hours:i,minutes:r,seconds:o,milliseconds:a})}getPage(t){const n=this.pageCache.getOrSet(t,this);return sK(t,n)}getMonthParts(t,n){const{firstDayOfWeek:s}=this;return this.monthCache.getOrSet(t,n,s)}getThisMonthParts(){const t=new Date;return this.getMonthParts(t.getMonth()+1,t.getFullYear())}getPrevMonthParts(t,n){return t===1?this.getMonthParts(12,n-1):this.getMonthParts(t-1,n)}getNextMonthParts(t,n){return t===12?this.getMonthParts(1,n+1):this.getMonthParts(t+1,n)}getHourLabels(){return eG().map(t=>this.formatDate(t,this.masks.hours))}getDayId(t){return this.formatDate(t,"YYYY-MM-DD")}}var to=(e=>(e.Any="any",e.All="all",e))(to||{}),bS=(e=>(e.Days="days",e.Weeks="weeks",e.Months="months",e.Years="years",e))(bS||{}),wS=(e=>(e.Days="days",e.Weekdays="weekdays",e.Weeks="weeks",e.Months="months",e.Years="years",e))(wS||{}),TS=(e=>(e.OrdinalWeekdays="ordinalWeekdays",e))(TS||{});class PK{constructor(t,n,s){_t(this,"validated",!0),this.type=t,this.interval=n,this.from=s,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(t){if(!this.validated)return!0;const{date:n}=t;switch(this.type){case"days":return Wg(this.from.date,n)%this.interval===0;case"weeks":return GK(this.from.date,n)%this.interval===0;case"months":return XK(this.from.date,n)%this.interval===0;case"years":return PS(this.from.date,n)%this.interval===0;default:return!1}}}class Zo{constructor(t,n,s,i){_t(this,"components",[]),this.type=t,this.validator=s,this.getter=i,this.components=this.normalizeComponents(n)}static create(t,n){switch(t){case"days":return new kK(n);case"weekdays":return new DK(n);case"weeks":return new RK(n);case"months":return new MK(n);case"years":return new OK(n)}}normalizeComponents(t){if(this.validator(t))return[t];if(!ps(t))return[];const n=[];return t.forEach(s=>{if(!this.validator(s)){console.error(`Component value ${s} in invalid for "${this.type}" rule. This rule will be skipped.`);return}n.push(s)}),n}passes(t){return this.getter(t).some(i=>this.components.includes(i))}}class kK extends Zo{constructor(t){super("days",t,VK,({day:n,dayFromEnd:s})=>[n,-s])}}class DK extends Zo{constructor(t){super("weekdays",t,Kd,({weekday:n})=>[n])}}class RK extends Zo{constructor(t){super("weeks",t,$K,({week:n,weekFromEnd:s})=>[n,-s])}}class MK extends Zo{constructor(t){super("months",t,FK,({month:n})=>[n])}}class OK extends Zo{constructor(t){super("years",t,_s,({year:n})=>[n])}}class NK{constructor(t,n){_t(this,"components"),this.type=t,this.components=this.normalizeComponents(n)}normalizeArrayConfig(t){const n=[];return t.forEach((s,i)=>{if(_s(s)){if(i===0)return;if(!P0(t[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!Kd(s)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([t[0],s])}else ps(s)&&n.push(...this.normalizeArrayConfig(s))}),n}normalizeComponents(t){const n=[];return t.forEach((s,i)=>{if(_s(s)){if(i===0)return;if(!P0(t[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!Kd(s)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([t[0],s])}else ps(s)&&n.push(...this.normalizeArrayConfig(s))}),n}passes(t){const{weekday:n,weekdayOrdinal:s,weekdayOrdinalFromEnd:i}=t;return this.components.some(([r,o])=>(r===s||r===-i)&&n===o)}}class LK{constructor(t){_t(this,"type","function"),_t(this,"validated",!0),this.fn=t,Or(t)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(t){return this.validated?this.fn(t):!0}}class qu{constructor(t,n={},s){_t(this,"validated",!0),_t(this,"config"),_t(this,"type",to.Any),_t(this,"from"),_t(this,"until"),_t(this,"rules",[]),_t(this,"locale",new Yu),this.parent=s,n.locale&&(this.locale=n.locale),this.config=t,Or(t)?(this.type=to.All,this.rules=[new LK(t)]):ps(t)?(this.type=to.Any,this.rules=t.map(i=>new qu(i,n,this))):Sr(t)?(this.type=to.All,this.from=t.from?this.locale.getDateParts(t.from):s?.from,this.until=t.until?this.locale.getDateParts(t.until):s?.until,this.rules=this.getObjectRules(t)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(t){const n=[];if(t.every&&(Fs(t.every)&&(t.every=[1,`${t.every}s`]),ps(t.every))){const[s=1,i=bS.Days]=t.every;n.push(new PK(i,s,this.from))}return Object.values(wS).forEach(s=>{s in t&&n.push(Zo.create(s,t[s]))}),Object.values(TS).forEach(s=>{s in t&&n.push(new NK(s,t[s]))}),t.on!=null&&(ps(t.on)||(t.on=[t.on]),n.push(new qu(t.on,{locale:this.locale},this.parent))),n}passes(t){return this.validated?this.from&&t.dayIndex<=this.from.dayIndex||this.until&&t.dayIndex>=this.until.dayIndex?!1:this.type===to.Any?this.rules.some(n=>n.passes(t)):this.rules.every(n=>n.passes(t)):!0}}function VK(e){return _s(e)?e>=1&&e<=31:!1}function Kd(e){return _s(e)?e>=1&&e<=7:!1}function $K(e){return _s(e)?e>=-6&&e<=-1||e>=1&&e<=6:!1}function FK(e){return _s(e)?e>=1&&e<=12:!1}function P0(e){return!(!_s(e)||e<-5||e>5||e===0)}const BK={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},ze=7,UK=6,ES=1e3,IS=ES*60,SS=IS*60,Zc=SS*24,HK=[31,28,31,30,31,30,31,31,30,31,30,31],jK=["L","iso"],zK={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},AS=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,WK=/\[([^]*?)\]/gm,k0={D(e){return e.day},DD(e){return Zt(e.day,2)},d(e){return e.weekday-1},dd(e){return Zt(e.weekday-1,2)},W(e,t){return t.dayNamesNarrow[e.weekday-1]},WW(e,t){return t.dayNamesShorter[e.weekday-1]},WWW(e,t){return t.dayNamesShort[e.weekday-1]},WWWW(e,t){return t.dayNames[e.weekday-1]},M(e){return e.month},MM(e){return Zt(e.month,2)},MMM(e,t){return t.monthNamesShort[e.month-1]},MMMM(e,t){return t.monthNames[e.month-1]},YY(e){return String(e.year).substr(2)},YYYY(e){return Zt(e.year,4)},h(e){return e.hours%12||12},hh(e){return Zt(e.hours%12||12,2)},H(e){return e.hours},HH(e){return Zt(e.hours,2)},m(e){return e.minutes},mm(e){return Zt(e.minutes,2)},s(e){return e.seconds},ss(e){return Zt(e.seconds,2)},S(e){return Math.round(e.milliseconds/100)},SS(e){return Zt(Math.round(e.milliseconds/10),2)},SSS(e){return Zt(e.milliseconds,3)},a(e,t){return e.hours<12?t.amPm[0]:t.amPm[1]},A(e,t){return e.hours<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${Zt(Math.floor(Math.abs(t)/60),2)}`},ZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${Zt(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)}`},ZZZZ(e){const t=e.timezoneOffset;return`${t>0?"-":"+"}${Zt(Math.floor(Math.abs(t)/60),2)}:${Zt(Math.abs(t)%60,2)}`}},li=/\d\d?/,YK=/\d{3}/,qK=/\d{4}/,ya=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,D0=()=>{},R0=e=>(t,n,s)=>{const i=s[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(t.month=i)},ie={D:[li,(e,t)=>{e.day=t}],Do:[new RegExp(li.source+ya.source),(e,t)=>{e.day=parseInt(t,10)}],d:[li,D0],W:[ya,D0],M:[li,(e,t)=>{e.month=t-1}],MMM:[ya,R0("monthNamesShort")],MMMM:[ya,R0("monthNames")],YY:[li,(e,t)=>{const s=+new Date().getFullYear().toString().substr(0,2);e.year=+`${t>68?s-1:s}${t}`}],YYYY:[qK,(e,t)=>{e.year=t}],S:[/\d/,(e,t)=>{e.milliseconds=t*100}],SS:[/\d{2}/,(e,t)=>{e.milliseconds=t*10}],SSS:[YK,(e,t)=>{e.milliseconds=t}],h:[li,(e,t)=>{e.hours=t}],m:[li,(e,t)=>{e.minutes=t}],s:[li,(e,t)=>{e.seconds=t}],a:[ya,(e,t,n)=>{const s=t.toLowerCase();s===n.amPm[0]?e.isPm=!1:s===n.amPm[1]&&(e.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(e,t)=>{t==="Z"&&(t="+00:00");const n=`${t}`.match(/([+-]|\d\d)/gi);if(n){const s=+n[1]*60+parseInt(n[2],10);e.timezoneOffset=n[0]==="+"?s:-s}}]};ie.DD=ie.D;ie.dd=ie.d;ie.WWWW=ie.WWW=ie.WW=ie.W;ie.MM=ie.M;ie.mm=ie.m;ie.hh=ie.H=ie.HH=ie.h;ie.ss=ie.s;ie.A=ie.a;ie.ZZZZ=ie.ZZZ=ie.ZZ=ie.Z;function CS(e,t){return(fr(e)&&e||[Fs(e)&&e||"YYYY-MM-DD"]).map(n=>jK.reduce((s,i)=>s.replace(i,t.masks[i]||""),n))}function KK(e){return Sr(e)&&"year"in e&&"month"in e&&"day"in e}function M0(e,t=1){const n=e.getDay()+1,s=n>=t?t-n:-(7-(t-n));return on(e,s)}function xS(e,t,n){const s=Date.UTC(e,t-1,n);return Wg(new Date(0),new Date(s))}function Wg(e,t){return Math.round((t.getTime()-e.getTime())/Zc)}function GK(e,t){return Math.ceil(Wg(M0(e),M0(t))/7)}function PS(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}function XK(e,t){return PS(e,t)*12+(t.getMonth()-e.getMonth())}function kS(e,t=""){const n=new Date,{year:s=n.getFullYear(),month:i=n.getMonth()+1,day:r=n.getDate(),hours:o=0,minutes:a=0,seconds:l=0,milliseconds:c=0}=e;if(t){const u=`${Zt(s,4)}-${Zt(i,2)}-${Zt(r,2)}T${Zt(o,2)}:${Zt(a,2)}:${Zt(l,2)}.${Zt(c,3)}`;return Sq(u,{timeZone:t})}return new Date(s,i-1,r,o,a,l,c)}function QK(e,t){let n=new Date(e.getTime());t.timezone&&(n=new Date(e.toLocaleString("en-US",{timeZone:t.timezone})),n.setMilliseconds(e.getMilliseconds()));const s=n.getMilliseconds(),i=n.getSeconds(),r=n.getMinutes(),o=n.getHours(),a=s+i*ES+r*IS+o*SS,l=n.getMonth()+1,c=n.getFullYear(),u=t.getMonthParts(l,c),f=n.getDate(),d=u.numDays-f+1,p=n.getDay()+1,m=Math.floor((f-1)/7+1),_=Math.floor((u.numDays-f)/7+1),y=Math.ceil((f+Math.abs(u.firstWeekday-u.firstDayOfWeek))/7),T=u.numWeeks-y+1,R=u.weeknumbers[y],D=xS(c,l,f);return{milliseconds:s,seconds:i,minutes:r,hours:o,time:a,day:f,dayFromEnd:d,weekday:p,weekdayOrdinal:m,weekdayOrdinalFromEnd:_,week:y,weekFromEnd:T,weeknumber:R,month:l,year:c,date:n,dateTime:n.getTime(),dayIndex:D,timezoneOffset:0,isValid:!0}}function JK(e,t,n){return`${t}-${e}-${n}`}function ZK(e,t,n){const s=t%4===0&&t%100!==0||t%400===0,i=new Date(t,e-1,1),r=i.getDay()+1,o=e===2&&s?29:HK[e-1],a=n-1,l=$q(i,{weekStartsOn:a}),c=[],u=[];for(let f=0;f<l;f++){const d=on(i,f*7);c.push(Hq(d,{weekStartsOn:a})),u.push(Yq(d))}return{firstDayOfWeek:n,firstDayOfMonth:i,inLeapYear:s,firstWeekday:r,numDays:o,numWeeks:l,month:e,year:t,weeknumbers:c,isoWeeknumbers:u}}function tG(){const e=[];for(let i=0;i<ze;i++)e.push(kS({year:2020,month:1,day:5+i,hours:12}));return e}function Hf(e,t=void 0){const n=new Intl.DateTimeFormat(t,{weekday:e});return tG().map(s=>n.format(s))}function eG(){const e=[];for(let t=0;t<=24;t++)e.push(new Date(2e3,0,1,t));return e}function nG(e=void 0){const t=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(e);return t.reduce((s,i)=>{const r=n.formatToParts(100,i);return s[i]=r[1].unit,s},{})}function DS(){const e=[];for(let t=0;t<12;t++)e.push(new Date(2e3,t,15));return e}function O0(e,t=void 0){const n=new Intl.DateTimeFormat(t,{month:e,timeZone:"UTC"});return DS().map(s=>n.format(s))}function sG(e,t,n){return _s(t)?t===e:ps(t)?t.includes(e):Or(t)?t(e,n):!(t.min!=null&&t.min>e||t.max!=null&&t.max<e||t.interval!=null&&e%t.interval!==0)}function iG(e,t,n){const s=[],[i,r,o]=t;for(let a=i;a<=r;a++)(n==null||sG(a,n,e))&&s.push({value:a,label:Zt(a,o)});return s}function rG(e,t,n,s){const r=iG(e,t,s).reduce((o,a)=>{if(a.disabled)return o;if(isNaN(o))return a.value;const l=Math.abs(o-n);return Math.abs(a.value-n)<l?a.value:o},NaN);return isNaN(r)?n:r}function oG(e,t){const n={...e};return Object.entries(t).forEach(([s,i])=>{const r=zK[s],o=e[s];n[s]=rG(e,r,o,i)}),n}function N0(e,t,n){return CS(t,n).map(i=>{if(typeof i!="string")throw new Error("Invalid mask");let r=e;if(r.length>1e3)return!1;let o=!0;const a={};if(i.replace(AS,u=>{if(ie[u]){const f=ie[u],d=r.search(f[0]);~d?r.replace(f[0],p=>(f[1](a,p,n),r=r.substr(d+p.length),p)):o=!1}return ie[u]?"":u.slice(1,u.length-1)}),!o)return!1;const l=new Date;a.hours!=null&&(a.isPm===!0&&+a.hours!=12?a.hours=+a.hours+12:a.isPm===!1&&+a.hours==12&&(a.hours=0));let c;return a.timezoneOffset!=null?(a.minutes=+(a.minutes||0)-+a.timezoneOffset,c=new Date(Date.UTC(a.year||l.getFullYear(),a.month||0,a.day||1,a.hours||0,a.minutes||0,a.seconds||0,a.milliseconds||0))):c=n.getDateFromParts({year:a.year||l.getFullYear(),month:(a.month||0)+1,day:a.day||1,hours:a.hours||0,minutes:a.minutes||0,seconds:a.seconds||0,milliseconds:a.milliseconds||0}),c}).find(i=>i)||new Date(e)}function aG(e,t,n){if(e==null)return"";let s=CS(t,n)[0];/Z$/.test(s)&&(n.timezone="utc");const i=[];s=s.replace(WK,(o,a)=>(i.push(a),"??"));const r=n.getDateParts(e);return s=s.replace(AS,o=>o in k0?k0[o](r,n):o.slice(1,o.length-1)),s.replace(/\?\?/g,()=>i.shift())}let lG=0;class RS{constructor(t,n,s){_t(this,"key",""),_t(this,"hashcode",""),_t(this,"highlight",null),_t(this,"content",null),_t(this,"dot",null),_t(this,"bar",null),_t(this,"event",null),_t(this,"popover",null),_t(this,"customData",null),_t(this,"ranges"),_t(this,"hasRanges",!1),_t(this,"order",0),_t(this,"pinPage",!1),_t(this,"maxRepeatSpan",0),_t(this,"locale");const{dates:i}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},t);this.key||(this.key=++lG),this.locale=s,n.normalizeGlyphs(this),this.ranges=s.ranges(i??[]),this.hasRanges=!!fr(this.ranges),this.maxRepeatSpan=this.ranges.filter(r=>r.hasRepeat).map(r=>r.daySpan).reduce((r,o)=>Math.max(r,o),0)}intersectsRange({start:t,end:n}){if(t==null||n==null)return!1;const s=this.ranges.filter(o=>!o.hasRepeat);for(const o of s)if(o.intersectsDayRange(t.dayIndex,n.dayIndex))return!0;const i=this.ranges.filter(o=>o.hasRepeat);if(!i.length)return!1;let r=t;for(this.maxRepeatSpan>1&&(r=this.locale.getDateParts(on(r.date,-this.maxRepeatSpan)));r.dayIndex<=n.dayIndex;){for(const o of i)if(o.startsOnDay(r))return!0;r=this.locale.getDateParts(on(r.date,1))}return!1}}function L0(e){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:e}))}function Ku(e){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:e}))}function cG(e){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:e}))}function uG(e){const{visibility:t}=e,n=t==="click",s=t==="hover",i=t==="hover-focus",r=t==="focus";e.autoHide=!n;let o=!1,a=!1;const l=m=>{n&&(cG({...e,target:e.target||m.currentTarget}),m.stopPropagation())},c=m=>{o||(o=!0,(s||i)&&L0({...e,target:e.target||m.currentTarget}))},u=()=>{o&&(o=!1,(s||i&&!a)&&Ku(e))},f=m=>{a||(a=!0,(r||i)&&L0({...e,target:e.target||m.currentTarget}))},d=m=>{a&&!Qc(m.currentTarget,m.relatedTarget)&&(a=!1,(r||i&&!o)&&Ku(e))},p={};switch(e.visibility){case"click":p.click=l;break;case"hover":p.mousemove=c,p.mouseleave=u;break;case"focus":p.focusin=f,p.focusout=d;break;case"hover-focus":p.mousemove=c,p.mouseleave=u,p.focusin=f,p.focusout=d;break}return p}const V0=e=>{const t=Bu(e);if(t==null)return;const n=t.popoverHandlers;!n||!n.length||(n.forEach(s=>s()),delete t.popoverHandlers)},$0=(e,t)=>{const n=Bu(e);if(n==null)return;const s=[],i=uG(t);Object.entries(i).forEach(([r,o])=>{s.push(yi(n,r,o))}),n.popoverHandlers=s},MS={mounted(e,t){const{value:n}=t;n&&$0(e,n)},updated(e,t){const{oldValue:n,value:s}=t,i=n?.visibility,r=s?.visibility;i!==r&&(i&&(V0(e),r||Ku(n)),r&&$0(e,s))},unmounted(e){V0(e)}},hG=(e,t,{maxSwipeTime:n,minHorizontalSwipeDistance:s,maxVerticalSwipeDistance:i})=>{if(!e||!e.addEventListener||!Or(t))return null;let r=0,o=0,a=null,l=!1;function c(f){const d=f.changedTouches[0];r=d.screenX,o=d.screenY,a=new Date().getTime(),l=!0}function u(f){if(!l||!a)return;l=!1;const d=f.changedTouches[0],p=d.screenX-r,m=d.screenY-o;if(new Date().getTime()-a<n&&Math.abs(p)>=s&&Math.abs(m)<=i){const y={toLeft:!1,toRight:!1};p<0?y.toLeft=!0:y.toRight=!0,t(y)}}return yi(e,"touchstart",c,{passive:!0}),yi(e,"touchend",u,{passive:!0}),()=>{_i(e,"touchstart",c),_i(e,"touchend",u)}},tu={},fG=(e,t=10)=>{tu[e]=Date.now()+t},dG=(e,t)=>{if(e in tu){const n=tu[e];if(Date.now()<n)return;delete tu[e]}t()};function OS(){return typeof window<"u"}function pG(e){return OS()&&e in window}function gG(e){const t=Vt(!1),n=G(()=>t.value?"dark":"light");let s,i;function r(p){t.value=p.matches}function o(){pG("matchMedia")&&(s=window.matchMedia("(prefers-color-scheme: dark)"),s.addEventListener("change",r),t.value=s.matches)}function a(){const{selector:p=":root",darkClass:m="dark"}=e.value,_=document.querySelector(p);t.value=_.classList.contains(m)}function l(p){const{selector:m=":root",darkClass:_="dark"}=p;if(OS()&&m&&_){const y=document.querySelector(m);y&&(i=new MutationObserver(a),i.observe(y,{attributes:!0,attributeFilter:["class"]}),t.value=y.classList.contains(_))}}function c(){f();const p=typeof e.value;p==="string"&&e.value.toLowerCase()==="system"?o():p==="object"?l(e.value):t.value=!!e.value}const u=an(()=>e.value,()=>c(),{immediate:!0});function f(){s&&(s.removeEventListener("change",r),s=void 0),i&&(i.disconnect(),i=void 0)}function d(){f(),u()}return Vo(()=>d()),{isDark:t,displayMode:n,cleanup:d}}const mG=["base","start","end","startEnd"],vG=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],_G={base:{},start:{},end:{}};function Yg(e,t,n=_G){let s=e,i={};t===!0||Fs(t)?(s=Fs(t)?t:s,i={...n}):Sr(t)&&(v0(t,mG)?i={...t}:i={base:{...t},start:{...t},end:{...t}});const r=Fu(i,{start:i.startEnd,end:i.startEnd},n);return Object.entries(r).forEach(([o,a])=>{let l=s;a===!0||Fs(a)?(l=Fs(a)?a:l,r[o]={color:l}):Sr(a)&&(v0(a,vG)?r[o]={...a}:r[o]={}),Fu(r[o],{color:l})}),r}class yG{constructor(){_t(this,"type","highlight")}normalizeConfig(t,n){return Yg(t,n,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(t){t.highlights=[],t.content||(t.content=[])}render({data:t,onStart:n,onEnd:s},i){const{key:r,highlight:o}=t;if(!o)return;const{highlights:a}=i,{base:l,start:c,end:u}=o;n&&s?a.push({...c,key:r,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]}):n?(a.push({...l,key:`${r}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...c,key:r,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):s?(a.push({...l,key:`${r}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...u,key:r,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]})):a.push({...l,key:`${r}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})}}class qg{constructor(t,n){_t(this,"type",""),_t(this,"collectionType",""),this.type=t,this.collectionType=n}normalizeConfig(t,n){return Yg(t,n)}prepareRender(t){t[this.collectionType]=[]}render({data:t,onStart:n,onEnd:s},i){const{key:r}=t,o=t[this.type];if(!r||!o)return;const a=i[this.collectionType],{base:l,start:c,end:u}=o;n?a.push({...c,key:r,class:[`vc-${this.type} vc-${this.type}-start vc-${c.color} vc-attr`,c.class]}):s?a.push({...u,key:r,class:[`vc-${this.type} vc-${this.type}-end vc-${u.color} vc-attr`,u.class]}):a.push({...l,key:r,class:[`vc-${this.type} vc-${this.type}-base vc-${l.color} vc-attr`,l.class]})}}class bG extends qg{constructor(){super("content","content")}normalizeConfig(t,n){return Yg("base",n)}}class wG extends qg{constructor(){super("dot","dots")}}class TG extends qg{constructor(){super("bar","bars")}}class EG{constructor(t){_t(this,"color"),_t(this,"renderers",[new bG,new yG,new wG,new TG]),this.color=t}normalizeGlyphs(t){this.renderers.forEach(n=>{const s=n.type;t[s]!=null&&(t[s]=n.normalizeConfig(this.color,t[s]))})}prepareRender(t={}){return this.renderers.forEach(n=>{n.prepareRender(t)}),t}render(t,n){this.renderers.forEach(s=>{s.render(t,n)})}}const NS=Symbol("__vc_base_context__"),IG={color:{type:String,default:()=>Cl("color")},isDark:{type:[Boolean,String,Object],default:()=>Cl("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function SG(e){const t=G(()=>e.color??""),n=G(()=>e.isDark??!1),{displayMode:s}=gG(n),i=G(()=>new EG(t.value)),r=G(()=>{if(e.locale instanceof Yu)return e.locale;const d=Sr(e.locale)?e.locale:{id:e.locale,firstDayOfWeek:e.firstDayOfWeek,masks:e.masks};return new Yu(d,e.timezone)}),o=G(()=>r.value.masks),a=G(()=>e.minDate),l=G(()=>e.maxDate),c=G(()=>{const d=e.disabledDates?[...e.disabledDates]:[];return a.value!=null&&d.push({start:null,end:on(r.value.toDate(a.value),-1)}),l.value!=null&&d.push({start:on(r.value.toDate(l.value),1),end:null}),r.value.ranges(d)}),u=G(()=>new RS({key:"disabled",dates:c.value,order:100},i.value,r.value)),f={color:t,isDark:n,displayMode:s,theme:i,locale:r,masks:o,minDate:a,maxDate:l,disabledDates:c,disabledAttribute:u};return Ei(NS,f),f}function AG(e){return gn(NS,()=>SG(e),!0)}function LS(e){return`__vc_slot_${e}__`}function CG(e,t={}){Object.keys(e).forEach(n=>{Ei(LS(t[n]??n),e[n])})}function VS(e){return gn(LS(e),null)}const xG={...IG,view:{type:String,default:"monthly",validator(e){return["daily","weekly","monthly"].includes(e)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>Cl("titlePosition")},navVisibility:{type:String,default:()=>Cl("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},PG=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],$S=Symbol("__vc_calendar_context__");function kG(e,{slots:t,emit:n}){const s=Vt(null),i=Vt(null),r=Vt(new Date().getDate()),o=Vt(!1),a=Vt(Symbol()),l=Vt(Symbol()),c=Vt(e.view),u=Vt([]),f=Vt("");let d=null,p=null;CG(t);const{theme:m,color:_,displayMode:y,locale:T,masks:R,minDate:D,maxDate:k,disabledAttribute:O,disabledDates:L}=AG(e),E=G(()=>e.rows*e.columns),b=G(()=>e.step||E.value),w=G(()=>dS(u.value)??null),A=G(()=>no(u.value)??null),x=G(()=>e.minPage||(D.value?et(D.value):null)),C=G(()=>e.maxPage||(k.value?et(k.value):null)),S=G(()=>e.navVisibility),dt=G(()=>!!e.showWeeknumbers),Q=G(()=>!!e.showIsoWeeknumbers),at=G(()=>c.value==="monthly"),ot=G(()=>c.value==="weekly"),mt=G(()=>c.value==="daily"),Nt=()=>{o.value=!0,n("transition-start")},z=()=>{o.value=!1,n("transition-end"),d&&(d.resolve(!0),d=null)},At=(Y,tt,Ct=c.value)=>_S(Y,tt,Ct,T.value),et=Y=>Jq(Y,c.value,T.value),Pt=Y=>{!O.value||!Z.value||(Y.isDisabled=Z.value.cellExists(O.value.key,Y.dayIndex))},Rt=Y=>{Y.isFocusable=Y.inMonth&&Y.day===r.value},Wt=(Y,tt)=>{for(const Ct of Y)for(const qt of Ct.days)if(tt(qt)===!1)return},Ut=G(()=>u.value.reduce((Y,tt)=>(Y.push(...tt.viewDays),Y),[])),F=G(()=>{const Y=[];return(e.attributes||[]).forEach((tt,Ct)=>{!tt||!tt.dates||Y.push(new RS({...tt,order:tt.order||0},m.value,T.value))}),O.value&&Y.push(O.value),Y}),st=G(()=>fr(F.value)),Z=G(()=>{const Y=new iK;return F.value.forEach(tt=>{tt.ranges.forEach(Ct=>{Y.render(tt,Ct,Ut.value)})}),Y}),ct=G(()=>Ut.value.reduce((Y,tt)=>(Y[tt.dayIndex]={day:tt,cells:[]},Y[tt.dayIndex].cells.push(...Z.value.getCells(tt)),Y),{})),Ot=(Y,tt)=>{const Ct=e.showWeeknumbers||e.showIsoWeeknumbers;return Ct==null?"":A7(Ct)?Ct?"left":"":Ct.startsWith("right")?tt>1?"right":Ct:Y>1?"left":Ct},P=()=>{var Y,tt;if(!st.value)return null;const Ct=F.value.find(En=>En.pinPage)||F.value[0];if(!Ct||!Ct.hasRanges)return null;const[qt]=Ct.ranges,he=((Y=qt.start)==null?void 0:Y.date)||((tt=qt.end)==null?void 0:tt.date);return he?et(he):null},M=()=>{if(rs(w.value))return w.value;const Y=P();return rs(Y)?Y:et(new Date)},N=(Y,tt={})=>{const{view:Ct=c.value,position:qt=1,force:he}=tt,En=qt>0?1-qt:-(E.value+qt);let In=At(Y,En,Ct),_n=At(In,E.value-1,Ct);return he||(Yd(In,x.value)?In=x.value:Wu(_n,C.value)&&(In=At(C.value,1-E.value)),_n=At(In,E.value-1)),{fromPage:In,toPage:_n}},B=(Y,tt,Ct="")=>{if(Ct==="none"||Ct==="fade")return Ct;if(Y?.view!==tt?.view)return"fade";const qt=Wu(tt,Y),he=Yd(tt,Y);return!qt&&!he?"fade":Ct==="slide-v"?he?"slide-down":"slide-up":he?"slide-right":"slide-left"},H=(Y={})=>new Promise((tt,Ct)=>{const{position:qt=1,force:he=!1,transition:En}=Y,In=rs(Y.page)?Y.page:M(),{fromPage:_n}=N(In,{position:qt,force:he}),$r=[];for(let Ts=0;Ts<E.value;Ts++){const Yl=At(_n,Ts),Es=Ts+1,ta=Math.ceil(Es/e.columns),Me=e.rows-ta+1,Fr=Es%e.columns||e.columns,ei=e.columns-Fr+1,Wi=Ot(Fr,ei);$r.push(T.value.getPage({...Yl,view:c.value,titlePosition:e.titlePosition,trimWeeks:e.trimWeeks,position:Es,row:ta,rowFromEnd:Me,column:Fr,columnFromEnd:ei,showWeeknumbers:dt.value,showIsoWeeknumbers:Q.value,weeknumberPosition:Wi}))}f.value=B(u.value[0],$r[0],En),u.value=$r,f.value&&f.value!=="none"?d={resolve:tt,reject:Ct}:tt(!0)}),U=Y=>{const tt=w.value??et(new Date);return At(tt,Y)},it=(Y,tt={})=>{const Ct=rs(Y)?Y:et(Y);return Object.assign(tt,N(Ct,{...tt,force:!0})),eK(tt.fromPage,tt.toPage,c.value,T.value).map(he=>Zq(he,x.value,C.value)).some(he=>he)},J=(Y,tt={})=>it(U(Y),tt),K=G(()=>J(-b.value)),W=G(()=>J(b.value)),pt=async(Y,tt={})=>!tt.force&&!it(Y,tt)?!1:(tt.fromPage&&!tK(tt.fromPage,w.value)&&(Ku({id:a.value,hideDelay:0}),tt.view&&(fG("view",10),c.value=tt.view),await H({...tt,page:tt.fromPage,position:1,force:!0}),n("did-move",u.value)),!0),nt=(Y,tt={})=>pt(U(Y),tt),ht=()=>nt(-b.value),yt=()=>nt(b.value),vt=Y=>{const tt=at.value?".in-month":"",Ct=`.id-${T.value.getDayId(Y)}${tt}`,qt=`${Ct}.vc-focusable, ${Ct} .vc-focusable`,he=s.value;if(he){const En=he.querySelector(qt);if(En)return En.focus(),!0}return!1},It=async(Y,tt={})=>vt(Y)?!0:(await pt(Y,tt),vt(Y)),Lt=(Y,tt)=>{r.value=Y.day,n("dayclick",Y,tt)},be=(Y,tt)=>{n("daymouseenter",Y,tt)},we=(Y,tt)=>{n("daymouseleave",Y,tt)},cn=(Y,tt)=>{r.value=Y.day,i.value=Y,Y.isFocused=!0,n("dayfocusin",Y,tt)},Ae=(Y,tt)=>{i.value=null,Y.isFocused=!1,n("dayfocusout",Y,tt)},Un=(Y,tt)=>{n("daykeydown",Y,tt);const Ct=Y.noonDate;let qt=null;switch(tt.key){case"ArrowLeft":{qt=on(Ct,-1);break}case"ArrowRight":{qt=on(Ct,1);break}case"ArrowUp":{qt=on(Ct,-7);break}case"ArrowDown":{qt=on(Ct,7);break}case"Home":{qt=on(Ct,-Y.weekdayPosition+1);break}case"End":{qt=on(Ct,Y.weekdayPositionFromEnd);break}case"PageUp":{tt.altKey?qt=C0(Ct,-1):qt=zu(Ct,-1);break}case"PageDown":{tt.altKey?qt=C0(Ct,1):qt=zu(Ct,1);break}}qt&&(tt.preventDefault(),It(qt).catch())},zi=Y=>{const tt=i.value;tt!=null&&Un(tt,Y)},Te=(Y,tt)=>{n("weeknumberclick",Y,tt)};H({page:e.initialPage,position:e.initialPagePosition}),ys(()=>{!e.disablePageSwipe&&s.value&&(p=hG(s.value,({toLeft:Y=!1,toRight:tt=!1})=>{Y?yt():tt&&ht()},Cl("touch")))}),Vo(()=>{u.value=[],p&&p()}),an(()=>T.value,()=>{H()}),an(()=>E.value,()=>H()),an(()=>e.view,()=>c.value=e.view),an(()=>c.value,()=>{dG("view",()=>{H()}),n("update:view",c.value)}),an(()=>r.value,()=>{Wt(u.value,Y=>Rt(Y))}),Uw(()=>{n("update:pages",u.value),Wt(u.value,Y=>{Pt(Y),Rt(Y)})});const nn={emit:n,containerRef:s,focusedDay:i,inTransition:o,navPopoverId:a,dayPopoverId:l,view:c,pages:u,transitionName:f,theme:m,color:_,displayMode:y,locale:T,masks:R,attributes:F,disabledAttribute:O,disabledDates:L,attributeContext:Z,days:Ut,dayCells:ct,count:E,step:b,firstPage:w,lastPage:A,canMovePrev:K,canMoveNext:W,minPage:x,maxPage:C,isMonthly:at,isWeekly:ot,isDaily:mt,navVisibility:S,showWeeknumbers:dt,showIsoWeeknumbers:Q,getDateAddress:et,canMove:it,canMoveBy:J,move:pt,moveBy:nt,movePrev:ht,moveNext:yt,onTransitionBeforeEnter:Nt,onTransitionAfterEnter:z,tryFocusDate:vt,focusDate:It,onKeydown:zi,onDayKeydown:Un,onDayClick:Lt,onDayMouseenter:be,onDayMouseleave:we,onDayFocusin:cn,onDayFocusout:Ae,onWeeknumberClick:Te};return Ei($S,nn),nn}function Lr(){const e=gn($S);if(e)return e;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const DG=tn({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(e,{emit:t}){let n;const s=Vt();let i=null,r=null;const o=Lo({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function a(z){z&&(o.direction=z.split("-")[0])}function l({placement:z,options:At}){a(z||At?.placement)}const c=G(()=>({placement:o.placement,strategy:o.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...o.modifiers||[]],onFirstUpdate:l})),u=G(()=>{const z=o.direction==="left"||o.direction==="right";let At="";if(o.placement){const et=o.placement.split("-");et.length>1&&(At=et[1])}return["start","top","left"].includes(At)?z?"top":"left":["end","bottom","right"].includes(At)?z?"bottom":"right":z?"middle":"center"});function f(){r&&(r.destroy(),r=null)}function d(){mo(()=>{const z=Bu(o.target);!z||!s.value||(r&&r.state.elements.reference!==z&&f(),r?r.update():r=v5(z,s.value,c.value))})}function p(z){Object.assign(o,aq(z,"force"))}function m(z,At){clearTimeout(n),z>0?n=setTimeout(At,z):At()}function _(z){return!z||!r?!1:Bu(z)===r.state.elements.reference}async function y(z={}){o.force||(z.force&&(o.force=!0),m(z.showDelay??e.showDelay,()=>{o.isVisible&&(o.force=!1),p({...z,isVisible:!0}),d()}))}function T(z={}){r&&(z.target&&!_(z.target)||o.force||(z.force&&(o.force=!0),m(z.hideDelay??e.hideDelay,()=>{o.isVisible||(o.force=!1),o.isVisible=!1})))}function R(z={}){z.target!=null&&(o.isVisible&&_(z.target)?T(z):y(z))}function D(z){if(!r)return;const At=r.state.elements.reference;if(!s.value||!At)return;const et=z.target;Qc(s.value,et)||Qc(At,et)||T({force:!0})}function k(z){(z.key==="Esc"||z.key==="Escape")&&T()}function O({detail:z}){!z.id||z.id!==e.id||y(z)}function L({detail:z}){!z.id||z.id!==e.id||T(z)}function E({detail:z}){!z.id||z.id!==e.id||R(z)}function b(){yi(document,"keydown",k),yi(document,"click",D),yi(document,"show-popover",O),yi(document,"hide-popover",L),yi(document,"toggle-popover",E)}function w(){_i(document,"keydown",k),_i(document,"click",D),_i(document,"show-popover",O),_i(document,"hide-popover",L),_i(document,"toggle-popover",E)}function A(z){t("before-show",z)}function x(z){o.force=!1,t("after-show",z)}function C(z){t("before-hide",z)}function S(z){o.force=!1,f(),t("after-hide",z)}function dt(z){z.stopPropagation()}function Q(){o.isHovered=!0,o.isInteractive&&["hover","hover-focus"].includes(o.visibility)&&y()}function at(){if(o.isHovered=!1,!r)return;const z=r.state.elements.reference;o.autoHide&&!o.isFocused&&(!z||z!==document.activeElement)&&["hover","hover-focus"].includes(o.visibility)&&T()}function ot(){o.isFocused=!0,o.isInteractive&&["focus","hover-focus"].includes(o.visibility)&&y()}function mt(z){["focus","hover-focus"].includes(o.visibility)&&(!z.relatedTarget||!Qc(s.value,z.relatedTarget))&&(o.isFocused=!1,!o.isHovered&&o.autoHide&&T())}function Nt(){i!=null&&(i.disconnect(),i=null)}return an(()=>s.value,z=>{Nt(),z&&(i=new ResizeObserver(()=>{r&&r.update()}),i.observe(z))}),an(()=>o.placement,a,{immediate:!0}),ys(()=>{b()}),Vo(()=>{f(),Nt(),w()}),{...QA(o),popoverRef:s,alignment:u,hide:T,setupPopper:d,beforeEnter:A,afterEnter:x,beforeLeave:C,afterLeave:S,onClick:dt,onMouseOver:Q,onMouseLeave:at,onFocusIn:ot,onFocusOut:mt}}}),Vr=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n};function RG(e,t,n,s,i,r){return lt(),gt("div",{class:se(["vc-popover-content-wrapper",{"is-interactive":e.isInteractive}]),ref:"popoverRef",onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o)),onMouseover:t[1]||(t[1]=(...o)=>e.onMouseOver&&e.onMouseOver(...o)),onMouseleave:t[2]||(t[2]=(...o)=>e.onMouseLeave&&e.onMouseLeave(...o)),onFocusin:t[3]||(t[3]=(...o)=>e.onFocusIn&&e.onFocusIn(...o)),onFocusout:t[4]||(t[4]=(...o)=>e.onFocusOut&&e.onFocusOut(...o))},[xt(uh,{name:`vc-${e.transition}`,appear:"",onBeforeEnter:e.beforeEnter,onAfterEnter:e.afterEnter,onBeforeLeave:e.beforeLeave,onAfterLeave:e.afterLeave},{default:me(()=>[e.isVisible?(lt(),gt("div",kl({key:0,tabindex:"-1",class:`vc-popover-content direction-${e.direction}`},e.$attrs),[rh(e.$slots,"default",{direction:e.direction,alignment:e.alignment,data:e.data,hide:e.hide},()=>[lh(Je(e.data),1)]),X("span",{class:se(["vc-popover-caret",`direction-${e.direction}`,`align-${e.alignment}`])},null,2)],16)):Fe("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const FS=Vr(DG,[["render",RG]]),MG={class:"vc-day-popover-row"},OG={key:0,class:"vc-day-popover-row-indicator"},NG={class:"vc-day-popover-row-label"},LG=tn({__name:"PopoverRow",props:{attribute:null},setup(e){const t=e,n=G(()=>{const{content:s,highlight:i,dot:r,bar:o,popover:a}=t.attribute;return a&&a.hideIndicator?null:s?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${s.base.color}`}:i?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${i.base.color}`}:r?{class:`vc-dot vc-attr vc-${r.base.color}`}:o?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${o.base.color}`}:null});return(s,i)=>(lt(),gt("div",MG,[ft(n)?(lt(),gt("div",OG,[X("span",{class:se(ft(n).class)},null,2)])):Fe("",!0),X("div",NG,[rh(s.$slots,"default",{},()=>[lh(Je(e.attribute.popover?e.attribute.popover.label:"No content provided"),1)])])]))}}),VG={inheritAttrs:!1},os=tn({...VG,__name:"CalendarSlot",props:{name:null},setup(e){const n=VS(e.name);return(s,i)=>ft(n)?(lt(),Nn(Aw(ft(n)),IA(kl({key:0},s.$attrs)),null,16)):rh(s.$slots,"default",{key:1})}}),$G={class:"vc-day-popover-container"},FG={key:0,class:"vc-day-popover-header"},BG=tn({__name:"CalendarDayPopover",setup(e){const{dayPopoverId:t,displayMode:n,color:s,masks:i,locale:r}=Lr();function o(l,c){return r.value.formatDate(l,c)}function a(l){return r.value.formatDate(l.date,i.value.dayPopover)}return(l,c)=>(lt(),Nn(FS,{id:ft(t),class:se([`vc-${ft(s)}`,`vc-${ft(n)}`])},{default:me(({data:{day:u,attributes:f},hide:d})=>[xt(os,{name:"day-popover",day:u,"day-title":a(u),attributes:f,format:o,masks:ft(i),hide:d},{default:me(()=>[X("div",$G,[ft(i).dayPopover?(lt(),gt("div",FG,Je(a(u)),1)):Fe("",!0),(lt(!0),gt(te,null,pn(f,p=>(lt(),Nn(LG,{key:p.key,attribute:p},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),UG={},HG={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},jG=X("polyline",{points:"9 18 15 12 9 6"},null,-1),zG=[jG];function WG(e,t){return lt(),gt("svg",HG,zG)}const YG=Vr(UG,[["render",WG]]),qG={},KG={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},GG=X("polyline",{points:"15 18 9 12 15 6"},null,-1),XG=[GG];function QG(e,t){return lt(),gt("svg",KG,XG)}const JG=Vr(qG,[["render",QG]]),ZG={},tX={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},eX=X("polyline",{points:"6 9 12 15 18 9"},null,-1),nX=[eX];function sX(e,t){return lt(),gt("svg",tX,nX)}const iX=Vr(ZG,[["render",sX]]),rX={},oX={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},aX=X("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),lX=[aX];function cX(e,t){return lt(),gt("svg",oX,lX)}const uX=Vr(rX,[["render",cX]]),hX=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:iX,IconChevronLeft:JG,IconChevronRight:YG,IconClock:uX},Symbol.toStringTag,{value:"Module"})),Gu=tn({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(e){const t=e,n=G(()=>t.width||t.size),s=G(()=>t.height||t.size),i=G(()=>hX[`Icon${t.name}`]);return(r,o)=>(lt(),Nn(Aw(ft(i)),{width:ft(n),height:ft(s),class:"vc-base-icon"},null,8,["width","height"]))}}),fX=["disabled"],dX={key:1,class:"vc-title-wrapper"},pX={type:"button",class:"vc-title"},gX=["disabled"],BS=tn({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(e){const t=e,{navPopoverId:n,navVisibility:s,canMovePrev:i,movePrev:r,canMoveNext:o,moveNext:a}=Lr(),l=G(()=>{switch(t.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),c=G(()=>{const{page:_}=t;return{id:n.value,visibility:s.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:_},isInteractive:!0}}),u=G(()=>t.page.titlePosition.includes("left")),f=G(()=>t.page.titlePosition.includes("right")),d=G(()=>t.layout?t.layout:u.value?"tu-pn":f.value?"pn-tu":"p-tu-n;"),p=G(()=>({prev:d.value.includes("p")&&!t.hideArrows,title:d.value.includes("t")&&!t.hideTitle,next:d.value.includes("n")&&!t.hideArrows})),m=G(()=>({gridTemplateColumns:d.value.split("").map(y=>{switch(y){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(_,y)=>(lt(),gt("div",{class:se(["vc-header",{"is-lg":e.isLg,"is-xl":e.isXl,"is-2xl":e.is2xl}]),style:Qe(ft(m))},[ft(p).prev?(lt(),gt("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!ft(i),onClick:y[0]||(y[0]=(...T)=>ft(r)&&ft(r)(...T)),onKeydown:y[1]||(y[1]=mv((...T)=>ft(r)&&ft(r)(...T),["space","enter"]))},[xt(os,{name:"header-prev-button",disabled:!ft(i)},{default:me(()=>[xt(Gu,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,fX)):Fe("",!0),ft(p).title?(lt(),gt("div",dX,[xt(os,{name:"header-title-wrapper"},{default:me(()=>[ou((lt(),gt("button",pX,[xt(os,{name:"header-title",title:e.page.title},{default:me(()=>[X("span",null,Je(e.page.title),1)]),_:1},8,["title"])])),[[ft(MS),ft(c)]])]),_:1})])):Fe("",!0),ft(p).next?(lt(),gt("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!ft(o),onClick:y[2]||(y[2]=(...T)=>ft(a)&&ft(a)(...T)),onKeydown:y[3]||(y[3]=mv((...T)=>ft(a)&&ft(a)(...T),["space","enter"]))},[xt(os,{name:"header-next-button",disabled:!ft(o)},{default:me(()=>[xt(Gu,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,gX)):Fe("",!0)],6))}}),US=Symbol("__vc_page_context__");function mX(e){const{locale:t,getDateAddress:n,canMove:s}=Lr();function i(a,l){const{month:c,year:u}=n(new Date);return DS().map((f,d)=>{const p=d+1;return{month:p,year:a,id:Qq(p,a),label:t.value.formatDate(f,l),ariaLabel:t.value.formatDate(f,"MMMM"),isActive:p===e.value.month&&a===e.value.year,isCurrent:p===c&&a===u,isDisabled:!s({month:p,year:a},{position:e.value.position})}})}function r(a,l){const{year:c}=n(new Date),{position:u}=e.value,f=[];for(let d=a;d<=l;d+=1){const p=[...Array(12).keys()].some(m=>s({month:m+1,year:d},{position:u}));f.push({year:d,id:d.toString(),label:d.toString(),ariaLabel:d.toString(),isActive:d===e.value.year,isCurrent:d===c,isDisabled:!p})}return f}const o={page:e,getMonthItems:i,getYearItems:r};return Ei(US,o),o}function HS(){const e=gn(US);if(e)return e;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const vX={class:"vc-nav-header"},_X=["disabled"],yX=["disabled"],bX={class:"vc-nav-items"},wX=["data-id","aria-label","disabled","onClick","onKeydown"],TX=tn({__name:"CalendarNav",setup(e){const{masks:t,move:n}=Lr(),{page:s,getMonthItems:i,getYearItems:r}=HS(),o=Vt(!0),a=12,l=Vt(s.value.year),c=Vt(d(s.value.year)),u=Vt(null);function f(){setTimeout(()=>{if(u.value==null)return;const et=u.value.querySelector(".vc-nav-item:not(:disabled)");et&&et.focus()},10)}function d(et){return Math.floor(et/a)}function p(){o.value=!o.value}function m(et){return et*a}function _(et){return a*(et+1)-1}function y(){ot.value&&(o.value&&R(),k())}function T(){mt.value&&(o.value&&D(),O())}function R(){l.value--}function D(){l.value++}function k(){c.value--}function O(){c.value++}const L=G(()=>i(l.value,t.value.navMonths).map(et=>({...et,click:()=>n({month:et.month,year:et.year},{position:s.value.position})}))),E=G(()=>i(l.value-1,t.value.navMonths)),b=G(()=>E.value.some(et=>!et.isDisabled)),w=G(()=>i(l.value+1,t.value.navMonths)),A=G(()=>w.value.some(et=>!et.isDisabled)),x=G(()=>r(m(c.value),_(c.value)).map(et=>({...et,click:()=>{l.value=et.year,o.value=!0,f()}}))),C=G(()=>r(m(c.value-1),_(c.value-1))),S=G(()=>C.value.some(et=>!et.isDisabled)),dt=G(()=>r(m(c.value+1),_(c.value+1))),Q=G(()=>dt.value.some(et=>!et.isDisabled)),at=G(()=>o.value?L.value:x.value),ot=G(()=>o.value?b.value:S.value),mt=G(()=>o.value?A.value:Q.value),Nt=G(()=>dS(x.value.map(et=>et.year))),z=G(()=>no(x.value.map(et=>et.year))),At=G(()=>o.value?l.value:`${Nt.value} - ${z.value}`);return Uw(()=>{l.value=s.value.year,f()}),an(()=>l.value,et=>c.value=d(et)),ys(()=>f()),(et,Pt)=>(lt(),gt("div",{class:"vc-nav-container",ref_key:"navContainer",ref:u},[X("div",vX,[X("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!ft(ot),onClick:y,onKeydown:Pt[0]||(Pt[0]=Rt=>ft(Oc)(Rt,y))},[xt(os,{name:"nav-prev-button",move:y,disabled:!ft(ot)},{default:me(()=>[xt(Gu,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,_X),X("button",{type:"button",class:"vc-nav-title vc-focus",onClick:p,onKeydown:Pt[1]||(Pt[1]=Rt=>ft(Oc)(Rt,p))},Je(ft(At)),33),X("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!ft(mt),onClick:T,onKeydown:Pt[2]||(Pt[2]=Rt=>ft(Oc)(Rt,T))},[xt(os,{name:"nav-next-button",move:T,disabled:!ft(mt)},{default:me(()=>[xt(Gu,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,yX)]),X("div",bX,[(lt(!0),gt(te,null,pn(ft(at),Rt=>(lt(),gt("button",{key:Rt.label,type:"button","data-id":Rt.id,"aria-label":Rt.ariaLabel,class:se(["vc-nav-item vc-focus",[Rt.isActive?"is-active":Rt.isCurrent?"is-current":""]]),disabled:Rt.isDisabled,onClick:Rt.click,onKeydown:Wt=>ft(Oc)(Wt,Rt.click)},Je(Rt.label),43,wX))),128))])],512))}}),jS=tn({__name:"CalendarPageProvider",props:{page:null},setup(e){return mX(tC(e,"page")),(n,s)=>rh(n.$slots,"default")}}),EX=tn({__name:"CalendarNavPopover",setup(e){const{navPopoverId:t,color:n,displayMode:s}=Lr();return(i,r)=>(lt(),Nn(FS,{id:ft(t),class:se(["vc-nav-popover-container",`vc-${ft(n)}`,`vc-${ft(s)}`])},{default:me(({data:o})=>[xt(jS,{page:o.page},{default:me(()=>[xt(os,{name:"nav"},{default:me(()=>[xt(TX)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),IX=tn({directives:{popover:MS},components:{CalendarSlot:os},props:{day:{type:Object,required:!0}},setup(e){const{locale:t,theme:n,attributeContext:s,dayPopoverId:i,onDayClick:r,onDayMouseenter:o,onDayMouseleave:a,onDayFocusin:l,onDayFocusout:c,onDayKeydown:u}=Lr(),f=G(()=>e.day),d=G(()=>s.value.getCells(f.value)),p=G(()=>d.value.map(Q=>Q.data)),m=G(()=>({...f.value,attributes:p.value,attributeCells:d.value}));function _({data:Q},{popovers:at}){const{key:ot,customData:mt,popover:Nt}=Q;if(!Nt)return;const z=c0({key:ot,customData:mt,attribute:Q},{...Nt},{visibility:Nt.label?"hover":"click",placement:"bottom",isInteractive:!Nt.label});at.splice(0,0,z)}const y=G(()=>{const Q={...n.value.prepareRender({}),popovers:[]};return d.value.forEach(at=>{n.value.render(at,Q),_(at,Q)}),Q}),T=G(()=>y.value.highlights),R=G(()=>!!fr(T.value)),D=G(()=>y.value.content),k=G(()=>y.value.dots),O=G(()=>!!fr(k.value)),L=G(()=>y.value.bars),E=G(()=>!!fr(L.value)),b=G(()=>y.value.popovers),w=G(()=>b.value.map(Q=>Q.attribute)),A=VS("day-content"),x=G(()=>["vc-day",...f.value.classes,{"vc-day-box-center-center":!A},{"is-not-in-month":!e.day.inMonth}]),C=G(()=>{let Q;f.value.isFocusable?Q="0":Q="-1";const at=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":f.value.isDisabled},hr(no(T.value),"contentClass"),hr(no(D.value),"class")||""],ot={...hr(no(T.value),"contentStyle"),...hr(no(D.value),"style")};return{class:at,style:ot,tabindex:Q,"aria-label":f.value.ariaLabel,"aria-disabled":!!f.value.isDisabled,role:"button"}}),S=G(()=>({click(Q){r(m.value,Q)},mouseenter(Q){o(m.value,Q)},mouseleave(Q){a(m.value,Q)},focusin(Q){l(m.value,Q)},focusout(Q){c(m.value,Q)},keydown(Q){u(m.value,Q)}})),dt=G(()=>fr(b.value)?c0({id:i.value,data:{day:f,attributes:w.value}},...b.value):null);return{attributes:p,attributeCells:d,bars:L,dayClasses:x,dayContentProps:C,dayContentEvents:S,dayPopover:dt,glyphs:y,dots:k,hasDots:O,hasBars:E,highlights:T,hasHighlights:R,locale:t,popovers:b}}}),SX={key:0,class:"vc-highlights vc-day-layer"},AX={key:1,class:"vc-day-layer vc-day-box-center-bottom"},CX={class:"vc-dots"},xX={key:2,class:"vc-day-layer vc-day-box-center-bottom"},PX={class:"vc-bars"};function kX(e,t,n,s,i,r){const o=Ms("CalendarSlot"),a=EC("popover");return lt(),gt("div",{class:se(e.dayClasses)},[e.hasHighlights?(lt(),gt("div",SX,[(lt(!0),gt(te,null,pn(e.highlights,({key:l,wrapperClass:c,class:u,style:f})=>(lt(),gt("div",{key:l,class:se(c)},[X("div",{class:se(u),style:Qe(f)},null,6)],2))),128))])):Fe("",!0),xt(o,{name:"day-content",day:e.day,attributes:e.attributes,"attribute-cells":e.attributeCells,dayProps:e.dayContentProps,dayEvents:e.dayContentEvents,locale:e.locale},{default:me(()=>[ou((lt(),gt("div",kl(e.dayContentProps,IC(e.dayContentEvents,!0)),[lh(Je(e.day.label),1)],16)),[[a,e.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),e.hasDots?(lt(),gt("div",AX,[X("div",CX,[(lt(!0),gt(te,null,pn(e.dots,({key:l,class:c,style:u})=>(lt(),gt("span",{key:l,class:se(c),style:Qe(u)},null,6))),128))])])):Fe("",!0),e.hasBars?(lt(),gt("div",xX,[X("div",PX,[(lt(!0),gt(te,null,pn(e.bars,({key:l,class:c,style:u})=>(lt(),gt("span",{key:l,class:se(c),style:Qe(u)},null,6))),128))])])):Fe("",!0)],2)}const DX=Vr(IX,[["render",kX]]),RX={class:"vc-weekdays"},MX=["onClick"],OX={inheritAttrs:!1},NX=tn({...OX,__name:"CalendarPage",setup(e){const{page:t}=HS(),{onWeeknumberClick:n}=Lr();return(s,i)=>(lt(),gt("div",{class:se(["vc-pane",`row-${ft(t).row}`,`row-from-end-${ft(t).rowFromEnd}`,`column-${ft(t).column}`,`column-from-end-${ft(t).columnFromEnd}`]),ref:"pane"},[xt(BS,{page:ft(t),"is-lg":"","hide-arrows":""},null,8,["page"]),X("div",{class:se(["vc-weeks",{[`vc-show-weeknumbers-${ft(t).weeknumberPosition}`]:ft(t).weeknumberPosition}])},[X("div",RX,[(lt(!0),gt(te,null,pn(ft(t).weekdays,({weekday:r,label:o},a)=>(lt(),gt("div",{key:a,class:se(`vc-weekday vc-weekday-${r}`)},Je(o),3))),128))]),(lt(!0),gt(te,null,pn(ft(t).viewWeeks,r=>(lt(),gt("div",{key:`weeknumber-${r.weeknumber}`,class:"vc-week"},[ft(t).weeknumberPosition?(lt(),gt("div",{key:0,class:se(["vc-weeknumber",`is-${ft(t).weeknumberPosition}`])},[X("span",{class:se(["vc-weeknumber-content"]),onClick:o=>ft(n)(r,o)},Je(r.weeknumberDisplay),9,MX)],2)):Fe("",!0),(lt(!0),gt(te,null,pn(r.days,o=>(lt(),Nn(DX,{key:o.id,day:o},null,8,["day"]))),128))]))),128))],2)],2))}}),LX=tn({components:{CalendarHeader:BS,CalendarPage:NX,CalendarNavPopover:EX,CalendarDayPopover:BG,CalendarPageProvider:jS,CalendarSlot:os},props:xG,emit:PG,setup(e,{emit:t,slots:n}){return kG(e,{emit:t,slots:n})}}),VX={class:"vc-pane-header-wrapper"};function $X(e,t,n,s,i,r){const o=Ms("CalendarHeader"),a=Ms("CalendarPage"),l=Ms("CalendarSlot"),c=Ms("CalendarPageProvider"),u=Ms("CalendarDayPopover"),f=Ms("CalendarNavPopover");return lt(),gt(te,null,[X("div",kl({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},e.$attrs,{class:["vc-container",`vc-${e.view}`,`vc-${e.color}`,`vc-${e.displayMode}`,{"vc-expanded":e.expanded,"vc-bordered":!e.borderless,"vc-transparent":e.transparent}],onMouseup:t[0]||(t[0]=dp(()=>{},["prevent"])),ref:"containerRef"}),[X("div",{class:se(["vc-pane-container",{"in-transition":e.inTransition}])},[X("div",VX,[e.firstPage?(lt(),Nn(o,{key:0,page:e.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):Fe("",!0)]),xt(uh,{name:`vc-${e.transitionName}`,onBeforeEnter:e.onTransitionBeforeEnter,onAfterEnter:e.onTransitionAfterEnter},{default:me(()=>[(lt(),gt("div",{key:e.pages[0].id,class:"vc-pane-layout",style:Qe({gridTemplateColumns:`repeat(${e.columns}, 1fr)`})},[(lt(!0),gt(te,null,pn(e.pages,d=>(lt(),Nn(c,{key:d.id,page:d},{default:me(()=>[xt(l,{name:"page",page:d},{default:me(()=>[xt(a)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),xt(l,{name:"footer"})],2)],16),xt(u),xt(f)],64)}const FX=Vr(LX,[["render",$X]]),BX={class:"calendar-container"},UX={class:"calendar-heatmap themed-calendar"},HX={key:0,class:"day-info-box"},jX={key:0},zX={__name:"Calendar",setup(e){const t=Vt({}),n=Vt([]),s=new Date,i=Vt(new Date(s.getFullYear(),s.getMonth(),1)),r=Vt(null);function o(p){return p.toString().padStart(2,"0")}function a(){const p={};for(let m=0;m<localStorage.length;m++){const _=localStorage.key(m);if(_&&_.startsWith("groups_")){const y=_.replace("groups_",""),[T,R,D]=y.split("-").map(Number),O=JSON.parse(localStorage.getItem(_)||"[]").reduce((E,b)=>E+b.count,0),L=`${T}-${o(R)}-${o(D)}`;p[L]=O}}return p}async function l(){await mo(),t.value=a(),n.value=Object.entries(t.value).map(([p,m])=>({key:p,highlight:!0,dates:p})),mo(()=>d())}ys(()=>{l()}),an(i,()=>{l()});let c=null;function u(p){const m=p[0].monthTitle;m!==c&&(t.value=a(),c=m)}const f=G(()=>r.value?t.value[r.value]||0:null),d=()=>{document.querySelectorAll(".vc-day").forEach(m=>{const _=[...m.classList].find(x=>x.includes("id-")).replace("id-","");if(!_)return;const y=t.value[_]||0;if(y===0)return;const T=m.querySelector(".vc-highlights");if(!T)return;const R=.7+.7*Math.min(y/10,1);T.style.transform=`scale(${R})`;const D=getComputedStyle(document.documentElement).getPropertyValue("--accent").split(",").map(Number),k=getComputedStyle(document.documentElement).getPropertyValue("--primary").split(",").map(Number),O=Math.max(0,Math.min(1,(R-.7)/.7)),L=(x,C,S)=>Math.round(x+(C-x)*S),E=L(D[0],k[0],O),b=L(D[1],k[1],O),w=L(D[2],k[2],O),A=`rgb(${E},${b},${w})`;T.style.backgroundColor=A})};return(p,m)=>(lt(),gt("div",BX,[X("button",{class:"back-btn",onClick:m[0]||(m[0]=_=>p.$router.push("/")),"aria-label":"Back"},m[2]||(m[2]=[X("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none"},[X("path",{d:"M15 19l-7-7 7-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),X("div",UX,[xt(ft(FX),{modelValue:i.value,"onUpdate:modelValue":m[1]||(m[1]=_=>i.value=_),attributes:n.value,"show-months":1,"title-position":"left","max-date":ft(s),borderless:"",transparent:"","onUpdate:pages":u},null,8,["modelValue","attributes","max-date"])]),r.value?(lt(),gt("div",HX,[X("span",null,"День: "+Je(r.value),1),f.value!==null?(lt(),gt("span",jX,"Чіхів: "+Je(f.value),1)):Fe("",!0)])):Fe("",!0)]))}},WX=Bi(zX,[["__scopeId","data-v-1003c716"]]),YX=[{path:"/",component:OL,meta:{requiresAuth:!0}},{path:"/stats",component:J4,meta:{requiresAuth:!0}},{path:"/calendar",component:WX,meta:{requiresAuth:!0}},{path:"/auth",component:e3},{path:"/settings",component:h3,meta:{requiresAuth:!0}}],zS=KP({history:EP(),routes:YX});zS.beforeEach((e,t,n)=>{const s=e.matched.some(r=>r.meta.requiresAuth),i=Tr.currentUser;if(s&&!i){const r=Tr.onAuthStateChanged(o=>{r(),o?n():n("/auth")})}else n()});const qX=localStorage.getItem("color-primary")||"#2F5249",KX=localStorage.getItem("color-accent")||"#E3DE61";document.documentElement.style.setProperty("--primary",qX);document.documentElement.style.setProperty("--accent",KX);Ux(Wx).use(zS).mount("#app");
